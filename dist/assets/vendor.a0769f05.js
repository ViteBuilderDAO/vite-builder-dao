function Mn(t,e){const r=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return e?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const Co="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ko=Mn(Co);function Ii(t){return!!t||t===""}function En(t){if(ct(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=zt(n)?Uo(n):En(n);if(i)for(const s in i)e[s]=i[s]}return e}else{if(zt(t))return t;if(Kt(t))return t}}const Bo=/;(?![^(]*\))/g,No=/:(.+)/;function Uo(t){const e={};return t.split(Bo).forEach(r=>{if(r){const n=r.split(No);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function xn(t){let e="";if(zt(t))e=t;else if(ct(t))for(let r=0;r<t.length;r++){const n=xn(t[r]);n&&(e+=n+" ")}else if(Kt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const _t={},He=[],oe=()=>{},jo=()=>!1,$o=/^on[^a-z]/,wr=t=>$o.test(t),Tn=t=>t.startsWith("onUpdate:"),Wt=Object.assign,Ci=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Do=Object.prototype.hasOwnProperty,pt=(t,e)=>Do.call(t,e),ct=Array.isArray,er=t=>Mr(t)==="[object Map]",Lo=t=>Mr(t)==="[object Set]",lt=t=>typeof t=="function",zt=t=>typeof t=="string",An=t=>typeof t=="symbol",Kt=t=>t!==null&&typeof t=="object",ki=t=>Kt(t)&&lt(t.then)&&lt(t.catch),Fo=Object.prototype.toString,Mr=t=>Fo.call(t),Ho=t=>Mr(t).slice(8,-1),qo=t=>Mr(t)==="[object Object]",Sn=t=>zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Er=Mn(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),xr=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},zo=/-(\w)/g,he=xr(t=>t.replace(zo,(e,r)=>r?r.toUpperCase():"")),Ko=/\B([A-Z])/g,qe=xr(t=>t.replace(Ko,"-$1").toLowerCase()),Tr=xr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rn=xr(t=>t?`on${Tr(t)}`:""),rr=(t,e)=>!Object.is(t,e),Ar=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Sr=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Pn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Bi;const Yo=()=>Bi||(Bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Oe;const Rr=[];class Wo{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Oe&&(this.parent=Oe,this.index=(Oe.scopes||(Oe.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Rr.push(this),Oe=this)}off(){this.active&&(Rr.pop(),Oe=Rr[Rr.length-1])}stop(e){if(this.active){if(this.effects.forEach(r=>r.stop()),this.cleanups.forEach(r=>r()),this.scopes&&this.scopes.forEach(r=>r.stop(!0)),this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Jo(t,e){e=e||Oe,e&&e.active&&e.effects.push(t)}const On=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Ni=t=>(t.w&be)>0,Ui=t=>(t.n&be)>0,Go=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=be},Zo=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const i=e[n];Ni(i)&&!Ui(i)?i.delete(t):e[r++]=i,i.w&=~be,i.n&=~be}e.length=r}},In=new WeakMap;let nr=0,be=1;const Cn=30,ir=[];let Ie;const Ce=Symbol(""),kn=Symbol("");class Bn{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],Jo(this,n)}run(){if(!this.active)return this.fn();if(!ir.includes(this))try{return ir.push(Ie=this),Qo(),be=1<<++nr,nr<=Cn?Go(this):ji(this),this.fn()}finally{nr<=Cn&&Zo(this),be=1<<--nr,ke(),ir.pop();const e=ir.length;Ie=e>0?ir[e-1]:void 0}}stop(){this.active&&(ji(this),this.onStop&&this.onStop(),this.active=!1)}}function ji(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let ze=!0;const Nn=[];function Ke(){Nn.push(ze),ze=!1}function Qo(){Nn.push(ze),ze=!0}function ke(){const t=Nn.pop();ze=t===void 0?!0:t}function Vt(t,e,r){if(!$i())return;let n=In.get(t);n||In.set(t,n=new Map);let i=n.get(r);i||n.set(r,i=On()),Di(i)}function $i(){return ze&&Ie!==void 0}function Di(t,e){let r=!1;nr<=Cn?Ui(t)||(t.n|=be,r=!Ni(t)):r=!t.has(Ie),r&&(t.add(Ie),Ie.deps.push(t))}function ge(t,e,r,n,i,s){const u=In.get(t);if(!u)return;let d=[];if(e==="clear")d=[...u.values()];else if(r==="length"&&ct(t))u.forEach((v,A)=>{(A==="length"||A>=n)&&d.push(v)});else switch(r!==void 0&&d.push(u.get(r)),e){case"add":ct(t)?Sn(r)&&d.push(u.get("length")):(d.push(u.get(Ce)),er(t)&&d.push(u.get(kn)));break;case"delete":ct(t)||(d.push(u.get(Ce)),er(t)&&d.push(u.get(kn)));break;case"set":er(t)&&d.push(u.get(Ce));break}if(d.length===1)d[0]&&Un(d[0]);else{const v=[];for(const A of d)A&&v.push(...A);Un(On(v))}}function Un(t,e){for(const r of ct(t)?t:[...t])(r!==Ie||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Xo=Mn("__proto__,__v_isRef,__isVue"),Li=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(An)),Vo=jn(),ta=jn(!1,!0),ea=jn(!0),Fi=ra();function ra(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=gt(this);for(let s=0,u=this.length;s<u;s++)Vt(n,"get",s+"");const i=n[e](...r);return i===-1||i===!1?n[e](...r.map(gt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Ke();const n=gt(this)[e].apply(this,r);return ke(),n}}),t}function jn(t=!1,e=!1){return function(n,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_raw"&&s===(t?e?ya:Zi:e?Gi:Ji).get(n))return n;const u=ct(n);if(!t&&u&&pt(Fi,i))return Reflect.get(Fi,i,s);const d=Reflect.get(n,i,s);return(An(i)?Li.has(i):Xo(i))||(t||Vt(n,"get",i),e)?d:Qt(d)?!u||!Sn(i)?d.value:d:Kt(d)?t?Qi(d):Ln(d):d}}const na=Hi(),ia=Hi(!0);function Hi(t=!1){return function(r,n,i,s){let u=r[n];if(!t&&(i=gt(i),u=gt(u),!ct(r)&&Qt(u)&&!Qt(i)))return u.value=i,!0;const d=ct(r)&&Sn(n)?Number(n)<r.length:pt(r,n),v=Reflect.set(r,n,i,s);return r===gt(s)&&(d?rr(i,u)&&ge(r,"set",n,i):ge(r,"add",n,i)),v}}function sa(t,e){const r=pt(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&ge(t,"delete",e,void 0),n}function oa(t,e){const r=Reflect.has(t,e);return(!An(e)||!Li.has(e))&&Vt(t,"has",e),r}function aa(t){return Vt(t,"iterate",ct(t)?"length":Ce),Reflect.ownKeys(t)}const qi={get:Vo,set:na,deleteProperty:sa,has:oa,ownKeys:aa},ua={get:ea,set(t,e){return!0},deleteProperty(t,e){return!0}},la=Wt({},qi,{get:ta,set:ia}),$n=t=>t,Pr=t=>Reflect.getPrototypeOf(t);function Or(t,e,r=!1,n=!1){t=t.__v_raw;const i=gt(t),s=gt(e);e!==s&&!r&&Vt(i,"get",e),!r&&Vt(i,"get",s);const{has:u}=Pr(i),d=n?$n:r?Hn:sr;if(u.call(i,e))return d(t.get(e));if(u.call(i,s))return d(t.get(s));t!==i&&t.get(e)}function Ir(t,e=!1){const r=this.__v_raw,n=gt(r),i=gt(t);return t!==i&&!e&&Vt(n,"has",t),!e&&Vt(n,"has",i),t===i?r.has(t):r.has(t)||r.has(i)}function Cr(t,e=!1){return t=t.__v_raw,!e&&Vt(gt(t),"iterate",Ce),Reflect.get(t,"size",t)}function zi(t){t=gt(t);const e=gt(this);return Pr(e).has.call(e,t)||(e.add(t),ge(e,"add",t,t)),this}function Ki(t,e){e=gt(e);const r=gt(this),{has:n,get:i}=Pr(r);let s=n.call(r,t);s||(t=gt(t),s=n.call(r,t));const u=i.call(r,t);return r.set(t,e),s?rr(e,u)&&ge(r,"set",t,e):ge(r,"add",t,e),this}function Yi(t){const e=gt(this),{has:r,get:n}=Pr(e);let i=r.call(e,t);i||(t=gt(t),i=r.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return i&&ge(e,"delete",t,void 0),s}function Wi(){const t=gt(this),e=t.size!==0,r=t.clear();return e&&ge(t,"clear",void 0,void 0),r}function kr(t,e){return function(n,i){const s=this,u=s.__v_raw,d=gt(u),v=e?$n:t?Hn:sr;return!t&&Vt(d,"iterate",Ce),u.forEach((A,m)=>n.call(i,v(A),v(m),s))}}function Br(t,e,r){return function(...n){const i=this.__v_raw,s=gt(i),u=er(s),d=t==="entries"||t===Symbol.iterator&&u,v=t==="keys"&&u,A=i[t](...n),m=r?$n:e?Hn:sr;return!e&&Vt(s,"iterate",v?kn:Ce),{next(){const{value:w,done:C}=A.next();return C?{value:w,done:C}:{value:d?[m(w[0]),m(w[1])]:m(w),done:C}},[Symbol.iterator](){return this}}}}function we(t){return function(...e){return t==="delete"?!1:this}}function ha(){const t={get(s){return Or(this,s)},get size(){return Cr(this)},has:Ir,add:zi,set:Ki,delete:Yi,clear:Wi,forEach:kr(!1,!1)},e={get(s){return Or(this,s,!1,!0)},get size(){return Cr(this)},has:Ir,add:zi,set:Ki,delete:Yi,clear:Wi,forEach:kr(!1,!0)},r={get(s){return Or(this,s,!0)},get size(){return Cr(this,!0)},has(s){return Ir.call(this,s,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:kr(!0,!1)},n={get(s){return Or(this,s,!0,!0)},get size(){return Cr(this,!0)},has(s){return Ir.call(this,s,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:kr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Br(s,!1,!1),r[s]=Br(s,!0,!1),e[s]=Br(s,!1,!0),n[s]=Br(s,!0,!0)}),[t,r,e,n]}const[ca,fa,da,pa]=ha();function Dn(t,e){const r=e?t?pa:da:t?fa:ca;return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(pt(r,i)&&i in n?r:n,i,s)}const ma={get:Dn(!1,!1)},ga={get:Dn(!1,!0)},va={get:Dn(!0,!1)},Ji=new WeakMap,Gi=new WeakMap,Zi=new WeakMap,ya=new WeakMap;function _a(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ba(t){return t.__v_skip||!Object.isExtensible(t)?0:_a(Ho(t))}function Ln(t){return t&&t.__v_isReadonly?t:Fn(t,!1,qi,ma,Ji)}function wa(t){return Fn(t,!1,la,ga,Gi)}function Qi(t){return Fn(t,!0,ua,va,Zi)}function Fn(t,e,r,n,i){if(!Kt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const u=ba(t);if(u===0)return t;const d=new Proxy(t,u===2?n:r);return i.set(t,d),d}function Ye(t){return Xi(t)?Ye(t.__v_raw):!!(t&&t.__v_isReactive)}function Xi(t){return!!(t&&t.__v_isReadonly)}function Vi(t){return Ye(t)||Xi(t)}function gt(t){const e=t&&t.__v_raw;return e?gt(e):t}function ts(t){return Sr(t,"__v_skip",!0),t}const sr=t=>Kt(t)?Ln(t):t,Hn=t=>Kt(t)?Qi(t):t;function es(t){$i()&&(t=gt(t),t.dep||(t.dep=On()),Di(t.dep))}function rs(t,e){t=gt(t),t.dep&&Un(t.dep)}function Qt(t){return Boolean(t&&t.__v_isRef===!0)}function qn(t){return Ma(t,!1)}function Ma(t,e){return Qt(t)?t:new Ea(t,e)}class Ea{constructor(e,r){this._shallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:gt(e),this._value=r?e:sr(e)}get value(){return es(this),this._value}set value(e){e=this._shallow?e:gt(e),rr(e,this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:sr(e),rs(this))}}function xa(t){return Qt(t)?t.value:t}const Ta={get:(t,e,r)=>xa(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Qt(i)&&!Qt(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function ns(t){return Ye(t)?t:new Proxy(t,Ta)}class Aa{constructor(e,r,n){this._setter=r,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new Bn(e,()=>{this._dirty||(this._dirty=!0,rs(this))}),this.__v_isReadonly=n}get value(){const e=gt(this);return es(e),e._dirty&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Sa(t,e){let r,n;const i=lt(t);return i?(r=t,n=oe):(r=t.get,n=t.set),new Aa(r,n,i||!n)}Promise.resolve();function Ra(t,e,...r){const n=t.vnode.props||_t;let i=r;const s=e.startsWith("update:"),u=s&&e.slice(7);if(u&&u in n){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:w,trim:C}=n[m]||_t;C?i=r.map(x=>x.trim()):w&&(i=r.map(Pn))}let d,v=n[d=Rn(e)]||n[d=Rn(he(e))];!v&&s&&(v=n[d=Rn(qe(e))]),v&&ue(v,t,6,i);const A=n[d+"Once"];if(A){if(!t.emitted)t.emitted={};else if(t.emitted[d])return;t.emitted[d]=!0,ue(A,t,6,i)}}function is(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let u={},d=!1;if(!lt(t)){const v=A=>{const m=is(A,e,!0);m&&(d=!0,Wt(u,m))};!r&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}return!s&&!d?(n.set(t,null),null):(ct(s)?s.forEach(v=>u[v]=null):Wt(u,s),n.set(t,u),u)}function zn(t,e){return!t||!wr(e)?!1:(e=e.slice(2).replace(/Once$/,""),pt(t,e[0].toLowerCase()+e.slice(1))||pt(t,qe(e))||pt(t,e))}let ae=null,ss=null;function Nr(t){const e=ae;return ae=t,ss=t&&t.type.__scopeId||null,e}function Pa(t,e=ae,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&Rs(-1);const s=Nr(e),u=t(...i);return Nr(s),n._d&&Rs(1),u};return n._n=!0,n._c=!0,n._d=!0,n}function Kn(t){const{type:e,vnode:r,proxy:n,withProxy:i,props:s,propsOptions:[u],slots:d,attrs:v,emit:A,render:m,renderCache:w,data:C,setupState:x,ctx:O,inheritAttrs:M}=t;let R,B;const q=Nr(t);try{if(r.shapeFlag&4){const E=i||n;R=fe(m.call(E,E,w,s,x,C,O)),B=v}else{const E=e;R=fe(E.length>1?E(s,{attrs:v,slots:d,emit:A}):E(s,null)),B=e.props?v:Oa(v)}}catch(E){ar.length=0,qr(E,t,1),R=ne(or)}let _=R;if(B&&M!==!1){const E=Object.keys(B),{shapeFlag:I}=_;E.length&&I&(1|6)&&(u&&E.some(Tn)&&(B=Ia(B,u)),_=lr(_,B))}return r.dirs&&(_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&(_.transition=r.transition),R=_,Nr(q),R}const Oa=t=>{let e;for(const r in t)(r==="class"||r==="style"||wr(r))&&((e||(e={}))[r]=t[r]);return e},Ia=(t,e)=>{const r={};for(const n in t)(!Tn(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Ca(t,e,r){const{props:n,children:i,component:s}=t,{props:u,children:d,patchFlag:v}=e,A=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&v>=0){if(v&1024)return!0;if(v&16)return n?os(n,u,A):!!u;if(v&8){const m=e.dynamicProps;for(let w=0;w<m.length;w++){const C=m[w];if(u[C]!==n[C]&&!zn(A,C))return!0}}}else return(i||d)&&(!d||!d.$stable)?!0:n===u?!1:n?u?os(n,u,A):!0:!!u;return!1}function os(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!zn(r,s))return!0}return!1}function ka({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Ba=t=>t.__isSuspense;function Na(t,e){e&&e.pendingBranch?ct(t)?e.effects.push(...t):e.effects.push(t):Iu(t)}function Ua(t,e){if(Lt){let r=Lt.provides;const n=Lt.parent&&Lt.parent.provides;n===r&&(r=Lt.provides=Object.create(n)),r[t]=e}}function Yn(t,e,r=!1){const n=Lt||ae;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&t in i)return i[t];if(arguments.length>1)return r&&lt(e)?e.call(n.proxy):e}}function Wn(t){return lt(t)?{setup:t,name:t.name}:t}const Jn=t=>!!t.type.__asyncLoader,as=t=>t.type.__isKeepAlive;function ja(t,e){us(t,"a",e)}function $a(t,e){us(t,"da",e)}function us(t,e,r=Lt){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}t()});if(Ur(e,n,r),r){let i=r.parent;for(;i&&i.parent;)as(i.parent.vnode)&&Da(n,e,r,i),i=i.parent}}function Da(t,e,r,n){const i=Ur(e,t,n,!0);hs(()=>{Ci(n[e],i)},r)}function Ur(t,e,r=Lt,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...u)=>{if(r.isUnmounted)return;Ke(),We(r);const d=ue(e,r,t,u);return je(),ke(),d});return n?i.unshift(s):i.push(s),s}}const ve=t=>(e,r=Lt)=>(!Hr||t==="sp")&&Ur(t,e,r),La=ve("bm"),ls=ve("m"),Fa=ve("bu"),Gn=ve("u"),Ha=ve("bum"),hs=ve("um"),qa=ve("sp"),za=ve("rtg"),Ka=ve("rtc");function Ya(t,e=Lt){Ur("ec",t,e)}let Zn=!0;function Wa(t){const e=ds(t),r=t.proxy,n=t.ctx;Zn=!1,e.beforeCreate&&cs(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:u,watch:d,provide:v,inject:A,created:m,beforeMount:w,mounted:C,beforeUpdate:x,updated:O,activated:M,deactivated:R,beforeDestroy:B,beforeUnmount:q,destroyed:_,unmounted:E,render:I,renderTracked:z,renderTriggered:J,errorCaptured:Q,serverPrefetch:N,expose:W,inheritAttrs:Y,components:G,directives:o,filters:a}=e;if(A&&Ja(A,n,null,t.appContext.config.unwrapInjectedRef),u)for(const l in u){const g=u[l];lt(g)&&(n[l]=g.bind(r))}if(i){const l=i.call(r,r);Kt(l)&&(t.data=Ln(l))}if(Zn=!0,s)for(const l in s){const g=s[l],P=lt(g)?g.bind(r,r):lt(g.get)?g.get.bind(r,r):oe,D=!lt(g)&&lt(g.set)?g.set.bind(r):oe,$=Sa({get:P,set:D});Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>$.value,set:U=>$.value=U})}if(d)for(const l in d)fs(d[l],n,r,l);if(v){const l=lt(v)?v.call(r):v;Reflect.ownKeys(l).forEach(g=>{Ua(g,l[g])})}m&&cs(m,t,"c");function h(l,g){ct(g)?g.forEach(P=>l(P.bind(r))):g&&l(g.bind(r))}if(h(La,w),h(ls,C),h(Fa,x),h(Gn,O),h(ja,M),h($a,R),h(Ya,Q),h(Ka,z),h(za,J),h(Ha,q),h(hs,E),h(qa,N),ct(W))if(W.length){const l=t.exposed||(t.exposed={});W.forEach(g=>{Object.defineProperty(l,g,{get:()=>r[g],set:P=>r[g]=P})})}else t.exposed||(t.exposed={});I&&t.render===oe&&(t.render=I),Y!=null&&(t.inheritAttrs=Y),G&&(t.components=G),o&&(t.directives=o)}function Ja(t,e,r=oe,n=!1){ct(t)&&(t=Qn(t));for(const i in t){const s=t[i];let u;Kt(s)?"default"in s?u=Yn(s.from||i,s.default,!0):u=Yn(s.from||i):u=Yn(s),Qt(u)&&n?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):e[i]=u}}function cs(t,e,r){ue(ct(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function fs(t,e,r,n){const i=n.includes(".")?zs(r,n):()=>r[n];if(zt(t)){const s=e[t];lt(s)&&ci(i,s)}else if(lt(t))ci(i,t.bind(r));else if(Kt(t))if(ct(t))t.forEach(s=>fs(s,e,r,n));else{const s=lt(t.handler)?t.handler.bind(r):e[t.handler];lt(s)&&ci(i,s,t)}}function ds(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:u}}=t.appContext,d=s.get(e);let v;return d?v=d:!i.length&&!r&&!n?v=e:(v={},i.length&&i.forEach(A=>jr(v,A,u,!0)),jr(v,e,u)),s.set(e,v),v}function jr(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&jr(t,s,r,!0),i&&i.forEach(u=>jr(t,u,r,!0));for(const u in e)if(!(n&&u==="expose")){const d=Ga[u]||r&&r[u];t[u]=d?d(t[u],e[u]):e[u]}return t}const Ga={data:ps,props:Be,emits:Be,methods:Be,computed:Be,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Be,directives:Be,watch:Qa,provide:ps,inject:Za};function ps(t,e){return e?t?function(){return Wt(lt(t)?t.call(this,this):t,lt(e)?e.call(this,this):e)}:e:t}function Za(t,e){return Be(Qn(t),Qn(e))}function Qn(t){if(ct(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Be(t,e){return t?Wt(Wt(Object.create(null),t),e):e}function Qa(t,e){if(!t)return e;if(!e)return t;const r=Wt(Object.create(null),t);for(const n in e)r[n]=Jt(t[n],e[n]);return r}function Xa(t,e,r,n=!1){const i={},s={};Sr(s,Dr,1),t.propsDefaults=Object.create(null),ms(t,e,i,s);for(const u in t.propsOptions[0])u in i||(i[u]=void 0);r?t.props=n?i:wa(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Va(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:u}}=t,d=gt(i),[v]=t.propsOptions;let A=!1;if((n||u>0)&&!(u&16)){if(u&8){const m=t.vnode.dynamicProps;for(let w=0;w<m.length;w++){let C=m[w];const x=e[C];if(v)if(pt(s,C))x!==s[C]&&(s[C]=x,A=!0);else{const O=he(C);i[O]=Xn(v,d,O,x,t,!1)}else x!==s[C]&&(s[C]=x,A=!0)}}}else{ms(t,e,i,s)&&(A=!0);let m;for(const w in d)(!e||!pt(e,w)&&((m=qe(w))===w||!pt(e,m)))&&(v?r&&(r[w]!==void 0||r[m]!==void 0)&&(i[w]=Xn(v,d,w,void 0,t,!0)):delete i[w]);if(s!==d)for(const w in s)(!e||!pt(e,w))&&(delete s[w],A=!0)}A&&ge(t,"set","$attrs")}function ms(t,e,r,n){const[i,s]=t.propsOptions;let u=!1,d;if(e)for(let v in e){if(Er(v))continue;const A=e[v];let m;i&&pt(i,m=he(v))?!s||!s.includes(m)?r[m]=A:(d||(d={}))[m]=A:zn(t.emitsOptions,v)||A!==n[v]&&(n[v]=A,u=!0)}if(s){const v=gt(r),A=d||_t;for(let m=0;m<s.length;m++){const w=s[m];r[w]=Xn(i,v,w,A[w],t,!pt(A,w))}}return u}function Xn(t,e,r,n,i,s){const u=t[r];if(u!=null){const d=pt(u,"default");if(d&&n===void 0){const v=u.default;if(u.type!==Function&&lt(v)){const{propsDefaults:A}=i;r in A?n=A[r]:(We(i),n=A[r]=v.call(null,e),je())}else n=v}u[0]&&(s&&!d?n=!1:u[1]&&(n===""||n===qe(r))&&(n=!0))}return n}function gs(t,e,r=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const s=t.props,u={},d=[];let v=!1;if(!lt(t)){const m=w=>{v=!0;const[C,x]=gs(w,e,!0);Wt(u,C),x&&d.push(...x)};!r&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!s&&!v)return n.set(t,He),He;if(ct(s))for(let m=0;m<s.length;m++){const w=he(s[m]);vs(w)&&(u[w]=_t)}else if(s)for(const m in s){const w=he(m);if(vs(w)){const C=s[m],x=u[w]=ct(C)||lt(C)?{type:C}:C;if(x){const O=bs(Boolean,x.type),M=bs(String,x.type);x[0]=O>-1,x[1]=M<0||O<M,(O>-1||pt(x,"default"))&&d.push(w)}}}const A=[u,d];return n.set(t,A),A}function vs(t){return t[0]!=="$"}function ys(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function _s(t,e){return ys(t)===ys(e)}function bs(t,e){return ct(e)?e.findIndex(r=>_s(r,t)):lt(e)&&_s(e,t)?0:-1}const ws=t=>t[0]==="_"||t==="$stable",Vn=t=>ct(t)?t.map(fe):[fe(t)],tu=(t,e,r)=>{const n=Pa((...i)=>Vn(e(...i)),r);return n._c=!1,n},Ms=(t,e,r)=>{const n=t._ctx;for(const i in t){if(ws(i))continue;const s=t[i];if(lt(s))e[i]=tu(i,s,n);else if(s!=null){const u=Vn(s);e[i]=()=>u}}},Es=(t,e)=>{const r=Vn(e);t.slots.default=()=>r},eu=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=gt(e),Sr(e,"_",r)):Ms(e,t.slots={})}else t.slots={},e&&Es(t,e);Sr(t.slots,Dr,1)},ru=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,u=_t;if(n.shapeFlag&32){const d=e._;d?r&&d===1?s=!1:(Wt(i,e),!r&&d===1&&delete i._):(s=!e.$stable,Ms(e,i)),u=e}else e&&(Es(t,e),u={default:1});if(s)for(const d in i)!ws(d)&&!(d in u)&&delete i[d]};function Hh(t,e){const r=ae;if(r===null)return t;const n=r.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[u,d,v,A=_t]=e[s];lt(u)&&(u={mounted:u,updated:u}),u.deep&&$e(d),i.push({dir:u,instance:n,value:d,oldValue:void 0,arg:v,modifiers:A})}return t}function Ne(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let u=0;u<i.length;u++){const d=i[u];s&&(d.oldValue=s[u].value);let v=d.dir[n];v&&(Ke(),ue(v,r,8,[t.el,d,t,e]),ke())}}function xs(){return{app:null,config:{isNativeTag:jo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nu=0;function iu(t,e){return function(n,i=null){i!=null&&!Kt(i)&&(i=null);const s=xs(),u=new Set;let d=!1;const v=s.app={_uid:nu++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:ku,get config(){return s.config},set config(A){},use(A,...m){return u.has(A)||(A&&lt(A.install)?(u.add(A),A.install(v,...m)):lt(A)&&(u.add(A),A(v,...m))),v},mixin(A){return s.mixins.includes(A)||s.mixins.push(A),v},component(A,m){return m?(s.components[A]=m,v):s.components[A]},directive(A,m){return m?(s.directives[A]=m,v):s.directives[A]},mount(A,m,w){if(!d){const C=ne(n,i);return C.appContext=s,m&&e?e(C,A):t(C,A,w),d=!0,v._container=A,A.__vue_app__=v,oi(C.component)||C.component.proxy}},unmount(){d&&(t(null,v._container),delete v._container.__vue_app__)},provide(A,m){return s.provides[A]=m,v}};return v}}const Gt=Na;function su(t){return ou(t)}function ou(t,e){const r=Yo();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:u,createText:d,createComment:v,setText:A,setElementText:m,parentNode:w,nextSibling:C,setScopeId:x=oe,cloneNode:O,insertStaticContent:M}=t,R=(c,b,T,S=null,k=null,L=null,K=!1,j=null,H=!!b.dynamicChildren)=>{if(c===b)return;c&&!ur(c,b)&&(S=ut(c),V(c,k,L,!0),c=null),b.patchFlag===-2&&(H=!1,b.dynamicChildren=null);const{type:F,ref:Z,shapeFlag:tt}=b;switch(F){case ei:B(c,b,T,S);break;case or:q(c,b,T,S);break;case ri:c==null&&_(b,T,S,K);break;case ye:o(c,b,T,S,k,L,K,j,H);break;default:tt&1?z(c,b,T,S,k,L,K,j,H):tt&6?a(c,b,T,S,k,L,K,j,H):(tt&64||tt&128)&&F.process(c,b,T,S,k,L,K,j,H,ht)}Z!=null&&k&&ti(Z,c&&c.ref,L,b||c,!b)},B=(c,b,T,S)=>{if(c==null)n(b.el=d(b.children),T,S);else{const k=b.el=c.el;b.children!==c.children&&A(k,b.children)}},q=(c,b,T,S)=>{c==null?n(b.el=v(b.children||""),T,S):b.el=c.el},_=(c,b,T,S)=>{[c.el,c.anchor]=M(c.children,b,T,S)},E=({el:c,anchor:b},T,S)=>{let k;for(;c&&c!==b;)k=C(c),n(c,T,S),c=k;n(b,T,S)},I=({el:c,anchor:b})=>{let T;for(;c&&c!==b;)T=C(c),i(c),c=T;i(b)},z=(c,b,T,S,k,L,K,j,H)=>{K=K||b.type==="svg",c==null?J(b,T,S,k,L,K,j,H):W(c,b,k,L,K,j,H)},J=(c,b,T,S,k,L,K,j)=>{let H,F;const{type:Z,props:tt,shapeFlag:X,transition:et,patchFlag:ft,dirs:at}=c;if(c.el&&O!==void 0&&ft===-1)H=c.el=O(c.el);else{if(H=c.el=u(c.type,L,tt&&tt.is,tt),X&8?m(H,c.children):X&16&&N(c.children,H,null,S,k,L&&Z!=="foreignObject",K,j),at&&Ne(c,null,S,"created"),tt){for(const vt in tt)vt!=="value"&&!Er(vt)&&s(H,vt,null,tt[vt],L,c.children,S,k,st);"value"in tt&&s(H,"value",null,tt.value),(F=tt.onVnodeBeforeMount)&&ce(F,S,c)}Q(H,c,c.scopeId,K,S)}at&&Ne(c,null,S,"beforeMount");const it=(!k||k&&!k.pendingBranch)&&et&&!et.persisted;it&&et.beforeEnter(H),n(H,b,T),((F=tt&&tt.onVnodeMounted)||it||at)&&Gt(()=>{F&&ce(F,S,c),it&&et.enter(H),at&&Ne(c,null,S,"mounted")},k)},Q=(c,b,T,S,k)=>{if(T&&x(c,T),S)for(let L=0;L<S.length;L++)x(c,S[L]);if(k){let L=k.subTree;if(b===L){const K=k.vnode;Q(c,K,K.scopeId,K.slotScopeIds,k.parent)}}},N=(c,b,T,S,k,L,K,j,H=0)=>{for(let F=H;F<c.length;F++){const Z=c[F]=j?Me(c[F]):fe(c[F]);R(null,Z,b,T,S,k,L,K,j)}},W=(c,b,T,S,k,L,K)=>{const j=b.el=c.el;let{patchFlag:H,dynamicChildren:F,dirs:Z}=b;H|=c.patchFlag&16;const tt=c.props||_t,X=b.props||_t;let et;(et=X.onVnodeBeforeUpdate)&&ce(et,T,b,c),Z&&Ne(b,c,T,"beforeUpdate");const ft=k&&b.type!=="foreignObject";if(F?Y(c.dynamicChildren,F,j,T,S,ft,L):K||P(c,b,j,null,T,S,ft,L,!1),H>0){if(H&16)G(j,b,tt,X,T,S,k);else if(H&2&&tt.class!==X.class&&s(j,"class",null,X.class,k),H&4&&s(j,"style",tt.style,X.style,k),H&8){const at=b.dynamicProps;for(let it=0;it<at.length;it++){const vt=at[it],dt=tt[vt],yt=X[vt];(yt!==dt||vt==="value")&&s(j,vt,dt,yt,k,c.children,T,S,st)}}H&1&&c.children!==b.children&&m(j,b.children)}else!K&&F==null&&G(j,b,tt,X,T,S,k);((et=X.onVnodeUpdated)||Z)&&Gt(()=>{et&&ce(et,T,b,c),Z&&Ne(b,c,T,"updated")},S)},Y=(c,b,T,S,k,L,K)=>{for(let j=0;j<b.length;j++){const H=c[j],F=b[j],Z=H.el&&(H.type===ye||!ur(H,F)||H.shapeFlag&(6|64))?w(H.el):T;R(H,F,Z,null,S,k,L,K,!0)}},G=(c,b,T,S,k,L,K)=>{if(T!==S){for(const j in S){if(Er(j))continue;const H=S[j],F=T[j];H!==F&&j!=="value"&&s(c,j,F,H,K,b.children,k,L,st)}if(T!==_t)for(const j in T)!Er(j)&&!(j in S)&&s(c,j,T[j],null,K,b.children,k,L,st);"value"in S&&s(c,"value",T.value,S.value)}},o=(c,b,T,S,k,L,K,j,H)=>{const F=b.el=c?c.el:d(""),Z=b.anchor=c?c.anchor:d("");let{patchFlag:tt,dynamicChildren:X,slotScopeIds:et}=b;et&&(j=j?j.concat(et):et),c==null?(n(F,T,S),n(Z,T,S),N(b.children,T,Z,k,L,K,j,H)):tt>0&&tt&64&&X&&c.dynamicChildren?(Y(c.dynamicChildren,X,T,k,L,K,j),(b.key!=null||k&&b===k.subTree)&&Ts(c,b,!0)):P(c,b,T,Z,k,L,K,j,H)},a=(c,b,T,S,k,L,K,j,H)=>{b.slotScopeIds=j,c==null?b.shapeFlag&512?k.ctx.activate(b,T,S,K,H):p(b,T,S,k,L,K,H):h(c,b,H)},p=(c,b,T,S,k,L,K)=>{const j=c.component=_u(c,S,k);if(as(c)&&(j.ctx.renderer=ht),bu(j),j.asyncDep){if(k&&k.registerDep(j,l),!c.el){const H=j.subTree=ne(or);q(null,H,b,T)}return}l(j,c,b,T,k,L,K)},h=(c,b,T)=>{const S=b.component=c.component;if(Ca(c,b,T))if(S.asyncDep&&!S.asyncResolved){g(S,b,T);return}else S.next=b,Pu(S.update),S.update();else b.component=c.component,b.el=c.el,S.vnode=b},l=(c,b,T,S,k,L,K)=>{const j=()=>{if(c.isMounted){let{next:Z,bu:tt,u:X,parent:et,vnode:ft}=c,at=Z,it;H.allowRecurse=!1,Z?(Z.el=ft.el,g(c,Z,K)):Z=ft,tt&&Ar(tt),(it=Z.props&&Z.props.onVnodeBeforeUpdate)&&ce(it,et,Z,ft),H.allowRecurse=!0;const vt=Kn(c),dt=c.subTree;c.subTree=vt,R(dt,vt,w(dt.el),ut(dt),c,k,L),Z.el=vt.el,at===null&&ka(c,vt.el),X&&Gt(X,k),(it=Z.props&&Z.props.onVnodeUpdated)&&Gt(()=>ce(it,et,Z,ft),k)}else{let Z;const{el:tt,props:X}=b,{bm:et,m:ft,parent:at}=c,it=Jn(b);if(H.allowRecurse=!1,et&&Ar(et),!it&&(Z=X&&X.onVnodeBeforeMount)&&ce(Z,at,b),H.allowRecurse=!0,tt&&y){const vt=()=>{c.subTree=Kn(c),y(tt,c.subTree,c,k,null)};it?b.type.__asyncLoader().then(()=>!c.isUnmounted&&vt()):vt()}else{const vt=c.subTree=Kn(c);R(null,vt,T,S,c,k,L),b.el=vt.el}if(ft&&Gt(ft,k),!it&&(Z=X&&X.onVnodeMounted)){const vt=b;Gt(()=>ce(Z,at,vt),k)}b.shapeFlag&256&&c.a&&Gt(c.a,k),c.isMounted=!0,b=T=S=null}},H=new Bn(j,()=>js(c.update),c.scope),F=c.update=H.run.bind(H);F.id=c.uid,H.allowRecurse=F.allowRecurse=!0,F()},g=(c,b,T)=>{b.component=c;const S=c.vnode.props;c.vnode=b,c.next=null,Va(c,b.props,S,T),ru(c,b.children,T),Ke(),hi(void 0,c.update),ke()},P=(c,b,T,S,k,L,K,j,H=!1)=>{const F=c&&c.children,Z=c?c.shapeFlag:0,tt=b.children,{patchFlag:X,shapeFlag:et}=b;if(X>0){if(X&128){$(F,tt,T,S,k,L,K,j,H);return}else if(X&256){D(F,tt,T,S,k,L,K,j,H);return}}et&8?(Z&16&&st(F,k,L),tt!==F&&m(T,tt)):Z&16?et&16?$(F,tt,T,S,k,L,K,j,H):st(F,k,L,!0):(Z&8&&m(T,""),et&16&&N(tt,T,S,k,L,K,j,H))},D=(c,b,T,S,k,L,K,j,H)=>{c=c||He,b=b||He;const F=c.length,Z=b.length,tt=Math.min(F,Z);let X;for(X=0;X<tt;X++){const et=b[X]=H?Me(b[X]):fe(b[X]);R(c[X],et,T,null,k,L,K,j,H)}F>Z?st(c,k,L,!0,!1,tt):N(b,T,S,k,L,K,j,H,tt)},$=(c,b,T,S,k,L,K,j,H)=>{let F=0;const Z=b.length;let tt=c.length-1,X=Z-1;for(;F<=tt&&F<=X;){const et=c[F],ft=b[F]=H?Me(b[F]):fe(b[F]);if(ur(et,ft))R(et,ft,T,null,k,L,K,j,H);else break;F++}for(;F<=tt&&F<=X;){const et=c[tt],ft=b[X]=H?Me(b[X]):fe(b[X]);if(ur(et,ft))R(et,ft,T,null,k,L,K,j,H);else break;tt--,X--}if(F>tt){if(F<=X){const et=X+1,ft=et<Z?b[et].el:S;for(;F<=X;)R(null,b[F]=H?Me(b[F]):fe(b[F]),T,ft,k,L,K,j,H),F++}}else if(F>X)for(;F<=tt;)V(c[F],k,L,!0),F++;else{const et=F,ft=F,at=new Map;for(F=ft;F<=X;F++){const qt=b[F]=H?Me(b[F]):fe(b[F]);qt.key!=null&&at.set(qt.key,F)}let it,vt=0;const dt=X-ft+1;let yt=!1,tr=0;const bt=new Array(dt);for(F=0;F<dt;F++)bt[F]=0;for(F=et;F<=tt;F++){const qt=c[F];if(vt>=dt){V(qt,k,L,!0);continue}let mt;if(qt.key!=null)mt=at.get(qt.key);else for(it=ft;it<=X;it++)if(bt[it-ft]===0&&ur(qt,b[it])){mt=it;break}mt===void 0?V(qt,k,L,!0):(bt[mt-ft]=F+1,mt>=tr?tr=mt:yt=!0,R(qt,b[mt],T,null,k,L,K,j,H),vt++)}const Mt=yt?au(bt):He;for(it=Mt.length-1,F=dt-1;F>=0;F--){const qt=ft+F,mt=b[qt],Et=qt+1<Z?b[qt+1].el:S;bt[F]===0?R(null,mt,T,Et,k,L,K,j,H):yt&&(it<0||F!==Mt[it]?U(mt,T,Et,2):it--)}}},U=(c,b,T,S,k=null)=>{const{el:L,type:K,transition:j,children:H,shapeFlag:F}=c;if(F&6){U(c.component.subTree,b,T,S);return}if(F&128){c.suspense.move(b,T,S);return}if(F&64){K.move(c,b,T,ht);return}if(K===ye){n(L,b,T);for(let tt=0;tt<H.length;tt++)U(H[tt],b,T,S);n(c.anchor,b,T);return}if(K===ri){E(c,b,T);return}if(S!==2&&F&1&&j)if(S===0)j.beforeEnter(L),n(L,b,T),Gt(()=>j.enter(L),k);else{const{leave:tt,delayLeave:X,afterLeave:et}=j,ft=()=>n(L,b,T),at=()=>{tt(L,()=>{ft(),et&&et()})};X?X(L,ft,at):at()}else n(L,b,T)},V=(c,b,T,S=!1,k=!1)=>{const{type:L,props:K,ref:j,children:H,dynamicChildren:F,shapeFlag:Z,patchFlag:tt,dirs:X}=c;if(j!=null&&ti(j,null,T,c,!0),Z&256){b.ctx.deactivate(c);return}const et=Z&1&&X,ft=!Jn(c);let at;if(ft&&(at=K&&K.onVnodeBeforeUnmount)&&ce(at,b,c),Z&6)ot(c.component,T,S);else{if(Z&128){c.suspense.unmount(T,S);return}et&&Ne(c,null,b,"beforeUnmount"),Z&64?c.type.remove(c,b,T,k,ht,S):F&&(L!==ye||tt>0&&tt&64)?st(F,b,T,!1,!0):(L===ye&&tt&(128|256)||!k&&Z&16)&&st(H,b,T),S&&rt(c)}(ft&&(at=K&&K.onVnodeUnmounted)||et)&&Gt(()=>{at&&ce(at,b,c),et&&Ne(c,null,b,"unmounted")},T)},rt=c=>{const{type:b,el:T,anchor:S,transition:k}=c;if(b===ye){nt(T,S);return}if(b===ri){I(c);return}const L=()=>{i(T),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(c.shapeFlag&1&&k&&!k.persisted){const{leave:K,delayLeave:j}=k,H=()=>K(T,L);j?j(c.el,L,H):H()}else L()},nt=(c,b)=>{let T;for(;c!==b;)T=C(c),i(c),c=T;i(b)},ot=(c,b,T)=>{const{bum:S,scope:k,update:L,subTree:K,um:j}=c;S&&Ar(S),k.stop(),L&&(L.active=!1,V(K,c,b,T)),j&&Gt(j,b),Gt(()=>{c.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},st=(c,b,T,S=!1,k=!1,L=0)=>{for(let K=L;K<c.length;K++)V(c[K],b,T,S,k)},ut=c=>c.shapeFlag&6?ut(c.component.subTree):c.shapeFlag&128?c.suspense.next():C(c.anchor||c.el),Zt=(c,b,T)=>{c==null?b._vnode&&V(b._vnode,null,null,!0):R(b._vnode||null,c,b,null,null,null,T),Ls(),b._vnode=c},ht={p:R,um:V,m:U,r:rt,mt:p,mc:N,pc:P,pbc:Y,n:ut,o:t};let f,y;return e&&([f,y]=e(ht)),{render:Zt,hydrate:f,createApp:iu(Zt,f)}}function ti(t,e,r,n,i=!1){if(ct(t)){t.forEach((C,x)=>ti(C,e&&(ct(e)?e[x]:e),r,n,i));return}if(Jn(n)&&!i)return;const s=n.shapeFlag&4?oi(n.component)||n.component.proxy:n.el,u=i?null:s,{i:d,r:v}=t,A=e&&e.r,m=d.refs===_t?d.refs={}:d.refs,w=d.setupState;if(A!=null&&A!==v&&(zt(A)?(m[A]=null,pt(w,A)&&(w[A]=null)):Qt(A)&&(A.value=null)),zt(v)){const C=()=>{m[v]=u,pt(w,v)&&(w[v]=u)};u?(C.id=-1,Gt(C,r)):C()}else if(Qt(v)){const C=()=>{v.value=u};u?(C.id=-1,Gt(C,r)):C()}else lt(v)&&Ee(v,d,12,[u,m])}function ce(t,e,r,n=null){ue(t,e,7,[r,n])}function Ts(t,e,r=!1){const n=t.children,i=e.children;if(ct(n)&&ct(i))for(let s=0;s<n.length;s++){const u=n[s];let d=i[s];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=i[s]=Me(i[s]),d.el=u.el),r||Ts(u,d))}}function au(t){const e=t.slice(),r=[0];let n,i,s,u,d;const v=t.length;for(n=0;n<v;n++){const A=t[n];if(A!==0){if(i=r[r.length-1],t[i]<A){e[n]=i,r.push(n);continue}for(s=0,u=r.length-1;s<u;)d=s+u>>1,t[r[d]]<A?s=d+1:u=d;A<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,u=r[s-1];s-- >0;)r[s]=u,u=e[u];return r}const uu=t=>t.__isTeleport,As="components";function qh(t,e){return hu(As,t,!0,e)||t}const lu=Symbol();function hu(t,e,r=!0,n=!1){const i=ae||Lt;if(i){const s=i.type;if(t===As){const d=xu(s);if(d&&(d===e||d===he(e)||d===Tr(he(e))))return s}const u=Ss(i[t]||s[t],e)||Ss(i.appContext[t],e);return!u&&n?s:u}}function Ss(t,e){return t&&(t[e]||t[he(e)]||t[Tr(he(e))])}const ye=Symbol(void 0),ei=Symbol(void 0),or=Symbol(void 0),ri=Symbol(void 0),ar=[];let Ue=null;function zh(t=!1){ar.push(Ue=t?null:[])}function cu(){ar.pop(),Ue=ar[ar.length-1]||null}let $r=1;function Rs(t){$r+=t}function Ps(t){return t.dynamicChildren=$r>0?Ue||He:null,cu(),$r>0&&Ue&&Ue.push(t),t}function Kh(t,e,r,n,i,s){return Ps(Is(t,e,r,n,i,s,!0))}function Yh(t,e,r,n,i){return Ps(ne(t,e,r,n,i,!0))}function ni(t){return t?t.__v_isVNode===!0:!1}function ur(t,e){return t.type===e.type&&t.key===e.key}const Dr="__vInternal",Os=({key:t})=>t!=null?t:null,Lr=({ref:t})=>t!=null?zt(t)||Qt(t)||lt(t)?{i:ae,r:t}:t:null;function Is(t,e=null,r=null,n=0,i=null,s=t===ye?0:1,u=!1,d=!1){const v={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Os(e),ref:e&&Lr(e),scopeId:ss,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return d?(ii(v,r),s&128&&t.normalize(v)):r&&(v.shapeFlag|=zt(r)?8:16),$r>0&&!u&&Ue&&(v.patchFlag>0||s&6)&&v.patchFlag!==32&&Ue.push(v),v}const ne=fu;function fu(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===lu)&&(t=or),ni(t)){const d=lr(t,e,!0);return r&&ii(d,r),d}if(Tu(t)&&(t=t.__vccOpts),e){e=du(e);let{class:d,style:v}=e;d&&!zt(d)&&(e.class=xn(d)),Kt(v)&&(Vi(v)&&!ct(v)&&(v=Wt({},v)),e.style=En(v))}const u=zt(t)?1:Ba(t)?128:uu(t)?64:Kt(t)?4:lt(t)?2:0;return Is(t,e,r,n,i,u,s,!0)}function du(t){return t?Vi(t)||Dr in t?Wt({},t):t:null}function lr(t,e,r=!1){const{props:n,ref:i,patchFlag:s,children:u}=t,d=e?mu(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Os(d),ref:e&&e.ref?r&&i?ct(i)?i.concat(Lr(e)):[i,Lr(e)]:Lr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ye?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&lr(t.ssContent),ssFallback:t.ssFallback&&lr(t.ssFallback),el:t.el,anchor:t.anchor}}function pu(t=" ",e=0){return ne(ei,null,t,e)}function fe(t){return t==null||typeof t=="boolean"?ne(or):ct(t)?ne(ye,null,t.slice()):typeof t=="object"?Me(t):ne(ei,null,String(t))}function Me(t){return t.el===null||t.memo?t:lr(t)}function ii(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ct(e))r=16;else if(typeof e=="object")if(n&(1|64)){const i=e.default;i&&(i._c&&(i._d=!1),ii(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!(Dr in e)?e._ctx=ae:i===3&&ae&&(ae.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else lt(e)?(e={default:e,_ctx:ae},r=32):(e=String(e),n&64?(r=16,e=[pu(e)]):r=8);t.children=e,t.shapeFlag|=r}function mu(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=xn([e.class,n.class]));else if(i==="style")e.style=En([e.style,n.style]);else if(wr(i)){const s=e[i],u=n[i];s!==u&&(e[i]=s?[].concat(s,u):u)}else i!==""&&(e[i]=n[i])}return e}const si=t=>t?Cs(t)?oi(t)||t.proxy:si(t.parent):null,Fr=Wt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>si(t.parent),$root:t=>si(t.root),$emit:t=>t.emit,$options:t=>ds(t),$forceUpdate:t=>()=>js(t.update),$nextTick:t=>Su.bind(t.proxy),$watch:t=>Cu.bind(t)}),gu={get({_:t},e){const{ctx:r,setupState:n,data:i,props:s,accessCache:u,type:d,appContext:v}=t;let A;if(e[0]!=="$"){const x=u[e];if(x!==void 0)switch(x){case 0:return n[e];case 1:return i[e];case 3:return r[e];case 2:return s[e]}else{if(n!==_t&&pt(n,e))return u[e]=0,n[e];if(i!==_t&&pt(i,e))return u[e]=1,i[e];if((A=t.propsOptions[0])&&pt(A,e))return u[e]=2,s[e];if(r!==_t&&pt(r,e))return u[e]=3,r[e];Zn&&(u[e]=4)}}const m=Fr[e];let w,C;if(m)return e==="$attrs"&&Vt(t,"get",e),m(t);if((w=d.__cssModules)&&(w=w[e]))return w;if(r!==_t&&pt(r,e))return u[e]=3,r[e];if(C=v.config.globalProperties,pt(C,e))return C[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;if(i!==_t&&pt(i,e))i[e]=r;else if(n!==_t&&pt(n,e))n[e]=r;else if(pt(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},u){let d;return r[u]!==void 0||t!==_t&&pt(t,u)||e!==_t&&pt(e,u)||(d=s[0])&&pt(d,u)||pt(n,u)||pt(Fr,u)||pt(i.config.globalProperties,u)}},vu=xs();let yu=0;function _u(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||vu,s={uid:yu++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,update:null,scope:new Wo(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gs(n,i),emitsOptions:is(n,i),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:n.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Ra.bind(null,s),t.ce&&t.ce(s),s}let Lt=null;const We=t=>{Lt=t,t.scope.on()},je=()=>{Lt&&Lt.scope.off(),Lt=null};function Cs(t){return t.vnode.shapeFlag&4}let Hr=!1;function bu(t,e=!1){Hr=e;const{props:r,children:n}=t.vnode,i=Cs(t);Xa(t,r,i,e),eu(t,n);const s=i?wu(t,e):void 0;return Hr=!1,s}function wu(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=ts(new Proxy(t.ctx,gu));const{setup:n}=r;if(n){const i=t.setupContext=n.length>1?Eu(t):null;We(t),Ke();const s=Ee(n,t,0,[t.props,i]);if(ke(),je(),ki(s)){if(s.then(je,je),e)return s.then(u=>{ks(t,u,e)}).catch(u=>{qr(u,t,0)});t.asyncDep=s}else ks(t,s,e)}else Ns(t,e)}function ks(t,e,r){lt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Kt(e)&&(t.setupState=ns(e)),Ns(t,r)}let Bs;function Ns(t,e,r){const n=t.type;if(!t.render){if(!e&&Bs&&!n.render){const i=n.template;if(i){const{isCustomElement:s,compilerOptions:u}=t.appContext.config,{delimiters:d,compilerOptions:v}=n,A=Wt(Wt({isCustomElement:s,delimiters:d},u),v);n.render=Bs(i,A)}}t.render=n.render||oe}We(t),Ke(),Wa(t),ke(),je()}function Mu(t){return new Proxy(t.attrs,{get(e,r){return Vt(t,"get","$attrs"),e[r]}})}function Eu(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=Mu(t))},slots:t.slots,emit:t.emit,expose:e}}function oi(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ns(ts(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Fr)return Fr[r](t)}}))}function xu(t){return lt(t)&&t.displayName||t.name}function Tu(t){return lt(t)&&"__vccOpts"in t}function Ee(t,e,r,n){let i;try{i=n?t(...n):t()}catch(s){qr(s,e,r)}return i}function ue(t,e,r,n){if(lt(t)){const s=Ee(t,e,r,n);return s&&ki(s)&&s.catch(u=>{qr(u,e,r)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(ue(t[s],e,r,n));return i}function qr(t,e,r,n=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const u=e.proxy,d=r;for(;s;){const A=s.ec;if(A){for(let m=0;m<A.length;m++)if(A[m](t,u,d)===!1)return}s=s.parent}const v=e.appContext.config.errorHandler;if(v){Ee(v,null,10,[t,u,d]);return}}Au(t,r,i,n)}function Au(t,e,r,n=!0){console.error(t)}let zr=!1,ai=!1;const te=[];let _e=0;const hr=[];let cr=null,Je=0;const fr=[];let xe=null,Ge=0;const Us=Promise.resolve();let ui=null,li=null;function Su(t){const e=ui||Us;return t?e.then(this?t.bind(this):t):e}function Ru(t){let e=_e+1,r=te.length;for(;e<r;){const n=e+r>>>1;dr(te[n])<t?e=n+1:r=n}return e}function js(t){(!te.length||!te.includes(t,zr&&t.allowRecurse?_e+1:_e))&&t!==li&&(t.id==null?te.push(t):te.splice(Ru(t.id),0,t),$s())}function $s(){!zr&&!ai&&(ai=!0,ui=Us.then(Fs))}function Pu(t){const e=te.indexOf(t);e>_e&&te.splice(e,1)}function Ds(t,e,r,n){ct(t)?r.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&r.push(t),$s()}function Ou(t){Ds(t,cr,hr,Je)}function Iu(t){Ds(t,xe,fr,Ge)}function hi(t,e=null){if(hr.length){for(li=e,cr=[...new Set(hr)],hr.length=0,Je=0;Je<cr.length;Je++)cr[Je]();cr=null,Je=0,li=null,hi(t,e)}}function Ls(t){if(fr.length){const e=[...new Set(fr)];if(fr.length=0,xe){xe.push(...e);return}for(xe=e,xe.sort((r,n)=>dr(r)-dr(n)),Ge=0;Ge<xe.length;Ge++)xe[Ge]();xe=null,Ge=0}}const dr=t=>t.id==null?1/0:t.id;function Fs(t){ai=!1,zr=!0,hi(t),te.sort((r,n)=>dr(r)-dr(n));const e=oe;try{for(_e=0;_e<te.length;_e++){const r=te[_e];r&&r.active!==!1&&Ee(r,null,14)}}finally{_e=0,te.length=0,Ls(),zr=!1,ui=null,(te.length||hr.length||fr.length)&&Fs(t)}}const Hs={};function ci(t,e,r){return qs(t,e,r)}function qs(t,e,{immediate:r,deep:n,flush:i,onTrack:s,onTrigger:u}=_t){const d=Lt;let v,A=!1,m=!1;if(Qt(t)?(v=()=>t.value,A=!!t._shallow):Ye(t)?(v=()=>t,n=!0):ct(t)?(m=!0,A=t.some(Ye),v=()=>t.map(B=>{if(Qt(B))return B.value;if(Ye(B))return $e(B);if(lt(B))return Ee(B,d,2)})):lt(t)?e?v=()=>Ee(t,d,2):v=()=>{if(!(d&&d.isUnmounted))return w&&w(),ue(t,d,3,[C])}:v=oe,e&&n){const B=v;v=()=>$e(B())}let w,C=B=>{w=R.onStop=()=>{Ee(B,d,4)}};if(Hr)return C=oe,e?r&&ue(e,d,3,[v(),m?[]:void 0,C]):v(),oe;let x=m?[]:Hs;const O=()=>{if(!!R.active)if(e){const B=R.run();(n||A||(m?B.some((q,_)=>rr(q,x[_])):rr(B,x)))&&(w&&w(),ue(e,d,3,[B,x===Hs?void 0:x,C]),x=B)}else R.run()};O.allowRecurse=!!e;let M;i==="sync"?M=O:i==="post"?M=()=>Gt(O,d&&d.suspense):M=()=>{!d||d.isMounted?Ou(O):O()};const R=new Bn(v,M);return e?r?O():x=R.run():i==="post"?Gt(R.run.bind(R),d&&d.suspense):R.run(),()=>{R.stop(),d&&d.scope&&Ci(d.scope.effects,R)}}function Cu(t,e,r){const n=this.proxy,i=zt(t)?t.includes(".")?zs(n,t):()=>n[t]:t.bind(n,n);let s;lt(e)?s=e:(s=e.handler,r=e);const u=Lt;We(this);const d=qs(i,s.bind(n),r);return u?We(u):je(),d}function zs(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function $e(t,e){if(!Kt(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Qt(t))$e(t.value,e);else if(ct(t))for(let r=0;r<t.length;r++)$e(t[r],e);else if(Lo(t)||er(t))t.forEach(r=>{$e(r,e)});else if(qo(t))for(const r in t)$e(t[r],e);return t}function pr(t,e,r){const n=arguments.length;return n===2?Kt(e)&&!ct(e)?ni(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ni(r)&&(r=[r]),ne(t,e,r))}const ku="3.2.20",Bu="http://www.w3.org/2000/svg",Ze=typeof document!="undefined"?document:null,Ks=new Map,Nu={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e?Ze.createElementNS(Bu,t):Ze.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ze.createTextNode(t),createComment:t=>Ze.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ze.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n){const i=r?r.previousSibling:e.lastChild;let s=Ks.get(t);if(!s){const u=Ze.createElement("template");if(u.innerHTML=n?`<svg>${t}</svg>`:t,s=u.content,n){const d=s.firstChild;for(;d.firstChild;)s.appendChild(d.firstChild);s.removeChild(d)}Ks.set(t,s)}return e.insertBefore(s.cloneNode(!0),r),[i?i.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function Uu(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function ju(t,e,r){const n=t.style,i=n.display;if(!r)t.removeAttribute("style");else if(zt(r))e!==r&&(n.cssText=r);else{for(const s in r)fi(n,s,r[s]);if(e&&!zt(e))for(const s in e)r[s]==null&&fi(n,s,"")}"_vod"in t&&(n.display=i)}const Ys=/\s*!important$/;function fi(t,e,r){if(ct(r))r.forEach(n=>fi(t,e,n));else if(e.startsWith("--"))t.setProperty(e,r);else{const n=$u(t,e);Ys.test(r)?t.setProperty(qe(n),r.replace(Ys,""),"important"):t[n]=r}}const Ws=["Webkit","Moz","ms"],di={};function $u(t,e){const r=di[e];if(r)return r;let n=he(e);if(n!=="filter"&&n in t)return di[e]=n;n=Tr(n);for(let i=0;i<Ws.length;i++){const s=Ws[i]+n;if(s in t)return di[e]=s}return e}const Js="http://www.w3.org/1999/xlink";function Du(t,e,r,n,i){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Js,e.slice(6,e.length)):t.setAttributeNS(Js,e,r);else{const s=ko(e);r==null||s&&!Ii(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function Lu(t,e,r,n,i,s,u){if(e==="innerHTML"||e==="textContent"){n&&u(n,i,s),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"){t._value=r;const d=r==null?"":r;t.value!==d&&(t.value=d),r==null&&t.removeAttribute(e);return}if(r===""||r==null){const d=typeof t[e];if(d==="boolean"){t[e]=Ii(r);return}else if(r==null&&d==="string"){t[e]="",t.removeAttribute(e);return}else if(d==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=r}catch{}}let Kr=Date.now,Gs=!1;if(typeof window!="undefined"){Kr()>document.createEvent("Event").timeStamp&&(Kr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Gs=!!(t&&Number(t[1])<=53)}let pi=0;const Fu=Promise.resolve(),Hu=()=>{pi=0},qu=()=>pi||(Fu.then(Hu),pi=Kr());function Qe(t,e,r,n){t.addEventListener(e,r,n)}function zu(t,e,r,n){t.removeEventListener(e,r,n)}function Ku(t,e,r,n,i=null){const s=t._vei||(t._vei={}),u=s[e];if(n&&u)u.value=n;else{const[d,v]=Yu(e);if(n){const A=s[e]=Wu(n,i);Qe(t,d,A,v)}else u&&(zu(t,d,u,v),s[e]=void 0)}}const Zs=/(?:Once|Passive|Capture)$/;function Yu(t){let e;if(Zs.test(t)){e={};let r;for(;r=t.match(Zs);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[qe(t.slice(2)),e]}function Wu(t,e){const r=n=>{const i=n.timeStamp||Kr();(Gs||i>=r.attached-1)&&ue(Ju(n,r.value),e,5,[n])};return r.value=t,r.attached=qu(),r}function Ju(t,e){if(ct(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n(i))}else return e}const Qs=/^on[a-z]/,Gu=(t,e,r,n,i=!1,s,u,d,v)=>{e==="class"?Uu(t,n,i):e==="style"?ju(t,r,n):wr(e)?Tn(e)||Ku(t,e,r,n,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Zu(t,e,n,i))?Lu(t,e,n,s,u,d,v):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Du(t,e,n,i))};function Zu(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&Qs.test(e)&&lt(r)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Qs.test(e)&&zt(r)?!1:e in t}const Xs=t=>{const e=t.props["onUpdate:modelValue"];return ct(e)?r=>Ar(e,r):e};function Qu(t){t.target.composing=!0}function Vs(t){const e=t.target;e.composing&&(e.composing=!1,Xu(e,"input"))}function Xu(t,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}const Wh={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t._assign=Xs(i);const s=n||i.props&&i.props.type==="number";Qe(t,e?"change":"input",u=>{if(u.target.composing)return;let d=t.value;r?d=d.trim():s&&(d=Pn(d)),t._assign(d)}),r&&Qe(t,"change",()=>{t.value=t.value.trim()}),e||(Qe(t,"compositionstart",Qu),Qe(t,"compositionend",Vs),Qe(t,"change",Vs))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:i}},s){if(t._assign=Xs(s),t.composing||document.activeElement===t&&(r||n&&t.value.trim()===e||(i||t.type==="number")&&Pn(t.value)===e))return;const u=e==null?"":e;t.value!==u&&(t.value=u)}},Vu=["ctrl","shift","alt","meta"],tl={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Vu.some(r=>t[`${r}Key`]&&!e.includes(r))},Jh=(t,e)=>(r,...n)=>{for(let i=0;i<e.length;i++){const s=tl[e[i]];if(s&&s(r,e))return}return t(r,...n)},el=Wt({patchProp:Gu},Nu);let to;function rl(){return to||(to=su(el))}const Gh=(...t)=>{const e=rl().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=nl(n);if(!i)return;const s=e._component;!lt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const u=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),u},e};function nl(t){return zt(t)?document.querySelector(t):t}const il="1.24.0",eo={"X-Client-Info":`supabase-js/${il}`};function sl(t){return t.replace(/\/$/,"")}var ro=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function no(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mi={exports:{}};(function(t,e){var r=typeof self!="undefined"?self:ro,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(u){var d={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function v(a){return a&&DataView.prototype.isPrototypeOf(a)}if(d.arrayBuffer)var A=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=ArrayBuffer.isView||function(a){return a&&A.indexOf(Object.prototype.toString.call(a))>-1};function w(a){if(typeof a!="string"&&(a=String(a)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(a))throw new TypeError("Invalid character in header field name");return a.toLowerCase()}function C(a){return typeof a!="string"&&(a=String(a)),a}function x(a){var p={next:function(){var h=a.shift();return{done:h===void 0,value:h}}};return d.iterable&&(p[Symbol.iterator]=function(){return p}),p}function O(a){this.map={},a instanceof O?a.forEach(function(p,h){this.append(h,p)},this):Array.isArray(a)?a.forEach(function(p){this.append(p[0],p[1])},this):a&&Object.getOwnPropertyNames(a).forEach(function(p){this.append(p,a[p])},this)}O.prototype.append=function(a,p){a=w(a),p=C(p);var h=this.map[a];this.map[a]=h?h+", "+p:p},O.prototype.delete=function(a){delete this.map[w(a)]},O.prototype.get=function(a){return a=w(a),this.has(a)?this.map[a]:null},O.prototype.has=function(a){return this.map.hasOwnProperty(w(a))},O.prototype.set=function(a,p){this.map[w(a)]=C(p)},O.prototype.forEach=function(a,p){for(var h in this.map)this.map.hasOwnProperty(h)&&a.call(p,this.map[h],h,this)},O.prototype.keys=function(){var a=[];return this.forEach(function(p,h){a.push(h)}),x(a)},O.prototype.values=function(){var a=[];return this.forEach(function(p){a.push(p)}),x(a)},O.prototype.entries=function(){var a=[];return this.forEach(function(p,h){a.push([h,p])}),x(a)},d.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function M(a){if(a.bodyUsed)return Promise.reject(new TypeError("Already read"));a.bodyUsed=!0}function R(a){return new Promise(function(p,h){a.onload=function(){p(a.result)},a.onerror=function(){h(a.error)}})}function B(a){var p=new FileReader,h=R(p);return p.readAsArrayBuffer(a),h}function q(a){var p=new FileReader,h=R(p);return p.readAsText(a),h}function _(a){for(var p=new Uint8Array(a),h=new Array(p.length),l=0;l<p.length;l++)h[l]=String.fromCharCode(p[l]);return h.join("")}function E(a){if(a.slice)return a.slice(0);var p=new Uint8Array(a.byteLength);return p.set(new Uint8Array(a)),p.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(a){this._bodyInit=a,a?typeof a=="string"?this._bodyText=a:d.blob&&Blob.prototype.isPrototypeOf(a)?this._bodyBlob=a:d.formData&&FormData.prototype.isPrototypeOf(a)?this._bodyFormData=a:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)?this._bodyText=a.toString():d.arrayBuffer&&d.blob&&v(a)?(this._bodyArrayBuffer=E(a.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(a)||m(a))?this._bodyArrayBuffer=E(a):this._bodyText=a=Object.prototype.toString.call(a):this._bodyText="",this.headers.get("content-type")||(typeof a=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(a)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var a=M(this);if(a)return a;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(B)}),this.text=function(){var a=M(this);if(a)return a;if(this._bodyBlob)return q(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}var z=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function J(a){var p=a.toUpperCase();return z.indexOf(p)>-1?p:a}function Q(a,p){p=p||{};var h=p.body;if(a instanceof Q){if(a.bodyUsed)throw new TypeError("Already read");this.url=a.url,this.credentials=a.credentials,p.headers||(this.headers=new O(a.headers)),this.method=a.method,this.mode=a.mode,this.signal=a.signal,!h&&a._bodyInit!=null&&(h=a._bodyInit,a.bodyUsed=!0)}else this.url=String(a);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new O(p.headers)),this.method=J(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&h)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(h)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function N(a){var p=new FormData;return a.trim().split("&").forEach(function(h){if(h){var l=h.split("="),g=l.shift().replace(/\+/g," "),P=l.join("=").replace(/\+/g," ");p.append(decodeURIComponent(g),decodeURIComponent(P))}}),p}function W(a){var p=new O,h=a.replace(/\r?\n[\t ]+/g," ");return h.split(/\r?\n/).forEach(function(l){var g=l.split(":"),P=g.shift().trim();if(P){var D=g.join(":").trim();p.append(P,D)}}),p}I.call(Q.prototype);function Y(a,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new O(p.headers),this.url=p.url||"",this._initBody(a)}I.call(Y.prototype),Y.prototype.clone=function(){return new Y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},Y.error=function(){var a=new Y(null,{status:0,statusText:""});return a.type="error",a};var G=[301,302,303,307,308];Y.redirect=function(a,p){if(G.indexOf(p)===-1)throw new RangeError("Invalid status code");return new Y(null,{status:p,headers:{location:a}})},u.DOMException=s.DOMException;try{new u.DOMException}catch{u.DOMException=function(p,h){this.message=p,this.name=h;var l=Error(p);this.stack=l.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function o(a,p){return new Promise(function(h,l){var g=new Q(a,p);if(g.signal&&g.signal.aborted)return l(new u.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function D(){P.abort()}P.onload=function(){var $={status:P.status,statusText:P.statusText,headers:W(P.getAllResponseHeaders()||"")};$.url="responseURL"in P?P.responseURL:$.headers.get("X-Request-URL");var U="response"in P?P.response:P.responseText;h(new Y(U,$))},P.onerror=function(){l(new TypeError("Network request failed"))},P.ontimeout=function(){l(new TypeError("Network request failed"))},P.onabort=function(){l(new u.DOMException("Aborted","AbortError"))},P.open(g.method,g.url,!0),g.credentials==="include"?P.withCredentials=!0:g.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&d.blob&&(P.responseType="blob"),g.headers.forEach(function($,U){P.setRequestHeader(U,$)}),g.signal&&(g.signal.addEventListener("abort",D),P.onreadystatechange=function(){P.readyState===4&&g.signal.removeEventListener("abort",D)}),P.send(typeof g._bodyInit=="undefined"?null:g._bodyInit)})}return o.polyfill=!0,s.fetch||(s.fetch=o,s.Headers=O,s.Request=Q,s.Response=Y),u.Headers=O,u.Request=Q,u.Response=Y,u.fetch=o,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(mi,mi.exports);var Yr=no(mi.exports),mr=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};const ol=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),al=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:ol(r),status:(t==null?void 0:t.status)||500}))},ul=(t,e,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r)),n};function Wr(t,e,r,n){return mr(this,void 0,void 0,function*(){return new Promise((i,s)=>{Yr(e,ul(t,r,n)).then(u=>{if(!u.ok)throw u;return(r==null?void 0:r.noResolveJson)?i:u.json()}).then(u=>i(u)).catch(u=>al(u,s))})})}function ll(t,e){return mr(this,void 0,void 0,function*(){return Wr("GET",t,e)})}function ie(t,e,r){return mr(this,void 0,void 0,function*(){return Wr("POST",t,r,e)})}function hl(t,e,r){return mr(this,void 0,void 0,function*(){return Wr("PUT",t,r,e)})}function cl(t,e,r){return mr(this,void 0,void 0,function*(){return Wr("DELETE",t,r,e)})}const fl="1.18.0",dl="http://localhost:9999",pl={"X-Client-Info":`gotrue-js/${fl}`},Jr="supabase.auth.token",ml={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function gl(t,e,r){const n=r||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!s.test(t))throw new TypeError("argument name is invalid");const u=i(e);if(u&&!s.test(u))throw new TypeError("argument val is invalid");let d=t+"="+u;if(n.maxAge!=null){const v=n.maxAge-0;if(isNaN(v)||!isFinite(v))throw new TypeError("option maxAge is invalid");d+="; Max-Age="+Math.floor(v)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");d+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");d+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(d+="; HttpOnly"),n.secure&&(d+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return d}function vl(t){if(!t||!t.headers||!t.headers.host)throw new Error('The "host" request header is not available');const e=t.headers.host.indexOf(":")>-1&&t.headers.host.split(":")[0]||t.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function yl(t,e){var r,n,i;return gl(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+t.maxAge*1e3),httpOnly:!0,secure:e,path:(r=t.path)!==null&&r!==void 0?r:"/",domain:(n=t.domain)!==null&&n!==void 0?n:"",sameSite:(i=t.sameSite)!==null&&i!==void 0?i:"lax"})}function _l(t,e,r){const n=r.map(s=>yl(s,vl(t))),i=e.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(n,i):typeof i=="string"&&n.push(i)),e.setHeader("Set-Cookie",n)}function io(t,e,r){_l(t,e,[r])}function bl(t,e,r){io(t,e,{name:r,value:"",maxAge:-1})}function gr(t){return Math.round(Date.now()/1e3)+t}function wl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}const De=()=>typeof window!="undefined";function Te(t,e){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),n=r.exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}var Yt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};class Ml{constructor({url:e="",headers:r={},cookieOptions:n}){this.url=e,this.headers=r,this.cookieOptions=Object.assign(Object.assign({},ml),n)}signUpWithEmail(e,r,n={}){return Yt(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s="";n.redirectTo&&(s="?redirect_to="+encodeURIComponent(n.redirectTo));const u=yield ie(`${this.url}/signup${s}`,{email:e,password:r,data:n.data},{headers:i});let d=Object.assign({},u);return d.expires_in&&(d.expires_at=gr(u.expires_in)),{data:d,error:null}}catch(i){return{data:null,error:i}}})}signInWithEmail(e,r,n={}){return Yt(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers),s="?grant_type=password";n.redirectTo&&(s+="&redirect_to="+encodeURIComponent(n.redirectTo));const u=yield ie(`${this.url}/token${s}`,{email:e,password:r},{headers:i});let d=Object.assign({},u);return d.expires_in&&(d.expires_at=gr(u.expires_in)),{data:d,error:null}}catch(i){return{data:null,error:i}}})}signUpWithPhone(e,r,n={}){return Yt(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers);const s=yield ie(`${this.url}/signup`,{phone:e,password:r,data:n.data},{headers:i});let u=Object.assign({},s);return u.expires_in&&(u.expires_at=gr(s.expires_in)),{data:u,error:null}}catch(i){return{data:null,error:i}}})}signInWithPhone(e,r){return Yt(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),i="?grant_type=password";const s=yield ie(`${this.url}/token${i}`,{phone:e,password:r},{headers:n});let u=Object.assign({},s);return u.expires_in&&(u.expires_at=gr(s.expires_in)),{data:u,error:null}}catch(n){return{data:null,error:n}}})}sendMagicLinkEmail(e,r={}){return Yt(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),i="";return r.redirectTo&&(i+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ie(`${this.url}/magiclink${i}`,{email:e},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}sendMobileOTP(e){return Yt(this,void 0,void 0,function*(){try{let r=Object.assign({},this.headers);return{data:yield ie(`${this.url}/otp`,{phone:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}})}verifyMobileOTP(e,r,n={}){return Yt(this,void 0,void 0,function*(){try{let i=Object.assign({},this.headers);return{data:yield ie(`${this.url}/verify`,{phone:e,token:r,type:"sms",redirect_to:n.redirectTo},{headers:i}),error:null}}catch(i){return{data:null,error:i}}})}inviteUserByEmail(e,r={}){return Yt(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),i="";return r.redirectTo&&(i+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ie(`${this.url}/invite${i}`,{email:e,data:r.data},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}resetPasswordForEmail(e,r={}){return Yt(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers),i="";return r.redirectTo&&(i+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ie(`${this.url}/recover${i}`,{email:e},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}_createRequestHeaders(e){const r=Object.assign({},this.headers);return r.Authorization=`Bearer ${e}`,r}signOut(e){return Yt(this,void 0,void 0,function*(){try{return yield ie(`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(r){return{error:r}}})}getUrlForProvider(e,r){let n=[`provider=${encodeURIComponent(e)}`];return(r==null?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(r==null?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),`${this.url}/authorize?${n.join("&")}`}getUser(e){return Yt(this,void 0,void 0,function*(){try{const r=yield ll(`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}updateUser(e,r){return Yt(this,void 0,void 0,function*(){try{const n=yield hl(`${this.url}/user`,r,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}deleteUser(e,r){return Yt(this,void 0,void 0,function*(){try{const n=yield cl(`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(r)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}refreshAccessToken(e){return Yt(this,void 0,void 0,function*(){try{const r=yield ie(`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers});let n=Object.assign({},r);return n.expires_in&&(n.expires_at=gr(r.expires_in)),{data:n,error:null}}catch(r){return{data:null,error:r}}})}setAuthCookie(e,r){e.method!=="POST"&&(r.setHeader("Allow","POST"),r.status(405).end("Method Not Allowed"));const{event:n,session:i}=e.body;if(!n)throw new Error("Auth event missing!");if(n==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");io(e,r,{name:this.cookieOptions.name,value:i.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}n==="SIGNED_OUT"&&bl(e,r,this.cookieOptions.name),r.status(200).json({})}getUserByCookie(e){return Yt(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const r=e.cookies[this.cookieOptions.name],{user:n,error:i}=yield this.getUser(r);if(i)throw i;return{user:n,data:n,error:null}}catch(r){return{user:null,data:null,error:r}}})}generateLink(e,r,n={}){return Yt(this,void 0,void 0,function*(){try{return{data:yield ie(`${this.url}/admin/generate_link`,{type:e,email:r,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(i){return{data:null,error:i}}})}}function El(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var ee=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};El();const xl={url:dl,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pl};class Tl{constructor(e){this.stateChangeEmitters=new Map;const r=Object.assign(Object.assign({},xl),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.localStorage=r.localStorage||globalThis.localStorage,this.api=new Ml({url:r.url,headers:r.headers,cookieOptions:r.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{r.detectSessionInUrl&&De()&&!!Te("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch{console.log("Error getting session from URL.")}}signUp({email:e,password:r,phone:n},i={}){return ee(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:u}=n&&r?yield this.api.signUpWithPhone(n,r,{data:i.data}):yield this.api.signUpWithEmail(e,r,{redirectTo:i.redirectTo,data:i.data});if(u)throw u;if(!s)throw"An error occurred on sign up.";let d=null,v=null;return s.access_token&&(d=s,v=d.user,this._saveSession(d),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(v=s),{data:s,user:v,session:d,error:null}}catch(s){return{data:null,user:null,session:null,error:s}}})}signIn({email:e,phone:r,password:n,refreshToken:i,provider:s},u={}){return ee(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!n){const{error:d}=yield this.api.sendMagicLinkEmail(e,{redirectTo:u.redirectTo});return{data:null,user:null,session:null,error:d}}if(e&&n)return this._handleEmailSignIn(e,n,{redirectTo:u.redirectTo});if(r&&!n){const{error:d}=yield this.api.sendMobileOTP(r);return{data:null,user:null,session:null,error:d}}if(r&&n)return this._handlePhoneSignIn(r,n);if(i){const{error:d}=yield this._callRefreshToken(i);if(d)throw d;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(s)return this._handleProviderSignIn(s,{redirectTo:u.redirectTo,scopes:u.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(d){return{data:null,user:null,session:null,error:d}}})}verifyOTP({phone:e,token:r},n={}){return ee(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:s}=yield this.api.verifyMobileOTP(e,r,n);if(s)throw s;if(!i)throw"An error occurred on token verification.";let u=null,d=null;return i.access_token&&(u=i,d=u.user,this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(d=i),{data:i,user:d,session:u,error:null}}catch(i){return{data:null,user:null,session:null,error:i}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return ee(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:r}=yield this._callRefreshToken();if(r)throw r;return{data:this.currentSession,user:this.currentUser,error:null}}catch(r){return{data:null,user:null,error:r}}})}update(e){var r;return ee(this,void 0,void 0,function*(){try{if(!((r=this.currentSession)===null||r===void 0?void 0:r.access_token))throw new Error("Not logged in.");const{user:n,error:i}=yield this.api.updateUser(this.currentSession.access_token,e);if(i)throw i;if(!n)throw Error("Invalid user data.");const s=Object.assign(Object.assign({},this.currentSession),{user:n});return this._saveSession(s),this._notifyAllSubscribers("USER_UPDATED"),{data:n,user:n,error:null}}catch(n){return{data:null,user:null,error:n}}})}setSession(e){return ee(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:n}=yield this.api.refreshAccessToken(e);return n?{session:null,error:n}:r?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),{session:r,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(r){return{error:r,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return ee(this,void 0,void 0,function*(){try{if(!De())throw new Error("No browser detected.");const r=Te("error_description");if(r)throw new Error(r);const n=Te("provider_token"),i=Te("access_token");if(!i)throw new Error("No access_token detected.");const s=Te("expires_in");if(!s)throw new Error("No expires_in detected.");const u=Te("refresh_token");if(!u)throw new Error("No refresh_token detected.");const d=Te("token_type");if(!d)throw new Error("No token_type detected.");const A=Math.round(Date.now()/1e3)+parseInt(s),{user:m,error:w}=yield this.api.getUser(i);if(w)throw w;const C={provider_token:n,access_token:i,expires_in:parseInt(s),expires_at:A,refresh_token:u,token_type:d,user:m};return(e==null?void 0:e.storeSession)&&(this._saveSession(C),this._notifyAllSubscribers("SIGNED_IN"),Te("type")==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:C,error:null}}catch(r){return{data:null,error:r}}})}signOut(){var e;return ee(this,void 0,void 0,function*(){const r=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),r){const{error:n}=yield this.api.signOut(r);if(n)return{error:n}}return{error:null}})}onAuthStateChange(e){try{const r=wl(),n=this,i={id:r,callback:e,unsubscribe:()=>{n.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,i),{data:i,error:null}}catch(r){return{data:null,error:r}}}_handleEmailSignIn(e,r,n={}){var i,s;return ee(this,void 0,void 0,function*(){try{const{data:u,error:d}=yield this.api.signInWithEmail(e,r,{redirectTo:n.redirectTo});return d||!u?{data:null,user:null,session:null,error:d}:((((i=u==null?void 0:u.user)===null||i===void 0?void 0:i.confirmed_at)||((s=u==null?void 0:u.user)===null||s===void 0?void 0:s.email_confirmed_at))&&(this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN")),{data:u,user:u.user,session:u,error:null})}catch(u){return{data:null,user:null,session:null,error:u}}})}_handlePhoneSignIn(e,r){var n;return ee(this,void 0,void 0,function*(){try{const{data:i,error:s}=yield this.api.signInWithPhone(e,r);return s||!i?{data:null,user:null,session:null,error:s}:(((n=i==null?void 0:i.user)===null||n===void 0?void 0:n.phone_confirmed_at)&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN")),{data:i,user:i.user,session:i,error:null})}catch(i){return{data:null,user:null,session:null,error:i}}})}_handleProviderSignIn(e,r={}){const n=this.api.getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes});try{return De()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(i){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:i}}}_recoverSession(){var e;try{const r=De()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(Jr));if(!r||typeof r!="string")return null;const n=JSON.parse(r),{currentSession:i,expiresAt:s}=n,u=Math.round(Date.now()/1e3);s>=u&&(i==null?void 0:i.user)&&(this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN"))}catch(r){console.log("error",r)}}_recoverAndRefresh(){return ee(this,void 0,void 0,function*(){try{const e=De()&&(yield this.localStorage.getItem(Jr));if(!e)return null;const r=JSON.parse(e),{currentSession:n,expiresAt:i}=r,s=Math.round(Date.now()/1e3);if(i<s)if(this.autoRefreshToken&&n.refresh_token){const{error:u}=yield this._callRefreshToken(n.refresh_token);u&&(console.log(u.message),yield this._removeSession())}else this._removeSession();else!n||!n.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var r;return e===void 0&&(e=(r=this.currentSession)===null||r===void 0?void 0:r.refresh_token),ee(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:n,error:i}=yield this.api.refreshAccessToken(e);if(i)throw i;if(!n)throw Error("Invalid session data.");return this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"),{data:n,error:null}}catch(n){return{data:null,error:n}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(r=>r.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const r=e.expires_at;if(r){const n=Math.round(Date.now()/1e3),i=r-n,s=i>60?60:.5;this._startAutoRefreshToken((i-s)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const r={currentSession:e,expiresAt:e.expires_at};De()&&this.localStorage.setItem(Jr,JSON.stringify(r))}_removeSession(){return ee(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),De()&&(yield this.localStorage.removeItem(Jr))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}}class Al extends Tl{constructor(e){super(e)}}var Sl=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};class gi{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=Yr(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>Sl(this,void 0,void 0,function*(){var s,u,d;let v=null,A=null,m=null;if(i.ok){const C=(s=this.headers.Prefer)===null||s===void 0?void 0:s.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!C){const M=yield i.text();M&&(this.headers.Accept==="text/csv"?A=M:A=JSON.parse(M))}const x=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");x&&O&&O.length>1&&(m=parseInt(O[1]))}else if(v=yield i.json(),v&&this.shouldThrowOnError)throw v;return{error:v,data:A,count:m,status:i.status,statusText:i.statusText,body:A}}));return this.shouldThrowOnError||(n=n.catch(i=>({error:{message:`FetchError: ${i.message}`,details:"",hint:"",code:i.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),n.then(e,r)}}class vi extends gi{select(e="*"){let r=!1;const n=e.split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this}order(e,{ascending:r=!0,nullsFirst:n=!1,foreignTable:i}={}){const s=typeof i=="undefined"?"order":`${i}.order`,u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${e}.${r?"asc":"desc"}.${n?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const i=typeof n=="undefined"?"offset":`${n}.offset`,s=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new vi(this);return e.then=(r,n)=>this.then(i=>{var s,u;return((u=(s=i.error)===null||s===void 0?void 0:s.details)===null||u===void 0?void 0:u.includes("Results contain 0 rows"))?r({error:null,data:null,count:i.count,status:200,statusText:"OK",body:null}):r(i)},n),e}csv(){return this.headers.Accept="text/csv",this}}class Xe extends vi{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,r,n){return this.url.searchParams.append(`${e}`,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"or":`${r}.or`;return this.url.searchParams.append(n,`(${e})`),this}eq(e,r){return this.url.searchParams.append(`${e}`,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(`${e}`,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(`${e}`,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(`${e}`,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(`${e}`,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(`${e}`,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(`${e}`,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(`${e}`,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(`${e}`,`is.${r}`),this}in(e,r){const n=r.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cs.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cd.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(r)}`),this}rangeLt(e,r){return this.url.searchParams.append(`${e}`,`sl.${r}`),this}rangeGt(e,r){return this.url.searchParams.append(`${e}`,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(`${e}`,`nxl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(`${e}`,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(`${e}`,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`ov.${r}`):this.url.searchParams.append(`${e}`,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i=null}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const u=n===void 0?"":`(${n})`;return this.url.searchParams.append(`${e}`,`${s}fts${u}.${r}`),this}fts(e,r,{config:n}={}){const i=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`fts${i}.${r}`),this}plfts(e,r,{config:n}={}){const i=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`plfts${i}.${r}`),this}phfts(e,r,{config:n}={}){const i=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`phfts${i}.${r}`),this}wfts(e,r,{config:n}={}){const i=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`wfts${i}.${r}`),this}filter(e,r,n){return this.url.searchParams.append(`${e}`,`${r}.${n}`),this}match(e){return Object.keys(e).forEach(r=>{this.url.searchParams.append(`${r}`,`eq.${e[r]}`)}),this}}class so extends gi{constructor(e,{headers:r={},schema:n}={}){super({});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}select(e="*",{head:r=!1,count:n=null}={}){this.method="GET";let i=!1;const s=e.split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),r&&(this.method="HEAD"),new Xe(this)}insert(e,{upsert:r=!1,onConflict:n,returning:i="representation",count:s=null}={}){this.method="POST";const u=[`return=${i}`];if(r&&u.push("resolution=merge-duplicates"),r&&n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=e,s&&u.push(`count=${s}`),this.headers.Prefer=u.join(","),Array.isArray(e)){const d=e.reduce((v,A)=>v.concat(Object.keys(A)),[]);if(d.length>0){const v=[...new Set(d)].map(A=>`"${A}"`);this.url.searchParams.set("columns",v.join(","))}}return new Xe(this)}upsert(e,{onConflict:r,returning:n="representation",count:i=null,ignoreDuplicates:s=!1}={}){this.method="POST";const u=[`resolution=${s?"ignore":"merge"}-duplicates`,`return=${n}`];return r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&u.push(`count=${i}`),this.headers.Prefer=u.join(","),new Xe(this)}update(e,{returning:r="representation",count:n=null}={}){this.method="PATCH";const i=[`return=${r}`];return this.body=e,n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Xe(this)}delete({returning:e="representation",count:r=null}={}){this.method="DELETE";const n=[`return=${e}`];return r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Xe(this)}}class Rl extends gi{constructor(e,{headers:r={},schema:n}={}){super({});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}rpc(e,{head:r=!1,count:n=null}={}){return r?(this.method="HEAD",e&&Object.entries(e).forEach(([i,s])=>{this.url.searchParams.append(i,s)})):(this.method="POST",this.body=e),n&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${n}`:this.headers.Prefer=`count=${n}`),new Xe(this)}}const Pl="0.34.1",Ol={"X-Client-Info":`postgrest-js/${Pl}`};class Il{constructor(e,{headers:r={},schema:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ol),r),this.schema=n}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const r=`${this.url}/${e}`;return new so(r,{headers:this.headers,schema:this.schema})}rpc(e,r,{head:n=!1,count:i=null}={}){const s=`${this.url}/rpc/${e}`;return new Rl(s,{headers:this.headers,schema:this.schema}).rpc(r,{head:n,count:i})}}var wt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wt||(wt={}));const oo=(t,e,r={})=>{let n={},i=typeof r.skipTypes!="undefined"?r.skipTypes:[];return Object.entries(e).map(([s,u])=>{n[s]=Cl(s,t,e,i)}),n},Cl=(t,e,r,n)=>{let i=e.find(s=>s.name==t);return!i||n.includes(i.type)?Ae(r[t]):ao(i.type,r[t])},ao=(t,e)=>{try{if(e===null)return null;if(t.charAt(0)==="_"){let r=t.slice(1,t.length);return Bl(e,r)}switch(t){case wt.abstime:return Ae(e);case wt.bool:return kl(e);case wt.date:return Ae(e);case wt.daterange:return yi(e);case wt.float4:return Gr(e);case wt.float8:return Gr(e);case wt.int2:return Zr(e);case wt.int4:return Zr(e);case wt.int4range:return uo(e);case wt.int8:return Zr(e);case wt.int8range:return uo(e);case wt.json:return lo(e);case wt.jsonb:return lo(e);case wt.money:return Gr(e);case wt.numeric:return Gr(e);case wt.oid:return Zr(e);case wt.reltime:return Ae(e);case wt.time:return Ae(e);case wt.timestamp:return Nl(e);case wt.timestamptz:return Ae(e);case wt.timetz:return Ae(e);case wt.tsrange:return yi(e);case wt.tstzrange:return yi(e);default:return Ae(e)}}catch(r){return console.log(`Could not convert cell of type ${t} and value ${e}`),console.log(`This is the error: ${r}`),e}},Ae=t=>t,kl=t=>{switch(t){case"t":return!0;case"f":return!1;default:return null}},yi=t=>{let e=JSON.parse(t);return[new Date(e[0]),new Date(e[1])]},Gr=t=>parseFloat(t),Zr=t=>parseInt(t),uo=t=>{let e=JSON.parse(t);return[parseInt(e[0]),parseInt(e[1])]},lo=t=>JSON.parse(t),Bl=(t,e)=>{let r=t.slice(1,t.length-1);return(r.length>0?r.split(","):[]).map(s=>ao(e,s))},Nl=t=>t.replace(" ","T"),Ul="1.1.3",jl={"X-Client-Info":`realtime-js/${Ul}`},$l="1.0.0",ho=1e4,Dl=1e3;var vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vr||(vr={}));var Xt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Xt||(Xt={}));var de;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave"})(de||(de={}));var _i;(function(t){t.websocket="websocket"})(_i||(_i={}));class co{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class bi{constructor(e,r,n={},i=ho){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,r){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class Ll{constructor(e,r={},n){this.topic=e,this.params=r,this.socket=n,this.bindings=[],this.state=Xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new bi(this,de.join,this.params,this.timeout),this.rejoinTimer=new co(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=Xt.closed,this.socket.remove(this)}),this.onError(i=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xt.errored,this.rejoinTimer.scheduleTimeout())}),this.on(de.reply,(i,s)=>{this.trigger(this.replyEventName(s),i)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(de.close,e)}onError(e){this.on(de.error,r=>e(r))}on(e,r){this.bindings.push({event:e,callback:r})}off(e){this.bindings=this.bindings.filter(r=>r.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bi(this,e,r,n);return this.canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}unsubscribe(e=this.timeout){this.state=Xt.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(de.close,"leave",this.joinRef())};this.joinPush.destroy();let n=new bi(this,de.leave,{},e);return n.receive("ok",()=>r()).receive("timeout",()=>r()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,r,n){return r}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=Xt.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,r,n){let{close:i,error:s,leave:u,join:d}=de;if(n&&[i,s,u,d].indexOf(e)>=0&&n!==this.joinRef())return;let A=this.onMessage(e,r,n);if(r&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(m=>m.event==="*"?e===(r==null?void 0:r.type):m.event===e).map(m=>m.callback(A,n))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===Xt.closed}isErrored(){return this.state===Xt.errored}isJoined(){return this.state===Xt.joined}isJoining(){return this.state===Xt.joining}isLeaving(){return this.state===Xt.leaving}}const Fl="websocket",Hl="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ql=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],zl="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Kl=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Yl="1.0.34",Wl={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Jl="https://github.com/theturtle32/WebSocket-Node",Gl={node:">=4.0.0"},Zl={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Ql={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Xl={verbose:!1},Vl={test:"tape test/unit/*.js",gulp:"gulp"},th="index",eh={lib:"./lib"},rh="lib/browser.js",nh="Apache-2.0";var ih={name:Fl,description:Hl,keywords:ql,author:zl,contributors:Kl,version:Yl,repository:Wl,homepage:Jl,engines:Gl,dependencies:Zl,devDependencies:Ql,config:Xl,scripts:Vl,main:th,directories:eh,browser:rh,license:nh},sh=ih.version,Le;if(typeof globalThis=="object")Le=globalThis;else try{Le=require("es5-ext/global")}catch{}finally{if(!Le&&typeof window!="undefined"&&(Le=window),!Le)throw new Error("Could not determine global this")}var yr=Le.WebSocket||Le.MozWebSocket,oh=sh;function fo(t,e){var r;return e?r=new yr(t,e):r=new yr(t),r}yr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(fo,t,{get:function(){return yr[t]}})});var ah={w3cwebsocket:yr?fo:null,version:oh};class uh{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=n.decode(e.slice(u,u+i));u=u+i;const v=n.decode(e.slice(u,u+s));u=u+s;const A=JSON.parse(n.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:v,payload:A}}}var lh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};const hh=()=>{};class ch{constructor(e,r){this.channels=[],this.endPoint="",this.headers=jl,this.params={},this.timeout=ho,this.transport=ah.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=hh,this.conn=null,this.sendBuffer=[],this.serializer=new uh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${_i.websocket}`,(r==null?void 0:r.params)&&(this.params=r.params),(r==null?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(r==null?void 0:r.timeout)&&(this.timeout=r.timeout),(r==null?void 0:r.logger)&&(this.logger=r.logger),(r==null?void 0:r.transport)&&(this.transport=r.transport),(r==null?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs),(r==null?void 0:r.longpollerTimeout)&&(this.longpollerTimeout=r.longpollerTimeout),this.reconnectAfterMs=(r==null?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=(r==null?void 0:r.encode)?r.encode:(n,i)=>i(JSON.stringify(n)),this.decode=(r==null?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new co(()=>lh(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){return new Promise((n,i)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),n({error:null,data:!0})}catch(s){n({error:s,data:!1})}})}log(e,r,n){this.logger(e,r,n)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case vr.connecting:return"connecting";case vr.open:return"open";case vr.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(r=>r.joinRef()!==e.joinRef())}channel(e,r={}){let n=new Ll(e,r,this);return this.channels.push(n),n}push(e){let{topic:r,event:n,payload:i,ref:s}=e,u=()=>{this.encode(e,d=>{var v;(v=this.conn)===null||v===void 0||v.send(d)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?u():this.sendBuffer.push(u)}onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:u}=r;u&&u===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:i===(s==null?void 0:s.type)&&this._resetHeartbeat(),this.log("receive",`${s.status||""} ${n} ${i} ${u&&"("+u+")"||""}`,s),this.channels.filter(d=>d.isMember(n)).forEach(d=>d.trigger(i,s,u)),this.stateChangeCallbacks.message.forEach(d=>d(r))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$l}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(de.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Dl,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class fh{constructor(e,r,n,i){const s={},u=i==="*"?`realtime:${n}`:`realtime:${n}:${i}`,d=r.Authorization.split(" ")[1];d&&(s.user_token=d),this.subscription=e.channel(u,s)}getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=oo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=oo(e.columns,e.old_record)),r}on(e,r){return this.subscription.on(e,n=>{let i={schema:n.schema,table:n.table,commit_timestamp:n.commit_timestamp,eventType:n.type,new:{},old:{}};i=Object.assign(Object.assign({},i),this.getPayloadRecords(n)),r(i)}),this}subscribe(e=()=>{}){return this.subscription.onError(r=>e("SUBSCRIPTION_ERROR",r)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",r=>e("SUBSCRIPTION_ERROR",r)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class dh extends so{constructor(e,{headers:r={},schema:n,realtime:i,table:s}){super(e,{headers:r,schema:n});this._subscription=new fh(i,r,n,s),this._realtime=i}on(e,r){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(e,r)}}var _r=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};const ph=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),mh=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:ph(r),status:(t==null?void 0:t.status)||500}))},gh=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function Qr(t,e,r,n,i){return _r(this,void 0,void 0,function*(){return new Promise((s,u)=>{Yr(e,gh(t,r,n,i)).then(d=>{if(!d.ok)throw d;return(r==null?void 0:r.noResolveJson)?s(d):d.json()}).then(d=>s(d)).catch(d=>mh(d,u))})})}function wi(t,e,r){return _r(this,void 0,void 0,function*(){return Qr("GET",t,e,r)})}function br(t,e,r,n){return _r(this,void 0,void 0,function*(){return Qr("POST",t,r,n,e)})}function vh(t,e,r,n){return _r(this,void 0,void 0,function*(){return Qr("PUT",t,r,n,e)})}function po(t,e,r,n){return _r(this,void 0,void 0,function*(){return Qr("DELETE",t,r,n,e)})}const yh="0.0.0",_h={"X-Client-Info":`storage-js/${yh}`};var Ve=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};class bh{constructor(e,r={}){this.url=e,this.headers=Object.assign(Object.assign({},_h),r)}listBuckets(){return Ve(this,void 0,void 0,function*(){try{return{data:yield wi(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield wi(`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createBucket(e,r={public:!1}){return Ve(this,void 0,void 0,function*(){try{return{data:(yield br(`${this.url}/bucket`,{id:e,name:e,public:r.public},{headers:this.headers})).name,error:null}}catch(n){return{data:null,error:n}}})}updateBucket(e,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield vh(`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}emptyBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield br(`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}deleteBucket(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield po(`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}}var Se=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};const wh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Eh{constructor(e,r={},n){this.url=e,this.headers=r,this.bucketId=n}uploadOrUpdate(e,r,n,i){return Se(this,void 0,void 0,function*(){try{let s;const u=Object.assign(Object.assign({},Mh),i),d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),s.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(s=n,s.append("cacheControl",u.cacheControl)):(s=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const v=this._getFinalPath(r),A=yield Yr(`${this.url}/object/${v}`,{method:e,body:s,headers:d});if(A.ok)return{data:{Key:v},error:null};{const m=yield A.json();return{data:null,error:m}}}catch(s){return{data:null,error:s}}})}upload(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}update(e,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return Se(this,void 0,void 0,function*(){try{return{data:yield br(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createSignedUrl(e,r){return Se(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);let i=yield br(`${this.url}/object/sign/${n}`,{expiresIn:r},{headers:this.headers});const s=`${this.url}${i.signedURL}`;return i={signedURL:s},{data:i,error:null,signedURL:s}}catch(n){return{data:null,error:n,signedURL:null}}})}download(e){return Se(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);return{data:yield(yield wi(`${this.url}/object/${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){return{data:null,error:r}}})}getPublicUrl(e){try{const r=this._getFinalPath(e),n=`${this.url}/object/public/${r}`;return{data:{publicURL:n},error:null,publicURL:n}}catch(r){return{data:null,error:r,publicURL:null}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield po(`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}list(e,r,n){return Se(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},wh),r),{prefix:e||""});return{data:yield br(`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){return{data:null,error:i}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}}class xh extends bh{constructor(e,r={}){super(e,r)}from(e){return new Eh(this.url,this.headers,e)}}var mo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function d(m){try{A(n.next(m))}catch(w){u(w)}}function v(m){try{A(n.throw(m))}catch(w){u(w)}}function A(m){m.done?s(m.value):i(m.value).then(d,v)}A((n=n.apply(t,e||[])).next())})};const Th={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eo};class Ah{constructor(e,r,n){if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");e=sl(e);const i=Object.assign(Object.assign({},Th),n);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=i.schema,this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(i.realtime)}get storage(){return new xh(this.storageUrl,this._getAuthHeaders())}from(e){const r=`${this.restUrl}/${e}`;return new dh(r,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e})}rpc(e,r,{head:n=!1,count:i=null}={}){return this._initPostgRESTClient().rpc(e,r,{head:n,count:i})}removeSubscription(e){return new Promise(r=>mo(this,void 0,void 0,function*(){try{yield this._closeSubscription(e);const n=this.getSubscriptions().length;if(!n){const{error:i}=yield this.realtime.disconnect();if(i)return r({error:i})}return r({error:null,data:{openSubscriptions:n}})}catch(n){return r({error:n})}}))}_closeSubscription(e){return mo(this,void 0,void 0,function*(){e.isClosed()||(yield this._closeChannel(e))})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:i,headers:s}){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Al({url:this.authUrl,headers:Object.assign(Object.assign({},s),u),autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:i})}_initRealtimeClient(e){return new ch(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Il(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var e,r;const n=eo,i=(r=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization=`Bearer ${i}`,n}_closeChannel(e){return new Promise((r,n)=>{e.unsubscribe().receive("ok",()=>(this.realtime.remove(e),r(!0))).receive("error",i=>n(i))})}}const Zh=(t,e,r)=>new Ah(t,e,r);/*!
 * qrcode.vue v3.3.2
 * A Vue.js component to generate QRCode.
 * © 2017-2021 @scopewu(https://github.com/scopewu)
 * MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xr=function(){return Xr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xr.apply(this,arguments)},go={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Sh=go;function vo(t){this.mode=Sh.MODE_8BIT_BYTE,this.data=t}vo.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var Rh=vo,yo={L:1,M:0,Q:3,H:2},Vr=yo;function pe(t,e){this.totalCount=t,this.dataCount=e}pe.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];pe.getRSBlocks=function(t,e){var r=pe.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=new Array,s=0;s<n;s++)for(var u=r[s*3+0],d=r[s*3+1],v=r[s*3+2],A=0;A<u;A++)i.push(new pe(d,v));return i};pe.getRsBlockTable=function(t,e){switch(e){case Vr.L:return pe.RS_BLOCK_TABLE[(t-1)*4+0];case Vr.M:return pe.RS_BLOCK_TABLE[(t-1)*4+1];case Vr.Q:return pe.RS_BLOCK_TABLE[(t-1)*4+2];case Vr.H:return pe.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var Ph=pe;function _o(){this.buffer=new Array,this.length=0}_o.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Oh=_o,le={glog:function(t){if(t<1)throw new Error("glog("+t+")");return le.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return le.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ft=0;Ft<8;Ft++)le.EXP_TABLE[Ft]=1<<Ft;for(var Ft=8;Ft<256;Ft++)le.EXP_TABLE[Ft]=le.EXP_TABLE[Ft-4]^le.EXP_TABLE[Ft-5]^le.EXP_TABLE[Ft-6]^le.EXP_TABLE[Ft-8];for(var Ft=0;Ft<255;Ft++)le.LOG_TABLE[le.EXP_TABLE[Ft]]=Ft;var bo=le,Fe=bo;function tn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}tn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Fe.gexp(Fe.glog(this.get(r))+Fe.glog(t.get(n)));return new tn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Fe.glog(this.get(0))-Fe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Fe.gexp(Fe.glog(t.get(n))+e);return new tn(r,0).mod(t)}};var wo=tn,se=go,Mo=wo,Ih=bo,Re={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ht={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ht.getBCHDigit(e)-Ht.getBCHDigit(Ht.G15)>=0;)e^=Ht.G15<<Ht.getBCHDigit(e)-Ht.getBCHDigit(Ht.G15);return(t<<10|e)^Ht.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ht.getBCHDigit(e)-Ht.getBCHDigit(Ht.G18)>=0;)e^=Ht.G18<<Ht.getBCHDigit(e)-Ht.getBCHDigit(Ht.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ht.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Re.PATTERN000:return(e+r)%2==0;case Re.PATTERN001:return e%2==0;case Re.PATTERN010:return r%3==0;case Re.PATTERN011:return(e+r)%3==0;case Re.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Re.PATTERN101:return e*r%2+e*r%3==0;case Re.PATTERN110:return(e*r%2+e*r%3)%2==0;case Re.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Mo([1],0),r=0;r<t;r++)e=e.multiply(new Mo([1,Ih.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case se.MODE_NUMBER:return 10;case se.MODE_ALPHA_NUM:return 9;case se.MODE_8BIT_BYTE:return 8;case se.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case se.MODE_NUMBER:return 12;case se.MODE_ALPHA_NUM:return 11;case se.MODE_8BIT_BYTE:return 16;case se.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case se.MODE_NUMBER:return 14;case se.MODE_ALPHA_NUM:return 13;case se.MODE_8BIT_BYTE:return 16;case se.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,u=t.isDark(n,i),d=-1;d<=1;d++)if(!(n+d<0||e<=n+d))for(var v=-1;v<=1;v++)i+v<0||e<=i+v||d==0&&v==0||u==t.isDark(n+d,i+v)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var A=0;t.isDark(n,i)&&A++,t.isDark(n+1,i)&&A++,t.isDark(n,i+1)&&A++,t.isDark(n+1,i+1)&&A++,(A==0||A==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var m=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&m++;var w=Math.abs(100*m/e/e-50)/5;return r+=w*10,r}},Ch=Ht,kh=Rh,Eo=Ph,xo=Oh,Pe=Ch,Bh=wo;function me(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var re=me.prototype;re.addData=function(t){var e=new kh(t);this.dataList.push(e),this.dataCache=null};re.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};re.getModuleCount=function(){return this.moduleCount};re.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Eo.getRSBlocks(t,this.errorCorrectLevel),r=new xo,n=0,i=0;i<e.length;i++)n+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var s=this.dataList[i];r.put(s.mode,4),r.put(s.getLength(),Pe.getLengthInBits(s.mode,t)),s.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};re.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=me.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};re.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};re.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Pe.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};re.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var u=s*i,d=0;d<this.modules[s].length;d++){var v=d*i,A=this.modules[s][d];A&&(n.beginFill(0,100),n.moveTo(v,u),n.lineTo(v+i,u),n.lineTo(v+i,u+i),n.lineTo(v,u+i),n.endFill())}return n};re.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};re.setupPositionAdjustPattern=function(){for(var t=Pe.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var u=-2;u<=2;u++)s==-2||s==2||u==-2||u==2||s==0&&u==0?this.modules[n+s][i+u]=!0:this.modules[n+s][i+u]=!1}};re.setupTypeNumber=function(t){for(var e=Pe.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};re.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Pe.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t};re.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,u=this.moduleCount-1;u>0;u-=2)for(u==6&&u--;;){for(var d=0;d<2;d++)if(this.modules[n][u-d]==null){var v=!1;s<t.length&&(v=(t[s]>>>i&1)==1);var A=Pe.getMask(e,n,u-d);A&&(v=!v),this.modules[n][u-d]=v,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};me.PAD0=236;me.PAD1=17;me.createData=function(t,e,r){for(var n=Eo.getRSBlocks(t,e),i=new xo,s=0;s<r.length;s++){var u=r[s];i.put(u.mode,4),i.put(u.getLength(),Pe.getLengthInBits(u.mode,t)),u.write(i)}for(var d=0,s=0;s<n.length;s++)d+=n[s].dataCount;if(i.getLengthInBits()>d*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+d*8+")");for(i.getLengthInBits()+4<=d*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=d*8||(i.put(me.PAD0,8),i.getLengthInBits()>=d*8));)i.put(me.PAD1,8);return me.createBytes(i,n)};me.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),u=new Array(e.length),d=0;d<e.length;d++){var v=e[d].dataCount,A=e[d].totalCount-v;n=Math.max(n,v),i=Math.max(i,A),s[d]=new Array(v);for(var m=0;m<s[d].length;m++)s[d][m]=255&t.buffer[m+r];r+=v;var w=Pe.getErrorCorrectPolynomial(A),C=new Bh(s[d],w.getLength()-1),x=C.mod(w);u[d]=new Array(w.getLength()-1);for(var m=0;m<u[d].length;m++){var O=m+x.getLength()-u[d].length;u[d][m]=O>=0?x.get(O):0}}for(var M=0,m=0;m<e.length;m++)M+=e[m].totalCount;for(var R=new Array(M),B=0,m=0;m<n;m++)for(var d=0;d<e.length;d++)m<s[d].length&&(R[B++]=s[d][m]);for(var m=0;m<i;m++)for(var d=0;d<e.length;d++)m<u[d].length&&(R[B++]=u[d][m]);return R};var Nh=me,Uh=Nh,To=yo,Ao=function(t,e){e=e||{};var r=new Uh(e.typeNumber||-1,e.errorCorrectLevel||To.H);return r.addData(t),r.make(),r};Ao.ErrorCorrectLevel=To;var en=Ao,So="H",jh=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Ro(t,e){return en($h(t),{typeNumber:-1,errorCorrectLevel:e})}function Po(t){return t in en.ErrorCorrectLevel}function $h(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e+=String.fromCharCode(n):n<2048?(e+=String.fromCharCode(192|n>>6),e+=String.fromCharCode(128|n&63)):n<55296||n>=57344?(e+=String.fromCharCode(224|n>>12),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n&63)):(r++,n=65536+((n&1023)<<10|t.charCodeAt(r)&1023),e+=String.fromCharCode(240|n>>18),e+=String.fromCharCode(128|n>>12&63),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n&63))}return e}function Oo(t,e){e===void 0&&(e=0);var r=[];return t.forEach(function(n,i){var s=null;n.forEach(function(u,d){if(!u&&s!==null){r.push("M"+(s+e)+" "+(i+e)+"h"+(d-s)+"v1H"+(s+e)+"z"),s=null;return}if(d===n.length-1){if(!u)return;s===null?r.push("M"+(d+e)+","+(i+e)+" h1v1H"+(d+e)+"z"):r.push("M"+(s+e)+","+(i+e)+" h"+(d+1-s)+"v1H"+(s+e)+"z");return}u&&s===null&&(s=d)})}),r.join("")}var Mi={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:So,validator:function(t){return Po(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},Dh=Xr(Xr({},Mi),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),Lh=Wn({name:"QRCodeSvg",props:Mi,setup:function(t){var e=qn(0),r=qn(""),n=function(){var i=t.value,s=t.level,u=t.margin,d=Ro(i,en.ErrorCorrectLevel[s]).modules;e.value=d.length+u*2,r.value=Oo(d,u)};return n(),Gn(n),function(){return pr("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+e.value+" "+e.value},[pr("path",{fill:t.background,d:"M0,0 h"+e.value+"v"+e.value+"H0z"}),pr("path",{fill:t.foreground,d:r.value})])}}}),Fh=Wn({name:"QRCodeCanvas",props:Mi,setup:function(t){var e=qn(null),r=function(){var n=t.value,i=t.level,s=t.size,u=t.margin,d=t.background,v=t.foreground,A=Ro(n,en.ErrorCorrectLevel[i]).modules,m=A.length+u*2,w=e.value;if(!!w){var C=w.getContext("2d");if(!!C){var x=window.devicePixelRatio||1,O=s/m*x;w.height=w.width=s*x,C.scale(O,O),C.fillStyle=d,C.fillRect(0,0,m,m),C.fillStyle=v,jh?C.fill(new Path2D(Oo(A,u))):A.forEach(function(M,R){M.forEach(function(B,q){B&&C.fillRect(q+u,R+u,1,1)})})}}};return ls(r),Gn(r),function(){return pr("canvas",{ref:e,style:{width:t.size+"px",height:t.size+"px"}})}}}),Qh=Wn({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,r=t.value,n=t.size,i=t.margin,s=t.level,u=t.background,d=t.foreground,v=n>>>0,A=i>>>0,m=Po(s)?s:So;return pr(e==="svg"?Lh:Fh,{value:r,size:v,margin:A,level:m,background:u,foreground:d})},props:Dh}),Io={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(ro,function(){return function(r){var n={};function i(s){if(n[s])return n[s].exports;var u=n[s]={i:s,l:!1,exports:{}};return r[s].call(u.exports,u,u.exports,i),u.l=!0,u.exports}return i.m=r,i.c=n,i.d=function(s,u,d){i.o(s,u)||Object.defineProperty(s,u,{enumerable:!0,get:d})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,u){if(1&u&&(s=i(s)),8&u||4&u&&typeof s=="object"&&s&&s.__esModule)return s;var d=Object.create(null);if(i.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:s}),2&u&&typeof s!="string")for(var v in s)i.d(d,v,function(A){return s[A]}.bind(null,v));return d},i.n=function(s){var u=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(u,"a",u),u},i.o=function(s,u){return Object.prototype.hasOwnProperty.call(s,u)},i.p="",i(i.s=5)}([function(r,n,i){i.r(n),i.d(n,"__extends",function(){return u}),i.d(n,"__assign",function(){return d}),i.d(n,"__rest",function(){return v}),i.d(n,"__decorate",function(){return A}),i.d(n,"__param",function(){return m}),i.d(n,"__metadata",function(){return w}),i.d(n,"__awaiter",function(){return C}),i.d(n,"__generator",function(){return x}),i.d(n,"__exportStar",function(){return O}),i.d(n,"__values",function(){return M}),i.d(n,"__read",function(){return R}),i.d(n,"__spread",function(){return B}),i.d(n,"__await",function(){return q}),i.d(n,"__asyncGenerator",function(){return _}),i.d(n,"__asyncDelegator",function(){return E}),i.d(n,"__asyncValues",function(){return I}),i.d(n,"__makeTemplateObject",function(){return z}),i.d(n,"__importStar",function(){return J}),i.d(n,"__importDefault",function(){return Q});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var s=function(N,W){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,G){Y.__proto__=G}||function(Y,G){for(var o in G)G.hasOwnProperty(o)&&(Y[o]=G[o])})(N,W)};function u(N,W){function Y(){this.constructor=N}s(N,W),N.prototype=W===null?Object.create(W):(Y.prototype=W.prototype,new Y)}var d=function(){return(d=Object.assign||function(N){for(var W,Y=1,G=arguments.length;Y<G;Y++)for(var o in W=arguments[Y])Object.prototype.hasOwnProperty.call(W,o)&&(N[o]=W[o]);return N}).apply(this,arguments)};function v(N,W){var Y={};for(var G in N)Object.prototype.hasOwnProperty.call(N,G)&&W.indexOf(G)<0&&(Y[G]=N[G]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(G=Object.getOwnPropertySymbols(N);o<G.length;o++)W.indexOf(G[o])<0&&(Y[G[o]]=N[G[o]])}return Y}function A(N,W,Y,G){var o,a=arguments.length,p=a<3?W:G===null?G=Object.getOwnPropertyDescriptor(W,Y):G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(N,W,Y,G);else for(var h=N.length-1;h>=0;h--)(o=N[h])&&(p=(a<3?o(p):a>3?o(W,Y,p):o(W,Y))||p);return a>3&&p&&Object.defineProperty(W,Y,p),p}function m(N,W){return function(Y,G){W(Y,G,N)}}function w(N,W){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(N,W)}function C(N,W,Y,G){return new(Y||(Y=Promise))(function(o,a){function p(g){try{l(G.next(g))}catch(P){a(P)}}function h(g){try{l(G.throw(g))}catch(P){a(P)}}function l(g){g.done?o(g.value):new Y(function(P){P(g.value)}).then(p,h)}l((G=G.apply(N,W||[])).next())})}function x(N,W){var Y,G,o,a,p={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(l){return function(g){return function(P){if(Y)throw new TypeError("Generator is already executing.");for(;p;)try{if(Y=1,G&&(o=2&P[0]?G.return:P[0]?G.throw||((o=G.return)&&o.call(G),0):G.next)&&!(o=o.call(G,P[1])).done)return o;switch(G=0,o&&(P=[2&P[0],o.value]),P[0]){case 0:case 1:o=P;break;case 4:return p.label++,{value:P[1],done:!1};case 5:p.label++,G=P[1],P=[0];continue;case 7:P=p.ops.pop(),p.trys.pop();continue;default:if(!(o=(o=p.trys).length>0&&o[o.length-1])&&(P[0]===6||P[0]===2)){p=0;continue}if(P[0]===3&&(!o||P[1]>o[0]&&P[1]<o[3])){p.label=P[1];break}if(P[0]===6&&p.label<o[1]){p.label=o[1],o=P;break}if(o&&p.label<o[2]){p.label=o[2],p.ops.push(P);break}o[2]&&p.ops.pop(),p.trys.pop();continue}P=W.call(N,p)}catch(D){P=[6,D],G=0}finally{Y=o=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([l,g])}}}function O(N,W){for(var Y in N)W.hasOwnProperty(Y)||(W[Y]=N[Y])}function M(N){var W=typeof Symbol=="function"&&N[Symbol.iterator],Y=0;return W?W.call(N):{next:function(){return N&&Y>=N.length&&(N=void 0),{value:N&&N[Y++],done:!N}}}}function R(N,W){var Y=typeof Symbol=="function"&&N[Symbol.iterator];if(!Y)return N;var G,o,a=Y.call(N),p=[];try{for(;(W===void 0||W-- >0)&&!(G=a.next()).done;)p.push(G.value)}catch(h){o={error:h}}finally{try{G&&!G.done&&(Y=a.return)&&Y.call(a)}finally{if(o)throw o.error}}return p}function B(){for(var N=[],W=0;W<arguments.length;W++)N=N.concat(R(arguments[W]));return N}function q(N){return this instanceof q?(this.v=N,this):new q(N)}function _(N,W,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,o=Y.apply(N,W||[]),a=[];return G={},p("next"),p("throw"),p("return"),G[Symbol.asyncIterator]=function(){return this},G;function p(D){o[D]&&(G[D]=function($){return new Promise(function(U,V){a.push([D,$,U,V])>1||h(D,$)})})}function h(D,$){try{(U=o[D]($)).value instanceof q?Promise.resolve(U.value.v).then(l,g):P(a[0][2],U)}catch(V){P(a[0][3],V)}var U}function l(D){h("next",D)}function g(D){h("throw",D)}function P(D,$){D($),a.shift(),a.length&&h(a[0][0],a[0][1])}}function E(N){var W,Y;return W={},G("next"),G("throw",function(o){throw o}),G("return"),W[Symbol.iterator]=function(){return this},W;function G(o,a){W[o]=N[o]?function(p){return(Y=!Y)?{value:q(N[o](p)),done:o==="return"}:a?a(p):p}:a}}function I(N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,Y=N[Symbol.asyncIterator];return Y?Y.call(N):(N=M(N),W={},G("next"),G("throw"),G("return"),W[Symbol.asyncIterator]=function(){return this},W);function G(o){W[o]=N[o]&&function(a){return new Promise(function(p,h){(function(l,g,P,D){Promise.resolve(D).then(function($){l({value:$,done:P})},g)})(p,h,(a=N[o](a)).done,a.value)})}}}function z(N,W){return Object.defineProperty?Object.defineProperty(N,"raw",{value:W}):N.raw=W,N}function J(N){if(N&&N.__esModule)return N;var W={};if(N!=null)for(var Y in N)Object.hasOwnProperty.call(N,Y)&&(W[Y]=N[Y]);return W.default=N,W}function Q(N){return N&&N.__esModule?N:{default:N}}},function(r,n,i){var s=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var I in _)Object.hasOwnProperty.call(_,I)&&(E[I]=_[I]);return E.default=_,E};Object.defineProperty(n,"__esModule",{value:!0});var u=s(i(2));function d(_){return!!_.toHexString}function v(_){return _.slice||(_.slice=function(){var E=Array.prototype.slice.call(arguments);return v(new Uint8Array(Array.prototype.slice.apply(_,E)))}),_}function A(_){return x(_)&&!(_.length%2)||m(_)}function m(_){if(_==null)return!1;if(_.constructor===Uint8Array)return!0;if(typeof _=="string"||_.length==null)return!1;for(var E=0;E<_.length;E++){var I=_[E];if(I<0||I>=256||I%1)return!1}return!0}function w(_,E){if(E||(E={}),typeof _=="number"){u.checkSafeUint53(_,"invalid arrayify value");for(var I=[];_;)I.unshift(255&_),_/=256;return I.length===0&&I.push(0),v(new Uint8Array(I))}if(E.allowMissingPrefix&&typeof _=="string"&&_.substring(0,2)!=="0x"&&(_="0x"+_),d(_)&&(_=_.toHexString()),x(_)){var z=_.substring(2);!E.allowOddLength&&z.length%2&&u.throwArgumentError("hex data is odd-length","value",_),I=[];for(var J=0;J<z.length;J+=2)I.push(parseInt(z.substring(J,J+2),16));return v(new Uint8Array(I))}return m(_)?v(new Uint8Array(_)):u.throwArgumentError("invalid arrayify value","value",_)}function C(_){var E=_.map(function(J){return w(J)}),I=E.reduce(function(J,Q){return J+Q.length},0),z=new Uint8Array(I);return E.reduce(function(J,Q){return z.set(Q,J),J+Q.length},0),v(z)}function x(_,E){return!(typeof _!="string"||!_.match(/^0x[0-9A-Fa-f]*$/))&&(!E||_.length===2+2*E)}n.isBytesLike=A,n.isBytes=m,n.arrayify=w,n.concat=C,n.stripZeros=function(_){var E=w(_);if(E.length===0)return E;for(var I=0;I<E.length&&E[I]===0;)I++;return I&&(E=E.slice(I)),E},n.zeroPad=function(_,E){(_=w(_)).length>E&&u.throwArgumentError("value out of range","value",arguments[0]);var I=new Uint8Array(E);return I.set(_,E-_.length),v(I)},n.isHexString=x;var O="0123456789abcdef";function M(_,E){if(E||(E={}),typeof _=="number"){u.checkSafeUint53(_,"invalid hexlify value");for(var I="";_;)I=O[15&_]+I,_=Math.floor(_/16);return I.length?(I.length%2&&(I="0"+I),"0x"+I):"0x00"}if(E.allowMissingPrefix&&typeof _=="string"&&_.substring(0,2)!=="0x"&&(_="0x"+_),d(_))return _.toHexString();if(x(_))return!E.allowOddLength&&_.length%2&&u.throwArgumentError("hex data is odd-length","value",_),_.toLowerCase();if(m(_)){for(var z="0x",J=0;J<_.length;J++){var Q=_[J];z+=O[(240&Q)>>4]+O[15&Q]}return z}return u.throwArgumentError("invalid hexlify value","value",_)}function R(_){typeof _!="string"&&(_=M(_)),x(_)||u.throwArgumentError("invalid hex string","value",_),_=_.substring(2);for(var E=0;E<_.length&&_[E]==="0";)E++;return"0x"+_.substring(E)}function B(_,E){for(typeof _!="string"?_=M(_):x(_)||u.throwArgumentError("invalid hex string","value",_),_.length>2*E+2&&u.throwArgumentError("value out of range","value",arguments[1]);_.length<2*E+2;)_="0x0"+_.substring(2);return _}function q(_){var E={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0};if(A(_)){var I=w(_);I.length!==65&&u.throwArgumentError("invalid signature string; must be 65 bytes","signature",_),E.r=M(I.slice(0,32)),E.s=M(I.slice(32,64)),E.v=I[64],E.v!==27&&E.v!==28&&(E.v=27+E.v%2),E.recoveryParam=E.v-27,E.recoveryParam&&(I[32]|=128),E._vs=M(I.slice(32,64))}else{if(E.r=_.r,E.s=_.s,E.v=_.v,E.recoveryParam=_.recoveryParam,E._vs=_._vs,E.v!=null&&E.v!=27&&E.v!=28&&(E.v=27+E.v%2),E.recoveryParam==null&&E.v!=null?E.recoveryParam=1-E.v%2:E.recoveryParam!=null&&E.v==null?E.v=27+E.recoveryParam:E.recoveryParam!=null&&E.v!=null&&E.v!==27+E.recoveryParam&&u.throwArgumentError("signature v mismatch recoveryParam","signature",_),E.r!=null&&(E.r=B(E.r,32)),E.s!=null&&(E.s=B(E.s,32)),E._vs!=null){E._vs=B(E._vs,32),E._vs.length>66&&u.throwArgumentError("signature _vs overflow","signature",_);var z=(N=w(E._vs))[0]>=128?1:0,J=27+E.recoveryParam;N[0]&=127;var Q=M(N);E.s==null?E.s=Q:E.s!==Q&&u.throwArgumentError("signature v mismatch _vs","signature",_),E.v==null?E.v=J:E.v!==J&&u.throwArgumentError("signature v mismatch _vs","signature",_),z==null?E.recoveryParam=z:E.recoveryParam!==z&&u.throwArgumentError("signature recoveryParam mismatch _vs","signature",_)}var N;E.v==null&&E.recoveryParam==null&&u.throwArgumentError("signature requires at least one of recoveryParam, v or _vs","signature",_),E.v!==27&&E.v!==28&&u.throwArgumentError("signature v not canonical","signature",_),(E.r.length>66||E.s.length>66)&&u.throwArgumentError("signature overflow r or s","signature",_),E._vs==null&&((N=w(E.s))[0]>=128&&u.throwArgumentError("signature s out of range","signature",_),E.recoveryParam&&(N[0]|=128),E._vs=M(N))}return E}n.hexlify=M,n.hexDataLength=function(_){if(typeof _!="string")_=M(_);else if(!x(_)||_.length%2)return null;return(_.length-2)/2},n.hexDataSlice=function(_,E,I){return typeof _!="string"?_=M(_):(!x(_)||_.length%2)&&u.throwArgumentError("invalid hexData","value",_),E=2+2*E,I!=null?"0x"+_.substring(E,2+2*I):"0x"+_.substring(E)},n.hexConcat=function(_){var E="0x";return _.forEach(function(I){E+=M(I).substring(2)}),E},n.hexValue=function(_){var E=R(M(_,{allowOddLength:!0}));return E==="0x"?"0x0":E},n.hexStripZeros=R,n.hexZeroPad=B,n.splitSignature=q,n.joinSignature=function(_){return M(C([(_=q(_)).r,_.s,_.recoveryParam?"0x1c":"0x1b"]))}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s="@TODO";n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT";var u=!1,d=!1;function v(M,R,B){if(d)return new Error("unknown error");R||(R=n.UNKNOWN_ERROR),B||(B={});var q=[];Object.keys(B).forEach(function(I){try{q.push(I+"="+JSON.stringify(B[I]))}catch{q.push(I+"="+JSON.stringify(B[I].toString()))}}),q.push("version="+s);var _=M;q.length&&(M+=" ("+q.join(", ")+")");var E=new Error(M);return E.reason=_,E.code=R,Object.keys(B).forEach(function(I){E[I]=B[I]}),E}function A(M,R,B){throw v(M,R,B)}n.setCensorship=function(M,R){u&&A("error censorship permanent",n.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),d=!!M,u=!!R},n.makeError=v,n.throwError=A,n.throwArgumentError=function(M,R,B){return A(M,n.INVALID_ARGUMENT,{argument:R,value:B})},n.checkArgumentCount=function(M,R,B){B=B?" "+B:"",M<R&&A("missing argument"+B,n.MISSING_ARGUMENT,{count:M,expectedCount:R}),M>R&&A("too many arguments"+B,n.UNEXPECTED_ARGUMENT,{count:M,expectedCount:R})},n.checkNew=function(M,R){M!==Object&&M!=null||A("missing new",n.MISSING_NEW,{name:R.name})},n.checkAbstract=function(M,R){M===R?A("cannot instantiate abstract class "+JSON.stringify(R.name)+" directly; use a sub-class",n.UNSUPPORTED_OPERATION,{name:M.name,operation:"new"}):M!==Object&&M!=null||A("missing new",n.MISSING_NEW,{name:R.name})};var m=function(){try{var M=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(R){try{"test".normalize(R)}catch{M.push(R)}}),M.length)throw new Error("missing "+M.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(R){return R.message}return null}();n.checkNormalize=function(){m&&A("platform missing String.prototype.normalize",n.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:m})},n.checkSafeUint53=function(M,R){typeof M=="number"&&(R==null&&(R="value not safe"),(M<0||M>=9007199254740991)&&A(R,n.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:M}),M%1&&A(R,n.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:M}))};var w={debug:1,default:2,info:2,warn:3,error:4,off:5},C=w.default;function x(M,R){C>w[M]||console.log.apply(console,R)}function O(){for(var M=[],R=0;R<arguments.length;R++)M[R]=arguments[R];x("warn",M)}n.setLogLevel=function(M){var R=w[M];R!=null?C=R:O("invliad log level - "+M)},n.warn=O,n.info=function(){for(var M=[],R=0;R<arguments.length;R++)M[R]=arguments[R];x("info",M)}},function(r,n,i){(function(s){Object.defineProperty(n,"__esModule",{value:!0});var u=i(0),d=i(1),v=i(12);function A(_){return v.toUtf8String(new Uint8Array(_))}function m(_,E){var I=d.hexlify(new Uint8Array(_));return E&&(I=B(I)),I}function w(_,E){var I=_.toString("hex");return E||(I=R(I)),I}function C(_){return v.toUtf8Bytes(_).buffer}function x(_,E){return m(C(_),E)}function O(_){return _=B(_),new s(_,"hex")}function M(_){return _=R(_),d.arrayify(_).buffer}function R(_){return _.toLowerCase().substring(0,2)==="0x"?_:"0x"+_}function B(_){return _.toLowerCase().substring(0,2)==="0x"?_.substring(2):_}function q(_){for(var E={},I=(_[0]==="?"?_.substr(1):_).split("&"),z=0;z<I.length;z++){var J=I[z].match(/\w+(?==)/i)||[],Q=I[z].match(/=.+/i)||[];J[0]&&(E[decodeURIComponent(J[0])]=decodeURIComponent(Q[0].substr(1)))}return E}n.version=2,n.convertArrayBufferToBuffer=function(_){return O(m(_))},n.convertArrayBufferToUtf8=A,n.convertArrayBufferToHex=m,n.concatArrayBuffers=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];return M(_.map(function(I){return m(I,!0)}).join(""))},n.convertBufferToArrayBuffer=function(_){return M(w(_))},n.convertBufferToUtf8=function(_){return _.toString("utf8")},n.convertBufferToHex=w,n.concatBuffers=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];return O(_.map(function(I){return w(I,!0)}).join(""))},n.convertUtf8ToArrayBuffer=C,n.convertUtf8ToBuffer=function(_){return new s(_,"utf8")},n.convertUtf8ToHex=x,n.convertHexToBuffer=O,n.convertHexToArrayBuffer=M,n.convertHexToUtf8=function(_){return A(M(_))},n.sanitizeHex=function(_){return _=R(_=(_=B(_)).length%2!=0?"0"+_:_)},n.addHexPrefix=R,n.removeHexPrefix=B,n.payloadId=function(){return new Date().getTime()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3))},n.uuid=function(){return function(_,E){for(E=_="";_++<36;E+=51*_&52?(15^_?8^Math.random()*(20^_?16:4):4).toString(16):"-");return E}()},n.getMeta=function(){if(typeof window=="undefined"||typeof document=="undefined"||window.location===void 0)return null;function _(){for(var Q=[],N=0;N<arguments.length;N++)Q[N]=arguments[N];for(var W=document.getElementsByTagName("meta"),Y=function(a){var p=W[a],h=["itemprop","property","name"].map(function(g){return p.getAttribute(g)}).filter(function(g){g&&Q.includes(g)});if(h.length&&h){var l=p.getAttribute("content");if(l)return{value:l}}},G=0;G<W.length;G++){var o=Y(G);if(typeof o=="object")return o.value}return""}var E=function(){var Q=_("name","og:site_name","og:title","twitter:title");return Q||(Q=document.title),Q}(),I=_("description","og:description","twitter:description","keywords"),z=window.location.origin,J=function(){for(var Q=document.getElementsByTagName("link"),N=[],W=0;W<Q.length;W++){var Y=Q[W],G=Y.getAttribute("rel");if(G&&G.toLowerCase().indexOf("icon")>-1){var o=Y.getAttribute("href");if(o)if(o.toLowerCase().indexOf("https:")===-1&&o.toLowerCase().indexOf("http:")===-1&&o.indexOf("//")!==0){var a=window.location.protocol+"//"+window.location.host;if(o.indexOf("/")===0)a+=o;else{var p=window.location.pathname.split("/");p.pop(),a+=p.join("/")+"/"+o}N.push(a)}else if(o.indexOf("//")===0){var h=window.location.protocol+o;N.push(h)}else N.push(o)}}return N}();return{bridgeVersion:n.version,description:I,url:z,icons:J,name:E}},n.parseQueryString=q,n.parseWalletConnectUri=function(_){var E=_.indexOf(":"),I=_.indexOf("?")!==-1?_.indexOf("?"):void 0,z=_.substring(0,E),J=function(N){var W=N.split("@");return{handshakeTopic:W[0],version:parseInt(W[1],10)}}(_.substring(E+1,I)),Q=function(N){var W=q(N);return{key:W.key||"",bridge:W.bridge||""}}(I!==void 0?_.substr(I):"");return u.__assign({protocol:z},J,Q)},n.promisify=function(_,E){var I=this;return function(){for(var z=[],J=0;J<arguments.length;J++)z[J]=arguments[J];return u.__awaiter(I,void 0,void 0,function(){return u.__generator(this,function(Q){return[2,new Promise(function(N,W){_.apply(E,u.__spread(z,[function(Y,G){Y==null&&W(Y),N(G)}]))})]})})}},n.parsePersonalSign=function(_){return d.isHexString(_[1])||(_[1]=x(_[1])),_},n.formatRpcError=function(_){var E=_.message||"Failed or Rejected Request",I=-32e3;if(_&&!_.code)switch(E){case"Parse error":I=-32700;break;case"Invalid request":I=-32600;break;case"Method not found":I=-32601;break;case"Invalid params":I=-32602;break;case"Internal error":I=-32603;break;default:I=-32e3}return{code:I,message:E}}}).call(this,i(7).Buffer)},function(r,n,i){var s=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var R={};if(M!=null)for(var B in M)Object.hasOwnProperty.call(M,B)&&(R[B]=M[B]);return R.default=M,R};Object.defineProperty(n,"__esModule",{value:!0});var u=s(i(15)),d=i(1),v=s(i(2)),A={};n.isBigNumberish=function(M){return M!=null&&(m.isBigNumber(M)||typeof M=="number"&&M%1==0||typeof M=="string"&&!!M.match(/^-?[0-9]+$/)||d.isHexString(M)||typeof M=="bigint"||d.isBytes(M))};var m=function(){function M(R,B){var q=this.constructor;v.checkNew(q,M),R!==A&&v.throwError("cannot call consturtor directly; use BigNumber.from",v.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=B,this._isBigNumber=!0,Object.freeze(this)}return M.prototype.fromTwos=function(R){return C(x(this).fromTwos(R))},M.prototype.toTwos=function(R){return C(x(this).toTwos(R))},M.prototype.abs=function(){return this._hex[0]==="-"?M.from(this._hex.substring(1)):this},M.prototype.add=function(R){return C(x(this).add(x(R)))},M.prototype.sub=function(R){return C(x(this).sub(x(R)))},M.prototype.div=function(R){return M.from(R).isZero()&&O("division by zero","div"),C(x(this).div(x(R)))},M.prototype.mul=function(R){return C(x(this).mul(x(R)))},M.prototype.mod=function(R){return C(x(this).mod(x(R)))},M.prototype.pow=function(R){return C(x(this).pow(x(R)))},M.prototype.maskn=function(R){return C(x(this).maskn(R))},M.prototype.eq=function(R){return x(this).eq(x(R))},M.prototype.lt=function(R){return x(this).lt(x(R))},M.prototype.lte=function(R){return x(this).lte(x(R))},M.prototype.gt=function(R){return x(this).gt(x(R))},M.prototype.gte=function(R){return x(this).gte(x(R))},M.prototype.isZero=function(){return x(this).isZero()},M.prototype.toNumber=function(){try{return x(this).toNumber()}catch{O("overflow","toNumber",this.toString())}return null},M.prototype.toString=function(){return arguments.length!==0&&v.throwError("bigNumber.toString does not accept parameters",v.UNEXPECTED_ARGUMENT,{}),x(this).toString(10)},M.prototype.toHexString=function(){return this._hex},M.from=function(R){return R instanceof M?R:typeof R=="string"?R.match(/-?0x[0-9a-f]+/i)?new M(A,w(R)):R.match(/^-?[0-9]+$/)?new M(A,w(new u.BN(R))):v.throwArgumentError("invalid BigNumber string","value",R):typeof R=="number"?(R%1&&O("underflow","BigNumber.from",R),(R>=9007199254740991||R<=-9007199254740991)&&O("overflow","BigNumber.from",R),M.from(String(R))):typeof R=="bigint"?M.from(R.toString()):d.isBytes(R)?M.from(d.hexlify(R)):R._hex&&d.isHexString(R._hex)?M.from(R._hex):R.toHexString&&typeof(R=R.toHexString())=="string"?M.from(R):v.throwArgumentError("invalid BigNumber value","value",R)},M.isBigNumber=function(R){return!(!R||!R._isBigNumber)},M}();function w(M){if(typeof M!="string")return w(M.toString(16));if(M[0]==="-")return(M=M.substring(1))[0]==="-"&&v.throwArgumentError("invalid hex","value",M),(M=w(M))==="0x00"?M:"-"+M;if(M.substring(0,2)!=="0x"&&(M="0x"+M),M==="0x")return"0x00";for(M.length%2&&(M="0x0"+M.substring(2));M.length>4&&M.substring(0,4)==="0x00";)M="0x"+M.substring(4);return M}function C(M){return m.from(w(M))}function x(M){var R=m.from(M).toHexString();return R[0]==="-"?new u.BN("-"+R.substring(3),16):new u.BN(R.substring(2),16)}function O(M,R,B){var q={fault:M,operation:R};return B!=null&&(q.value=B),v.throwError(M,v.NUMERIC_FAULT,q)}n.BigNumber=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),u=s.__importDefault(i(6)),d=s.__importStar(i(21)),v=function(A){function m(w,C){return A.call(this,d,w,C)||this}return s.__extends(m,A),m}(u.default);n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),u=i(3),d=s.__importDefault(i(19)),v=s.__importDefault(i(20));function A(C){return"result"in C}function m(C){return"error"in C}var w=function(){function C(x,O,M){var R=this;if(this.bizHeartBeatHandler=null,this.cryptoLib=x,this.protocol="vc",this.version=u.version,this._bridge="",this._key=null,this._nextKey=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._accounts=[],this._chainId=0,this._eventManager=new v.default,this._connected=!1,M&&(this._clientMeta=M),!O.bridge&&!O.uri&&!O.session)throw new Error("Missing one of the required parameters: bridge / uri / session");O.bridge&&(this.bridge=O.bridge),O.uri&&(this.uri=O.uri);var B=O.session||null;B&&(this.session=B),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._socket=new d.default({bridge:this.bridge,callback:function(q){return R._handleIncomingMessages(q)}}),O.uri&&this._subscribeToSessionRequest(),this._subscribeToInternalEvents(),this._socket.open([{topic:""+this.clientId,type:"sub",payload:""}])}return Object.defineProperty(C.prototype,"bridge",{get:function(){return this._bridge},set:function(x){x&&(this._bridge=x)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"key",{get:function(){return this._key?u.convertArrayBufferToHex(this._key,!0):""},set:function(x){if(x){var O=u.convertHexToArrayBuffer(x);this._key=O}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"nextKey",{get:function(){return this._nextKey?u.convertArrayBufferToHex(this._nextKey):""},set:function(x){if(x){var O=u.convertHexToArrayBuffer(x);this._nextKey=O}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"clientId",{get:function(){var x=this._clientId;return x||(x=this._clientId=u.uuid()),this._clientId},set:function(x){x&&(this._clientId=x)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"peerId",{get:function(){return this._peerId},set:function(x){x&&(this._peerId=x)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"clientMeta",{get:function(){return this._clientMeta||u.getMeta()?Object.assign({},this._clientMeta||{},u.getMeta()||{}):null},set:function(x){},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"peerMeta",{get:function(){return this._peerMeta},set:function(x){this._peerMeta=x},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"handshakeTopic",{get:function(){return this._handshakeTopic},set:function(x){x&&(this._handshakeTopic=x)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"handshakeId",{get:function(){return this._handshakeId},set:function(x){x&&(this._handshakeId=x)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"uri",{get:function(){return this._formatUri()},set:function(x){if(x){var O=this._parseUri(x),M=O.handshakeTopic,R=O.bridge,B=O.key;this.handshakeTopic=M,this.bridge=R,this.key=B}},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"chainId",{get:function(){return this._chainId},set:function(x){this._chainId=x},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"accounts",{get:function(){return this._accounts},set:function(x){this._accounts=x},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"connected",{get:function(){return this._connected},set:function(x){},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"pending",{get:function(){return!!this._handshakeTopic},set:function(x){},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"session",{get:function(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}},set:function(x){x&&(this._connected=x.connected,this.accounts=x.accounts,this.chainId=x.chainId,this.bridge=x.bridge,this.key=x.key,this.clientId=x.clientId,this.clientMeta=x.clientMeta,this.peerId=x.peerId,this.peerMeta=x.peerMeta,this.handshakeId=x.handshakeId,this.handshakeTopic=x.handshakeTopic)},enumerable:!0,configurable:!0}),C.prototype.on=function(x,O){var M={event:x,callback:O};this._eventManager.subscribe(M)},C.prototype.createSession=function(x){return s.__awaiter(this,void 0,void 0,function(){var O,M;return s.__generator(this,function(R){switch(R.label){case 0:if(this._connected)throw new Error("Session currently connected");return this.pending?[2]:(O=this,[4,this._generateKey()]);case 1:return O._key=R.sent(),M=this._formatRequest({method:"vc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:x&&x.chainId?x.chainId:null}]}),this.handshakeId=M.id,this.handshakeTopic=u.uuid(),this._sendSessionRequest(M,"Session update rejected",this.handshakeTopic),[2]}})})},C.prototype.approveSession=function(x){if(this._connected)throw new Error("Session currently connected");this.chainId=x.chainId,this.accounts=x.accounts;var O={bridgeVersion:u.version,approved:!0,chainId:this.chainId,accounts:this.accounts,peerId:this.clientId,peerMeta:this.clientMeta},M={id:this.handshakeId,jsonrpc:"2.0",result:O};this._sendResponse(M),this._connected=!0,this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})},C.prototype.rejectSession=function(x){if(this._connected)throw new Error("Session currently connected");var O=x&&x.message?x.message:"Session Rejected",M=this._formatResponse({id:this.handshakeId,error:{message:O}});this._sendResponse(M),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:O}]})},C.prototype.updateSession=function(x){if(!this._connected)throw new Error("Session currently disconnected");this.chainId=x.chainId,this.accounts=x.accounts;var O={bridgeVersion:u.version,approved:!0,chainId:this.chainId,accounts:this.accounts},M=this._formatRequest({method:"vc_sessionUpdate",params:[O]});this._sendSessionRequest(M,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})},C.prototype.killSession=function(x){return s.__awaiter(this,void 0,void 0,function(){var O,M,R;return s.__generator(this,function(B){switch(B.label){case 0:return O=x?x.message:"Session Disconnected",M={bridgeVersion:u.version,approved:!1,chainId:null,accounts:null},R=this._formatRequest({method:"vc_sessionUpdate",params:[M]}),[4,this._sendRequest(R)];case 1:return B.sent(),this._handleSessionDisconnect(O),[2]}})})},C.prototype.sendCustomRequest=function(x){return s.__awaiter(this,void 0,void 0,function(){var O;return s.__generator(this,function(M){switch(M.label){case 0:if(!this._connected)throw new Error("Session currently disconnected");O=this._formatRequest(x),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,this._sendCallRequest(O)];case 2:return[2,M.sent()];case 3:throw M.sent();case 4:return[2]}})})},C.prototype.approveRequest=function(x){if(!A(x))throw new Error('JSON-RPC success response must include "result" field');var O=this._formatResponse(x);this._sendResponse(O)},C.prototype.rejectRequest=function(x){if(!m(x))throw new Error('JSON-RPC error response must include "error" field');var O=this._formatResponse(x);this._sendResponse(O)},C.prototype._sendRequest=function(x,O,M){return M===void 0&&(M=!1),s.__awaiter(this,void 0,void 0,function(){var R,B,q,_,E;return s.__generator(this,function(I){switch(I.label){case 0:return R=this._formatRequest(x),[4,this._encrypt(R)];case 1:return B=I.sent(),q=O||this.peerId,_=JSON.stringify(B),E={topic:q,type:"pub",payload:_,isSessionRequest:M},this._socket.send(E),[2]}})})},C.prototype._sendResponse=function(x){return s.__awaiter(this,void 0,void 0,function(){var O,M,R,B;return s.__generator(this,function(q){switch(q.label){case 0:return[4,this._encrypt(x)];case 1:return O=q.sent(),M=this.peerId,R=JSON.stringify(O),B={topic:M,type:"pub",payload:R},this._socket.send(B),[2]}})})},C.prototype._sendSessionRequest=function(x,O,M){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(R){return this._sendRequest(x,M,!0),this._subscribeToSessionResponse(x.id,O),[2]})})},C.prototype._sendCallRequest=function(x){return this._sendRequest(x),this._subscribeToCallResponse(x.id)},C.prototype._formatRequest=function(x){if(x.method===void 0)throw new Error('JSON RPC request must have valid "method" value');return{id:x.id===void 0?u.payloadId():x.id,jsonrpc:"2.0",method:x.method,params:x.params===void 0?[]:x.params}},C.prototype._formatResponse=function(x){if(x.id===void 0)throw new Error('JSON RPC request must have valid "id" value');if(m(x)){var O=u.formatRpcError(x.error);return s.__assign({jsonrpc:"2.0"},x,{error:O})}if(A(x))return s.__assign({jsonrpc:"2.0"},x);throw new Error("JSON RPC response format is invalid")},C.prototype._handleSessionDisconnect=function(x){var O=x||"Session Disconnected";this._connected&&(this._connected=!1),this._eventManager.trigger({event:"disconnect",params:[{message:O}]}),this._socket.close()},C.prototype._handleSessionResponse=function(x,O){O&&O.approved?this._connected?(O.chainId&&(this.chainId=O.chainId),O.accounts&&(this.accounts=O.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,O.chainId&&(this.chainId=O.chainId),O.accounts&&(this.accounts=O.accounts),O.peerId&&!this.peerId&&(this.peerId=O.peerId),O.peerMeta&&!this.peerMeta&&(this.peerMeta=O.peerMeta),this._eventManager.trigger({event:"connect",params:[{version:O.bridgeVersion||1,peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})):this._handleSessionDisconnect(x)},C.prototype._handleIncomingMessages=function(x){return s.__awaiter(this,void 0,void 0,function(){var O,M;return s.__generator(this,function(R){switch(R.label){case 0:if(![this.clientId,this.handshakeTopic].includes(x.topic))return[2];try{O=JSON.parse(x.payload)}catch(B){throw B}return[4,this._decrypt(O)];case 1:return(M=R.sent())&&this._eventManager.trigger(M),[2]}})})},C.prototype._subscribeToSessionRequest=function(){this._socket.queue({topic:""+this.handshakeTopic,type:"sub",payload:""})},C.prototype._subscribeToSessionResponse=function(x,O){var M=this;this.on("response:"+x,function(R,B){R?M._handleSessionResponse(R.message):B.result?M._handleSessionResponse(O,B.result):B.error&&B.error.message?M._handleSessionResponse(B.error.message):M._handleSessionResponse(O)})},C.prototype._subscribeToCallResponse=function(x){var O=this;return new Promise(function(M,R){O.on("response:"+x,function(B,q){B?R(B):q.result?M(q.result):q.error&&q.error.message?R(new Error(q.error.message)):R(new Error("Invalid JSON RPC response format received"))})})},C.prototype._subscribeToInternalEvents=function(){var x=this;this.on("vc_sessionRequest",function(O,M){O&&x._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:O.toString()}]}),x.handshakeId=M.id,x.peerId=M.params[0].peerId,x.peerMeta=M.params[0].peerMeta;var R=s.__assign({},M,{method:"session_request"});x._eventManager.trigger(R)}),this.on("vc_sessionUpdate",function(O,M){O&&x._handleSessionResponse(O.message),x._handleSessionResponse("Session disconnected",M.params[0])}),this.on("connect",function(O,M){O&&x._eventManager.trigger({event:"error",params:[{code:"SESSION_CONNECTION_ERROR",message:O.toString()}]}),M.params&&M.params[0]&&M.params[0].version<2&&x.startBizHeartBeat(),x._socket.pushIncoming()}),this.on("vc_peerPing",function(O,M){var R={id:M.id,jsonrpc:"2.0",result:null};x._sendResponse(R)})},C.prototype.startBizHeartBeat=function(){var x=this;this.sendCustomRequest({method:"vc_peerPing"}),this.bizHeartBeatHandler=setInterval(function(){x.sendCustomRequest({method:"vc_peerPing"})},5e3)},C.prototype.stopBizHeartBeat=function(){this.bizHeartBeatHandler!==null&&(clearInterval(this.bizHeartBeatHandler),this.bizHeartBeatHandler=null)},C.prototype.destroy=function(){var x=this;this.stopBizHeartBeat(),this.killSession().finally(function(){x._eventManager.offAll(),x._socket.close()}),setTimeout(function(){x._eventManager.offAll(),x._socket.close()},2e3)},C.prototype._formatUri=function(){return this.protocol+":"+this.handshakeTopic+"@"+this.version+"?bridge="+encodeURIComponent(this.bridge)+"&key="+this.key},C.prototype._parseUri=function(x){var O=u.parseWalletConnectUri(x);if(O.protocol===this.protocol){if(!O.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");var M=O.handshakeTopic;if(!O.bridge)throw Error("Invalid or missing bridge url parameter value");var R=decodeURIComponent(O.bridge);if(!O.key)throw Error("Invalid or missing kkey parameter value");return{handshakeTopic:M,bridge:R,key:O.key}}throw new Error("URI format doesn't follow Connector protocol")},C.prototype._generateKey=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(x){switch(x.label){case 0:return this.cryptoLib?[4,this.cryptoLib.generateKey()]:[3,2];case 1:return[2,x.sent()];case 2:return[2,null]}})})},C.prototype._encrypt=function(x){return s.__awaiter(this,void 0,void 0,function(){var O;return s.__generator(this,function(M){switch(M.label){case 0:return O=this._key,this.cryptoLib&&O?[4,this.cryptoLib.encrypt(x,O)]:[3,2];case 1:return[2,M.sent()];case 2:return[2,null]}})})},C.prototype._decrypt=function(x){return s.__awaiter(this,void 0,void 0,function(){var O;return s.__generator(this,function(M){switch(M.label){case 0:return O=this._key,this.cryptoLib&&O?[4,this.cryptoLib.decrypt(x,O)]:[3,2];case 1:return[2,M.sent()];case 2:return[2,null]}})})},C}();n.default=w},function(r,n,i){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var u=i(9),d=i(10),v=i(11);function A(){return w.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function m(f,y){if(A()<y)throw new RangeError("Invalid typed array length");return w.TYPED_ARRAY_SUPPORT?(f=new Uint8Array(y)).__proto__=w.prototype:(f===null&&(f=new w(y)),f.length=y),f}function w(f,y,c){if(!(w.TYPED_ARRAY_SUPPORT||this instanceof w))return new w(f,y,c);if(typeof f=="number"){if(typeof y=="string")throw new Error("If encoding is specified then the first argument must be a string");return O(this,f)}return C(this,f,y,c)}function C(f,y,c,b){if(typeof y=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&y instanceof ArrayBuffer?function(T,S,k,L){if(S.byteLength,k<0||S.byteLength<k)throw new RangeError("'offset' is out of bounds");if(S.byteLength<k+(L||0))throw new RangeError("'length' is out of bounds");return S=k===void 0&&L===void 0?new Uint8Array(S):L===void 0?new Uint8Array(S,k):new Uint8Array(S,k,L),w.TYPED_ARRAY_SUPPORT?(T=S).__proto__=w.prototype:T=M(T,S),T}(f,y,c,b):typeof y=="string"?function(T,S,k){if(typeof k=="string"&&k!==""||(k="utf8"),!w.isEncoding(k))throw new TypeError('"encoding" must be a valid string encoding');var L=0|B(S,k),K=(T=m(T,L)).write(S,k);return K!==L&&(T=T.slice(0,K)),T}(f,y,c):function(T,S){if(w.isBuffer(S)){var k=0|R(S.length);return(T=m(T,k)).length===0||S.copy(T,0,0,k),T}if(S){if(typeof ArrayBuffer!="undefined"&&S.buffer instanceof ArrayBuffer||"length"in S)return typeof S.length!="number"||(L=S.length)!=L?m(T,0):M(T,S);if(S.type==="Buffer"&&v(S.data))return M(T,S.data)}var L;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(f,y)}function x(f){if(typeof f!="number")throw new TypeError('"size" argument must be a number');if(f<0)throw new RangeError('"size" argument must not be negative')}function O(f,y){if(x(y),f=m(f,y<0?0:0|R(y)),!w.TYPED_ARRAY_SUPPORT)for(var c=0;c<y;++c)f[c]=0;return f}function M(f,y){var c=y.length<0?0:0|R(y.length);f=m(f,c);for(var b=0;b<c;b+=1)f[b]=255&y[b];return f}function R(f){if(f>=A())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A().toString(16)+" bytes");return 0|f}function B(f,y){if(w.isBuffer(f))return f.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(f)||f instanceof ArrayBuffer))return f.byteLength;typeof f!="string"&&(f=""+f);var c=f.length;if(c===0)return 0;for(var b=!1;;)switch(y){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return ut(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return Zt(f).length;default:if(b)return ut(f).length;y=(""+y).toLowerCase(),b=!0}}function q(f,y,c){var b=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0)<=(y>>>=0))return"";for(f||(f="utf8");;)switch(f){case"hex":return l(this,y,c);case"utf8":case"utf-8":return o(this,y,c);case"ascii":return p(this,y,c);case"latin1":case"binary":return h(this,y,c);case"base64":return G(this,y,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,y,c);default:if(b)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),b=!0}}function _(f,y,c){var b=f[y];f[y]=f[c],f[c]=b}function E(f,y,c,b,T){if(f.length===0)return-1;if(typeof c=="string"?(b=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=T?0:f.length-1),c<0&&(c=f.length+c),c>=f.length){if(T)return-1;c=f.length-1}else if(c<0){if(!T)return-1;c=0}if(typeof y=="string"&&(y=w.from(y,b)),w.isBuffer(y))return y.length===0?-1:I(f,y,c,b,T);if(typeof y=="number")return y&=255,w.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?T?Uint8Array.prototype.indexOf.call(f,y,c):Uint8Array.prototype.lastIndexOf.call(f,y,c):I(f,[y],c,b,T);throw new TypeError("val must be string, number or Buffer")}function I(f,y,c,b,T){var S,k=1,L=f.length,K=y.length;if(b!==void 0&&((b=String(b).toLowerCase())==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(f.length<2||y.length<2)return-1;k=2,L/=2,K/=2,c/=2}function j(tt,X){return k===1?tt[X]:tt.readUInt16BE(X*k)}if(T){var H=-1;for(S=c;S<L;S++)if(j(f,S)===j(y,H===-1?0:S-H)){if(H===-1&&(H=S),S-H+1===K)return H*k}else H!==-1&&(S-=S-H),H=-1}else for(c+K>L&&(c=L-K),S=c;S>=0;S--){for(var F=!0,Z=0;Z<K;Z++)if(j(f,S+Z)!==j(y,Z)){F=!1;break}if(F)return S}return-1}function z(f,y,c,b){c=Number(c)||0;var T=f.length-c;b?(b=Number(b))>T&&(b=T):b=T;var S=y.length;if(S%2!=0)throw new TypeError("Invalid hex string");b>S/2&&(b=S/2);for(var k=0;k<b;++k){var L=parseInt(y.substr(2*k,2),16);if(isNaN(L))return k;f[c+k]=L}return k}function J(f,y,c,b){return ht(ut(y,f.length-c),f,c,b)}function Q(f,y,c,b){return ht(function(T){for(var S=[],k=0;k<T.length;++k)S.push(255&T.charCodeAt(k));return S}(y),f,c,b)}function N(f,y,c,b){return Q(f,y,c,b)}function W(f,y,c,b){return ht(Zt(y),f,c,b)}function Y(f,y,c,b){return ht(function(T,S){for(var k,L,K,j=[],H=0;H<T.length&&!((S-=2)<0);++H)k=T.charCodeAt(H),L=k>>8,K=k%256,j.push(K),j.push(L);return j}(y,f.length-c),f,c,b)}function G(f,y,c){return y===0&&c===f.length?u.fromByteArray(f):u.fromByteArray(f.slice(y,c))}function o(f,y,c){c=Math.min(f.length,c);for(var b=[],T=y;T<c;){var S,k,L,K,j=f[T],H=null,F=j>239?4:j>223?3:j>191?2:1;if(T+F<=c)switch(F){case 1:j<128&&(H=j);break;case 2:(192&(S=f[T+1]))==128&&(K=(31&j)<<6|63&S)>127&&(H=K);break;case 3:S=f[T+1],k=f[T+2],(192&S)==128&&(192&k)==128&&(K=(15&j)<<12|(63&S)<<6|63&k)>2047&&(K<55296||K>57343)&&(H=K);break;case 4:S=f[T+1],k=f[T+2],L=f[T+3],(192&S)==128&&(192&k)==128&&(192&L)==128&&(K=(15&j)<<18|(63&S)<<12|(63&k)<<6|63&L)>65535&&K<1114112&&(H=K)}H===null?(H=65533,F=1):H>65535&&(H-=65536,b.push(H>>>10&1023|55296),H=56320|1023&H),b.push(H),T+=F}return function(Z){var tt=Z.length;if(tt<=a)return String.fromCharCode.apply(String,Z);for(var X="",et=0;et<tt;)X+=String.fromCharCode.apply(String,Z.slice(et,et+=a));return X}(b)}n.Buffer=w,n.SlowBuffer=function(f){return+f!=f&&(f=0),w.alloc(+f)},n.INSPECT_MAX_BYTES=50,w.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42&&typeof f.subarray=="function"&&f.subarray(1,1).byteLength===0}catch{return!1}}(),n.kMaxLength=A(),w.poolSize=8192,w._augment=function(f){return f.__proto__=w.prototype,f},w.from=function(f,y,c){return C(null,f,y,c)},w.TYPED_ARRAY_SUPPORT&&(w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0})),w.alloc=function(f,y,c){return function(b,T,S,k){return x(T),T<=0?m(b,T):S!==void 0?typeof k=="string"?m(b,T).fill(S,k):m(b,T).fill(S):m(b,T)}(null,f,y,c)},w.allocUnsafe=function(f){return O(null,f)},w.allocUnsafeSlow=function(f){return O(null,f)},w.isBuffer=function(f){return!(f==null||!f._isBuffer)},w.compare=function(f,y){if(!w.isBuffer(f)||!w.isBuffer(y))throw new TypeError("Arguments must be Buffers");if(f===y)return 0;for(var c=f.length,b=y.length,T=0,S=Math.min(c,b);T<S;++T)if(f[T]!==y[T]){c=f[T],b=y[T];break}return c<b?-1:b<c?1:0},w.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(f,y){if(!v(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return w.alloc(0);var c;if(y===void 0)for(y=0,c=0;c<f.length;++c)y+=f[c].length;var b=w.allocUnsafe(y),T=0;for(c=0;c<f.length;++c){var S=f[c];if(!w.isBuffer(S))throw new TypeError('"list" argument must be an Array of Buffers');S.copy(b,T),T+=S.length}return b},w.byteLength=B,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<f;y+=2)_(this,y,y+1);return this},w.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<f;y+=4)_(this,y,y+3),_(this,y+1,y+2);return this},w.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<f;y+=8)_(this,y,y+7),_(this,y+1,y+6),_(this,y+2,y+5),_(this,y+3,y+4);return this},w.prototype.toString=function(){var f=0|this.length;return f===0?"":arguments.length===0?o(this,0,f):q.apply(this,arguments)},w.prototype.equals=function(f){if(!w.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||w.compare(this,f)===0},w.prototype.inspect=function(){var f="",y=n.INSPECT_MAX_BYTES;return this.length>0&&(f=this.toString("hex",0,y).match(/.{2}/g).join(" "),this.length>y&&(f+=" ... ")),"<Buffer "+f+">"},w.prototype.compare=function(f,y,c,b,T){if(!w.isBuffer(f))throw new TypeError("Argument must be a Buffer");if(y===void 0&&(y=0),c===void 0&&(c=f?f.length:0),b===void 0&&(b=0),T===void 0&&(T=this.length),y<0||c>f.length||b<0||T>this.length)throw new RangeError("out of range index");if(b>=T&&y>=c)return 0;if(b>=T)return-1;if(y>=c)return 1;if(this===f)return 0;for(var S=(T>>>=0)-(b>>>=0),k=(c>>>=0)-(y>>>=0),L=Math.min(S,k),K=this.slice(b,T),j=f.slice(y,c),H=0;H<L;++H)if(K[H]!==j[H]){S=K[H],k=j[H];break}return S<k?-1:k<S?1:0},w.prototype.includes=function(f,y,c){return this.indexOf(f,y,c)!==-1},w.prototype.indexOf=function(f,y,c){return E(this,f,y,c,!0)},w.prototype.lastIndexOf=function(f,y,c){return E(this,f,y,c,!1)},w.prototype.write=function(f,y,c,b){if(y===void 0)b="utf8",c=this.length,y=0;else if(c===void 0&&typeof y=="string")b=y,c=this.length,y=0;else{if(!isFinite(y))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");y|=0,isFinite(c)?(c|=0,b===void 0&&(b="utf8")):(b=c,c=void 0)}var T=this.length-y;if((c===void 0||c>T)&&(c=T),f.length>0&&(c<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");for(var S=!1;;)switch(b){case"hex":return z(this,f,y,c);case"utf8":case"utf-8":return J(this,f,y,c);case"ascii":return Q(this,f,y,c);case"latin1":case"binary":return N(this,f,y,c);case"base64":return W(this,f,y,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,f,y,c);default:if(S)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),S=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;function p(f,y,c){var b="";c=Math.min(f.length,c);for(var T=y;T<c;++T)b+=String.fromCharCode(127&f[T]);return b}function h(f,y,c){var b="";c=Math.min(f.length,c);for(var T=y;T<c;++T)b+=String.fromCharCode(f[T]);return b}function l(f,y,c){var b=f.length;(!y||y<0)&&(y=0),(!c||c<0||c>b)&&(c=b);for(var T="",S=y;S<c;++S)T+=st(f[S]);return T}function g(f,y,c){for(var b=f.slice(y,c),T="",S=0;S<b.length;S+=2)T+=String.fromCharCode(b[S]+256*b[S+1]);return T}function P(f,y,c){if(f%1!=0||f<0)throw new RangeError("offset is not uint");if(f+y>c)throw new RangeError("Trying to access beyond buffer length")}function D(f,y,c,b,T,S){if(!w.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>T||y<S)throw new RangeError('"value" argument is out of bounds');if(c+b>f.length)throw new RangeError("Index out of range")}function $(f,y,c,b){y<0&&(y=65535+y+1);for(var T=0,S=Math.min(f.length-c,2);T<S;++T)f[c+T]=(y&255<<8*(b?T:1-T))>>>8*(b?T:1-T)}function U(f,y,c,b){y<0&&(y=4294967295+y+1);for(var T=0,S=Math.min(f.length-c,4);T<S;++T)f[c+T]=y>>>8*(b?T:3-T)&255}function V(f,y,c,b,T,S){if(c+b>f.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function rt(f,y,c,b,T){return T||V(f,0,c,4),d.write(f,y,c,b,23,4),c+4}function nt(f,y,c,b,T){return T||V(f,0,c,8),d.write(f,y,c,b,52,8),c+8}w.prototype.slice=function(f,y){var c,b=this.length;if((f=~~f)<0?(f+=b)<0&&(f=0):f>b&&(f=b),(y=y===void 0?b:~~y)<0?(y+=b)<0&&(y=0):y>b&&(y=b),y<f&&(y=f),w.TYPED_ARRAY_SUPPORT)(c=this.subarray(f,y)).__proto__=w.prototype;else{var T=y-f;c=new w(T,void 0);for(var S=0;S<T;++S)c[S]=this[S+f]}return c},w.prototype.readUIntLE=function(f,y,c){f|=0,y|=0,c||P(f,y,this.length);for(var b=this[f],T=1,S=0;++S<y&&(T*=256);)b+=this[f+S]*T;return b},w.prototype.readUIntBE=function(f,y,c){f|=0,y|=0,c||P(f,y,this.length);for(var b=this[f+--y],T=1;y>0&&(T*=256);)b+=this[f+--y]*T;return b},w.prototype.readUInt8=function(f,y){return y||P(f,1,this.length),this[f]},w.prototype.readUInt16LE=function(f,y){return y||P(f,2,this.length),this[f]|this[f+1]<<8},w.prototype.readUInt16BE=function(f,y){return y||P(f,2,this.length),this[f]<<8|this[f+1]},w.prototype.readUInt32LE=function(f,y){return y||P(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},w.prototype.readUInt32BE=function(f,y){return y||P(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},w.prototype.readIntLE=function(f,y,c){f|=0,y|=0,c||P(f,y,this.length);for(var b=this[f],T=1,S=0;++S<y&&(T*=256);)b+=this[f+S]*T;return b>=(T*=128)&&(b-=Math.pow(2,8*y)),b},w.prototype.readIntBE=function(f,y,c){f|=0,y|=0,c||P(f,y,this.length);for(var b=y,T=1,S=this[f+--b];b>0&&(T*=256);)S+=this[f+--b]*T;return S>=(T*=128)&&(S-=Math.pow(2,8*y)),S},w.prototype.readInt8=function(f,y){return y||P(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},w.prototype.readInt16LE=function(f,y){y||P(f,2,this.length);var c=this[f]|this[f+1]<<8;return 32768&c?4294901760|c:c},w.prototype.readInt16BE=function(f,y){y||P(f,2,this.length);var c=this[f+1]|this[f]<<8;return 32768&c?4294901760|c:c},w.prototype.readInt32LE=function(f,y){return y||P(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},w.prototype.readInt32BE=function(f,y){return y||P(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},w.prototype.readFloatLE=function(f,y){return y||P(f,4,this.length),d.read(this,f,!0,23,4)},w.prototype.readFloatBE=function(f,y){return y||P(f,4,this.length),d.read(this,f,!1,23,4)},w.prototype.readDoubleLE=function(f,y){return y||P(f,8,this.length),d.read(this,f,!0,52,8)},w.prototype.readDoubleBE=function(f,y){return y||P(f,8,this.length),d.read(this,f,!1,52,8)},w.prototype.writeUIntLE=function(f,y,c,b){f=+f,y|=0,c|=0,b||D(this,f,y,c,Math.pow(2,8*c)-1,0);var T=1,S=0;for(this[y]=255&f;++S<c&&(T*=256);)this[y+S]=f/T&255;return y+c},w.prototype.writeUIntBE=function(f,y,c,b){f=+f,y|=0,c|=0,b||D(this,f,y,c,Math.pow(2,8*c)-1,0);var T=c-1,S=1;for(this[y+T]=255&f;--T>=0&&(S*=256);)this[y+T]=f/S&255;return y+c},w.prototype.writeUInt8=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,1,255,0),w.TYPED_ARRAY_SUPPORT||(f=Math.floor(f)),this[y]=255&f,y+1},w.prototype.writeUInt16LE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[y]=255&f,this[y+1]=f>>>8):$(this,f,y,!0),y+2},w.prototype.writeUInt16BE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,2,65535,0),w.TYPED_ARRAY_SUPPORT?(this[y]=f>>>8,this[y+1]=255&f):$(this,f,y,!1),y+2},w.prototype.writeUInt32LE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[y+3]=f>>>24,this[y+2]=f>>>16,this[y+1]=f>>>8,this[y]=255&f):U(this,f,y,!0),y+4},w.prototype.writeUInt32BE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,4,4294967295,0),w.TYPED_ARRAY_SUPPORT?(this[y]=f>>>24,this[y+1]=f>>>16,this[y+2]=f>>>8,this[y+3]=255&f):U(this,f,y,!1),y+4},w.prototype.writeIntLE=function(f,y,c,b){if(f=+f,y|=0,!b){var T=Math.pow(2,8*c-1);D(this,f,y,c,T-1,-T)}var S=0,k=1,L=0;for(this[y]=255&f;++S<c&&(k*=256);)f<0&&L===0&&this[y+S-1]!==0&&(L=1),this[y+S]=(f/k>>0)-L&255;return y+c},w.prototype.writeIntBE=function(f,y,c,b){if(f=+f,y|=0,!b){var T=Math.pow(2,8*c-1);D(this,f,y,c,T-1,-T)}var S=c-1,k=1,L=0;for(this[y+S]=255&f;--S>=0&&(k*=256);)f<0&&L===0&&this[y+S+1]!==0&&(L=1),this[y+S]=(f/k>>0)-L&255;return y+c},w.prototype.writeInt8=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,1,127,-128),w.TYPED_ARRAY_SUPPORT||(f=Math.floor(f)),f<0&&(f=255+f+1),this[y]=255&f,y+1},w.prototype.writeInt16LE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[y]=255&f,this[y+1]=f>>>8):$(this,f,y,!0),y+2},w.prototype.writeInt16BE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,2,32767,-32768),w.TYPED_ARRAY_SUPPORT?(this[y]=f>>>8,this[y+1]=255&f):$(this,f,y,!1),y+2},w.prototype.writeInt32LE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,4,2147483647,-2147483648),w.TYPED_ARRAY_SUPPORT?(this[y]=255&f,this[y+1]=f>>>8,this[y+2]=f>>>16,this[y+3]=f>>>24):U(this,f,y,!0),y+4},w.prototype.writeInt32BE=function(f,y,c){return f=+f,y|=0,c||D(this,f,y,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),w.TYPED_ARRAY_SUPPORT?(this[y]=f>>>24,this[y+1]=f>>>16,this[y+2]=f>>>8,this[y+3]=255&f):U(this,f,y,!1),y+4},w.prototype.writeFloatLE=function(f,y,c){return rt(this,f,y,!0,c)},w.prototype.writeFloatBE=function(f,y,c){return rt(this,f,y,!1,c)},w.prototype.writeDoubleLE=function(f,y,c){return nt(this,f,y,!0,c)},w.prototype.writeDoubleBE=function(f,y,c){return nt(this,f,y,!1,c)},w.prototype.copy=function(f,y,c,b){if(c||(c=0),b||b===0||(b=this.length),y>=f.length&&(y=f.length),y||(y=0),b>0&&b<c&&(b=c),b===c||f.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),f.length-y<b-c&&(b=f.length-y+c);var T,S=b-c;if(this===f&&c<y&&y<b)for(T=S-1;T>=0;--T)f[T+y]=this[T+c];else if(S<1e3||!w.TYPED_ARRAY_SUPPORT)for(T=0;T<S;++T)f[T+y]=this[T+c];else Uint8Array.prototype.set.call(f,this.subarray(c,c+S),y);return S},w.prototype.fill=function(f,y,c,b){if(typeof f=="string"){if(typeof y=="string"?(b=y,y=0,c=this.length):typeof c=="string"&&(b=c,c=this.length),f.length===1){var T=f.charCodeAt(0);T<256&&(f=T)}if(b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!w.isEncoding(b))throw new TypeError("Unknown encoding: "+b)}else typeof f=="number"&&(f&=255);if(y<0||this.length<y||this.length<c)throw new RangeError("Out of range index");if(c<=y)return this;var S;if(y>>>=0,c=c===void 0?this.length:c>>>0,f||(f=0),typeof f=="number")for(S=y;S<c;++S)this[S]=f;else{var k=w.isBuffer(f)?f:ut(new w(f,b).toString()),L=k.length;for(S=0;S<c-y;++S)this[S+y]=k[S%L]}return this};var ot=/[^+\/0-9A-Za-z-_]/g;function st(f){return f<16?"0"+f.toString(16):f.toString(16)}function ut(f,y){var c;y=y||1/0;for(var b=f.length,T=null,S=[],k=0;k<b;++k){if((c=f.charCodeAt(k))>55295&&c<57344){if(!T){if(c>56319){(y-=3)>-1&&S.push(239,191,189);continue}if(k+1===b){(y-=3)>-1&&S.push(239,191,189);continue}T=c;continue}if(c<56320){(y-=3)>-1&&S.push(239,191,189),T=c;continue}c=65536+(T-55296<<10|c-56320)}else T&&(y-=3)>-1&&S.push(239,191,189);if(T=null,c<128){if((y-=1)<0)break;S.push(c)}else if(c<2048){if((y-=2)<0)break;S.push(c>>6|192,63&c|128)}else if(c<65536){if((y-=3)<0)break;S.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((y-=4)<0)break;S.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return S}function Zt(f){return u.toByteArray(function(y){if((y=function(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}(y).replace(ot,"")).length<2)return"";for(;y.length%4!=0;)y+="=";return y}(f))}function ht(f,y,c,b){for(var T=0;T<b&&!(T+c>=y.length||T>=f.length);++T)y[T+c]=f[T];return T}}).call(this,i(8))},function(r,n){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}r.exports=i},function(r,n,i){n.byteLength=function(x){var O=w(x),M=O[0],R=O[1];return 3*(M+R)/4-R},n.toByteArray=function(x){for(var O,M=w(x),R=M[0],B=M[1],q=new d(function(z,J,Q){return 3*(J+Q)/4-Q}(0,R,B)),_=0,E=B>0?R-4:R,I=0;I<E;I+=4)O=u[x.charCodeAt(I)]<<18|u[x.charCodeAt(I+1)]<<12|u[x.charCodeAt(I+2)]<<6|u[x.charCodeAt(I+3)],q[_++]=O>>16&255,q[_++]=O>>8&255,q[_++]=255&O;return B===2&&(O=u[x.charCodeAt(I)]<<2|u[x.charCodeAt(I+1)]>>4,q[_++]=255&O),B===1&&(O=u[x.charCodeAt(I)]<<10|u[x.charCodeAt(I+1)]<<4|u[x.charCodeAt(I+2)]>>2,q[_++]=O>>8&255,q[_++]=255&O),q},n.fromByteArray=function(x){for(var O,M=x.length,R=M%3,B=[],q=0,_=M-R;q<_;q+=16383)B.push(C(x,q,q+16383>_?_:q+16383));return R===1?(O=x[M-1],B.push(s[O>>2]+s[O<<4&63]+"==")):R===2&&(O=(x[M-2]<<8)+x[M-1],B.push(s[O>>10]+s[O>>4&63]+s[O<<2&63]+"=")),B.join("")};for(var s=[],u=[],d=typeof Uint8Array!="undefined"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,m=v.length;A<m;++A)s[A]=v[A],u[v.charCodeAt(A)]=A;function w(x){var O=x.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=x.indexOf("=");return M===-1&&(M=O),[M,M===O?0:4-M%4]}function C(x,O,M){for(var R,B,q=[],_=O;_<M;_+=3)R=(x[_]<<16&16711680)+(x[_+1]<<8&65280)+(255&x[_+2]),q.push(s[(B=R)>>18&63]+s[B>>12&63]+s[B>>6&63]+s[63&B]);return q.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(r,n){n.read=function(i,s,u,d,v){var A,m,w=8*v-d-1,C=(1<<w)-1,x=C>>1,O=-7,M=u?v-1:0,R=u?-1:1,B=i[s+M];for(M+=R,A=B&(1<<-O)-1,B>>=-O,O+=w;O>0;A=256*A+i[s+M],M+=R,O-=8);for(m=A&(1<<-O)-1,A>>=-O,O+=d;O>0;m=256*m+i[s+M],M+=R,O-=8);if(A===0)A=1-x;else{if(A===C)return m?NaN:1/0*(B?-1:1);m+=Math.pow(2,d),A-=x}return(B?-1:1)*m*Math.pow(2,A-d)},n.write=function(i,s,u,d,v,A){var m,w,C,x=8*A-v-1,O=(1<<x)-1,M=O>>1,R=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=d?0:A-1,q=d?1:-1,_=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(w=isNaN(s)?1:0,m=O):(m=Math.floor(Math.log(s)/Math.LN2),s*(C=Math.pow(2,-m))<1&&(m--,C*=2),(s+=m+M>=1?R/C:R*Math.pow(2,1-M))*C>=2&&(m++,C/=2),m+M>=O?(w=0,m=O):m+M>=1?(w=(s*C-1)*Math.pow(2,v),m+=M):(w=s*Math.pow(2,M-1)*Math.pow(2,v),m=0));v>=8;i[u+B]=255&w,B+=q,w/=256,v-=8);for(m=m<<v|w,x+=v;x>0;i[u+B]=255&m,B+=q,m/=256,x-=8);i[u+B-q]|=128*_}},function(r,n){var i={}.toString;r.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s,u=i(13),d=i(2),v=i(1);function A(w,C){C===void 0&&(C=s.current),C!=s.current&&(d.checkNormalize(),w=w.normalize(C));for(var x=[],O=0;O<w.length;O++){var M=w.charCodeAt(O);if(M<128)x.push(M);else if(M<2048)x.push(M>>6|192),x.push(63&M|128);else if((64512&M)==55296){O++;var R=w.charCodeAt(O);if(O>=w.length||(64512&R)!=56320)throw new Error("invalid utf-8 string");M=65536+((1023&M)<<10)+(1023&R),x.push(M>>18|240),x.push(M>>12&63|128),x.push(M>>6&63|128),x.push(63&M|128)}else x.push(M>>12|224),x.push(M>>6&63|128),x.push(63&M|128)}return v.arrayify(x)}function m(w,C){w=v.arrayify(w);for(var x="",O=0;O<w.length;){var M=w[O++];if(M>>7!=0){var R=null,B=null;if((224&M)==192)R=1,B=127;else if((240&M)==224)R=2,B=2047;else{if((248&M)!=240){if(!C)throw(192&M)==128?new Error("invalid utf8 byte sequence; unexpected continuation byte"):new Error("invalid utf8 byte sequence; invalid prefix");continue}R=3,B=65535}if(O+R>w.length){if(!C)throw new Error("invalid utf8 byte sequence; too short");for(;O<w.length&&w[O]>>6==2;O++);}else{for(var q=M&(1<<8-R-1)-1,_=0;_<R;_++){var E=w[O];if((192&E)!=128){q=null;break}q=q<<6|63&E,O++}if(q!==null)if(q<=B){if(!C)throw new Error("invalid utf8 byte sequence; overlong")}else if(q>1114111){if(!C)throw new Error("invalid utf8 byte sequence; out-of-range")}else if(q>=55296&&q<=57343){if(!C)throw new Error("invalid utf8 byte sequence; utf-16 surrogate")}else q<=65535?x+=String.fromCharCode(q):(q-=65536,x+=String.fromCharCode(55296+(q>>10&1023),56320+(1023&q)));else if(!C)throw new Error("invalid utf8 byte sequence; invalid continuation byte")}}else x+=String.fromCharCode(M)}return x}(function(w){w.current="",w.NFC="NFC",w.NFD="NFD",w.NFKC="NFKC",w.NFKD="NFKD"})(s=n.UnicodeNormalizationForm||(n.UnicodeNormalizationForm={})),n.toUtf8Bytes=A,n.toUtf8String=m,n.formatBytes32String=function(w){var C=A(w);if(C.length>31)throw new Error("bytes32 string must be less than 32 bytes");return v.hexlify(v.concat([C,u.HashZero]).slice(0,32))},n.parseBytes32String=function(w){var C=v.arrayify(w);if(C.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(C[31]!==0)throw new Error("invalid bytes32 string - no null terminator");for(var x=31;C[x-1]===0;)x--;return m(C.slice(0,x))}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(14);n.AddressZero="0x0000000000000000000000000000000000000000",n.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000",n.EtherSymbol="\u039E";var u=s.BigNumber.from(-1);n.NegativeOne=u;var d=s.BigNumber.from(0);n.Zero=d;var v=s.BigNumber.from(1);n.One=v;var A=s.BigNumber.from(2);n.Two=A;var m=s.BigNumber.from("1000000000000000000");n.WeiPerEther=m;var w=s.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");n.MaxUint256=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(4);n.BigNumber=s.BigNumber;var u=i(18);n.FixedNumber=u.FixedNumber},function(r,n,i){(function(s){(function(u,d){function v(o,a){if(!o)throw new Error(a||"Assertion failed")}function A(o,a){o.super_=a;var p=function(){};p.prototype=a.prototype,o.prototype=new p,o.prototype.constructor=o}function m(o,a,p){if(m.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&(a!=="le"&&a!=="be"||(p=a,a=10),this._init(o||0,a||10,p||"be"))}var w;typeof u=="object"?u.exports=m:d.BN=m,m.BN=m,m.wordSize=26;try{w=i(17).Buffer}catch{}function C(o,a,p){for(var h=0,l=Math.min(o.length,p),g=a;g<l;g++){var P=o.charCodeAt(g)-48;h<<=4,h|=P>=49&&P<=54?P-49+10:P>=17&&P<=22?P-17+10:15&P}return h}function x(o,a,p,h){for(var l=0,g=Math.min(o.length,p),P=a;P<g;P++){var D=o.charCodeAt(P)-48;l*=h,l+=D>=49?D-49+10:D>=17?D-17+10:D}return l}m.isBN=function(o){return o instanceof m||o!==null&&typeof o=="object"&&o.constructor.wordSize===m.wordSize&&Array.isArray(o.words)},m.max=function(o,a){return o.cmp(a)>0?o:a},m.min=function(o,a){return o.cmp(a)<0?o:a},m.prototype._init=function(o,a,p){if(typeof o=="number")return this._initNumber(o,a,p);if(typeof o=="object")return this._initArray(o,a,p);a==="hex"&&(a=16),v(a===(0|a)&&a>=2&&a<=36);var h=0;(o=o.toString().replace(/\s+/g,""))[0]==="-"&&h++,a===16?this._parseHex(o,h):this._parseBase(o,a,h),o[0]==="-"&&(this.negative=1),this.strip(),p==="le"&&this._initArray(this.toArray(),a,p)},m.prototype._initNumber=function(o,a,p){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[67108863&o],this.length=1):o<4503599627370496?(this.words=[67108863&o,o/67108864&67108863],this.length=2):(v(o<9007199254740992),this.words=[67108863&o,o/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),a,p)},m.prototype._initArray=function(o,a,p){if(v(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var l,g,P=0;if(p==="be")for(h=o.length-1,l=0;h>=0;h-=3)g=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[l]|=g<<P&67108863,this.words[l+1]=g>>>26-P&67108863,(P+=24)>=26&&(P-=26,l++);else if(p==="le")for(h=0,l=0;h<o.length;h+=3)g=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[l]|=g<<P&67108863,this.words[l+1]=g>>>26-P&67108863,(P+=24)>=26&&(P-=26,l++);return this.strip()},m.prototype._parseHex=function(o,a){this.length=Math.ceil((o.length-a)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var h,l,g=0;for(p=o.length-6,h=0;p>=a;p-=6)l=C(o,p,p+6),this.words[h]|=l<<g&67108863,this.words[h+1]|=l>>>26-g&4194303,(g+=24)>=26&&(g-=26,h++);p+6!==a&&(l=C(o,a,p+6),this.words[h]|=l<<g&67108863,this.words[h+1]|=l>>>26-g&4194303),this.strip()},m.prototype._parseBase=function(o,a,p){this.words=[0],this.length=1;for(var h=0,l=1;l<=67108863;l*=a)h++;h--,l=l/a|0;for(var g=o.length-p,P=g%h,D=Math.min(g,g-P)+p,$=0,U=p;U<D;U+=h)$=x(o,U,U+h,a),this.imuln(l),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(P!==0){var V=1;for($=x(o,U,o.length,a),U=0;U<P;U++)V*=a;this.imuln(V),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}},m.prototype.copy=function(o){o.words=new Array(this.length);for(var a=0;a<this.length;a++)o.words[a]=this.words[a];o.length=this.length,o.negative=this.negative,o.red=this.red},m.prototype.clone=function(){var o=new m(null);return this.copy(o),o},m.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},m.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},m.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},m.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var O=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function B(o,a,p){p.negative=a.negative^o.negative;var h=o.length+a.length|0;p.length=h,h=h-1|0;var l=0|o.words[0],g=0|a.words[0],P=l*g,D=67108863&P,$=P/67108864|0;p.words[0]=D;for(var U=1;U<h;U++){for(var V=$>>>26,rt=67108863&$,nt=Math.min(U,a.length-1),ot=Math.max(0,U-o.length+1);ot<=nt;ot++){var st=U-ot|0;V+=(P=(l=0|o.words[st])*(g=0|a.words[ot])+rt)/67108864|0,rt=67108863&P}p.words[U]=0|rt,$=0|V}return $!==0?p.words[U]=0|$:p.length--,p.strip()}m.prototype.toString=function(o,a){var p;if(a=0|a||1,(o=o||10)===16||o==="hex"){p="";for(var h=0,l=0,g=0;g<this.length;g++){var P=this.words[g],D=(16777215&(P<<h|l)).toString(16);p=(l=P>>>24-h&16777215)!=0||g!==this.length-1?O[6-D.length]+D+p:D+p,(h+=2)>=26&&(h-=26,g--)}for(l!==0&&(p=l.toString(16)+p);p.length%a!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(o===(0|o)&&o>=2&&o<=36){var $=M[o],U=R[o];p="";var V=this.clone();for(V.negative=0;!V.isZero();){var rt=V.modn(U).toString(o);p=(V=V.idivn(U)).isZero()?rt+p:O[$-rt.length]+rt+p}for(this.isZero()&&(p="0"+p);p.length%a!=0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}v(!1,"Base should be between 2 and 36")},m.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=67108864*this.words[1]:this.length===3&&this.words[2]===1?o+=4503599627370496+67108864*this.words[1]:this.length>2&&v(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},m.prototype.toJSON=function(){return this.toString(16)},m.prototype.toBuffer=function(o,a){return v(w!==void 0),this.toArrayLike(w,o,a)},m.prototype.toArray=function(o,a){return this.toArrayLike(Array,o,a)},m.prototype.toArrayLike=function(o,a,p){var h=this.byteLength(),l=p||Math.max(1,h);v(h<=l,"byte array longer than desired length"),v(l>0,"Requested array length <= 0"),this.strip();var g,P,D=a==="le",$=new o(l),U=this.clone();if(D){for(P=0;!U.isZero();P++)g=U.andln(255),U.iushrn(8),$[P]=g;for(;P<l;P++)$[P]=0}else{for(P=0;P<l-h;P++)$[P]=0;for(P=0;!U.isZero();P++)g=U.andln(255),U.iushrn(8),$[l-P-1]=g}return $},Math.clz32?m.prototype._countBits=function(o){return 32-Math.clz32(o)}:m.prototype._countBits=function(o){var a=o,p=0;return a>=4096&&(p+=13,a>>>=13),a>=64&&(p+=7,a>>>=7),a>=8&&(p+=4,a>>>=4),a>=2&&(p+=2,a>>>=2),p+a},m.prototype._zeroBits=function(o){if(o===0)return 26;var a=o,p=0;return(8191&a)==0&&(p+=13,a>>>=13),(127&a)==0&&(p+=7,a>>>=7),(15&a)==0&&(p+=4,a>>>=4),(3&a)==0&&(p+=2,a>>>=2),(1&a)==0&&p++,p},m.prototype.bitLength=function(){var o=this.words[this.length-1],a=this._countBits(o);return 26*(this.length-1)+a},m.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,a=0;a<this.length;a++){var p=this._zeroBits(this.words[a]);if(o+=p,p!==26)break}return o},m.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},m.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},m.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},m.prototype.isNeg=function(){return this.negative!==0},m.prototype.neg=function(){return this.clone().ineg()},m.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},m.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var a=0;a<o.length;a++)this.words[a]=this.words[a]|o.words[a];return this.strip()},m.prototype.ior=function(o){return v((this.negative|o.negative)==0),this.iuor(o)},m.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},m.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},m.prototype.iuand=function(o){var a;a=this.length>o.length?o:this;for(var p=0;p<a.length;p++)this.words[p]=this.words[p]&o.words[p];return this.length=a.length,this.strip()},m.prototype.iand=function(o){return v((this.negative|o.negative)==0),this.iuand(o)},m.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},m.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},m.prototype.iuxor=function(o){var a,p;this.length>o.length?(a=this,p=o):(a=o,p=this);for(var h=0;h<p.length;h++)this.words[h]=a.words[h]^p.words[h];if(this!==a)for(;h<a.length;h++)this.words[h]=a.words[h];return this.length=a.length,this.strip()},m.prototype.ixor=function(o){return v((this.negative|o.negative)==0),this.iuxor(o)},m.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},m.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},m.prototype.inotn=function(o){v(typeof o=="number"&&o>=0);var a=0|Math.ceil(o/26),p=o%26;this._expand(a),p>0&&a--;for(var h=0;h<a;h++)this.words[h]=67108863&~this.words[h];return p>0&&(this.words[h]=~this.words[h]&67108863>>26-p),this.strip()},m.prototype.notn=function(o){return this.clone().inotn(o)},m.prototype.setn=function(o,a){v(typeof o=="number"&&o>=0);var p=o/26|0,h=o%26;return this._expand(p+1),this.words[p]=a?this.words[p]|1<<h:this.words[p]&~(1<<h),this.strip()},m.prototype.iadd=function(o){var a,p,h;if(this.negative!==0&&o.negative===0)return this.negative=0,a=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,a=this.isub(o),o.negative=1,a._normSign();this.length>o.length?(p=this,h=o):(p=o,h=this);for(var l=0,g=0;g<h.length;g++)a=(0|p.words[g])+(0|h.words[g])+l,this.words[g]=67108863&a,l=a>>>26;for(;l!==0&&g<p.length;g++)a=(0|p.words[g])+l,this.words[g]=67108863&a,l=a>>>26;if(this.length=p.length,l!==0)this.words[this.length]=l,this.length++;else if(p!==this)for(;g<p.length;g++)this.words[g]=p.words[g];return this},m.prototype.add=function(o){var a;return o.negative!==0&&this.negative===0?(o.negative=0,a=this.sub(o),o.negative^=1,a):o.negative===0&&this.negative!==0?(this.negative=0,a=o.sub(this),this.negative=1,a):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},m.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var a=this.iadd(o);return o.negative=1,a._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p,h,l=this.cmp(o);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;l>0?(p=this,h=o):(p=o,h=this);for(var g=0,P=0;P<h.length;P++)g=(a=(0|p.words[P])-(0|h.words[P])+g)>>26,this.words[P]=67108863&a;for(;g!==0&&P<p.length;P++)g=(a=(0|p.words[P])+g)>>26,this.words[P]=67108863&a;if(g===0&&P<p.length&&p!==this)for(;P<p.length;P++)this.words[P]=p.words[P];return this.length=Math.max(this.length,P),p!==this&&(this.negative=1),this.strip()},m.prototype.sub=function(o){return this.clone().isub(o)};var q=function(o,a,p){var h,l,g,P=o.words,D=a.words,$=p.words,U=0,V=0|P[0],rt=8191&V,nt=V>>>13,ot=0|P[1],st=8191&ot,ut=ot>>>13,Zt=0|P[2],ht=8191&Zt,f=Zt>>>13,y=0|P[3],c=8191&y,b=y>>>13,T=0|P[4],S=8191&T,k=T>>>13,L=0|P[5],K=8191&L,j=L>>>13,H=0|P[6],F=8191&H,Z=H>>>13,tt=0|P[7],X=8191&tt,et=tt>>>13,ft=0|P[8],at=8191&ft,it=ft>>>13,vt=0|P[9],dt=8191&vt,yt=vt>>>13,tr=0|D[0],bt=8191&tr,Mt=tr>>>13,qt=0|D[1],mt=8191&qt,Et=qt>>>13,Ei=0|D[2],xt=8191&Ei,Tt=Ei>>>13,xi=0|D[3],At=8191&xi,St=xi>>>13,Ti=0|D[4],Rt=8191&Ti,Pt=Ti>>>13,Ai=0|D[5],Ot=8191&Ai,It=Ai>>>13,Si=0|D[6],Ct=8191&Si,kt=Si>>>13,Ri=0|D[7],Bt=8191&Ri,Nt=Ri>>>13,Pi=0|D[8],Ut=8191&Pi,jt=Pi>>>13,Oi=0|D[9],$t=8191&Oi,Dt=Oi>>>13;p.negative=o.negative^a.negative,p.length=19;var rn=(U+(h=Math.imul(rt,bt))|0)+((8191&(l=(l=Math.imul(rt,Mt))+Math.imul(nt,bt)|0))<<13)|0;U=((g=Math.imul(nt,Mt))+(l>>>13)|0)+(rn>>>26)|0,rn&=67108863,h=Math.imul(st,bt),l=(l=Math.imul(st,Mt))+Math.imul(ut,bt)|0,g=Math.imul(ut,Mt);var nn=(U+(h=h+Math.imul(rt,mt)|0)|0)+((8191&(l=(l=l+Math.imul(rt,Et)|0)+Math.imul(nt,mt)|0))<<13)|0;U=((g=g+Math.imul(nt,Et)|0)+(l>>>13)|0)+(nn>>>26)|0,nn&=67108863,h=Math.imul(ht,bt),l=(l=Math.imul(ht,Mt))+Math.imul(f,bt)|0,g=Math.imul(f,Mt),h=h+Math.imul(st,mt)|0,l=(l=l+Math.imul(st,Et)|0)+Math.imul(ut,mt)|0,g=g+Math.imul(ut,Et)|0;var sn=(U+(h=h+Math.imul(rt,xt)|0)|0)+((8191&(l=(l=l+Math.imul(rt,Tt)|0)+Math.imul(nt,xt)|0))<<13)|0;U=((g=g+Math.imul(nt,Tt)|0)+(l>>>13)|0)+(sn>>>26)|0,sn&=67108863,h=Math.imul(c,bt),l=(l=Math.imul(c,Mt))+Math.imul(b,bt)|0,g=Math.imul(b,Mt),h=h+Math.imul(ht,mt)|0,l=(l=l+Math.imul(ht,Et)|0)+Math.imul(f,mt)|0,g=g+Math.imul(f,Et)|0,h=h+Math.imul(st,xt)|0,l=(l=l+Math.imul(st,Tt)|0)+Math.imul(ut,xt)|0,g=g+Math.imul(ut,Tt)|0;var on=(U+(h=h+Math.imul(rt,At)|0)|0)+((8191&(l=(l=l+Math.imul(rt,St)|0)+Math.imul(nt,At)|0))<<13)|0;U=((g=g+Math.imul(nt,St)|0)+(l>>>13)|0)+(on>>>26)|0,on&=67108863,h=Math.imul(S,bt),l=(l=Math.imul(S,Mt))+Math.imul(k,bt)|0,g=Math.imul(k,Mt),h=h+Math.imul(c,mt)|0,l=(l=l+Math.imul(c,Et)|0)+Math.imul(b,mt)|0,g=g+Math.imul(b,Et)|0,h=h+Math.imul(ht,xt)|0,l=(l=l+Math.imul(ht,Tt)|0)+Math.imul(f,xt)|0,g=g+Math.imul(f,Tt)|0,h=h+Math.imul(st,At)|0,l=(l=l+Math.imul(st,St)|0)+Math.imul(ut,At)|0,g=g+Math.imul(ut,St)|0;var an=(U+(h=h+Math.imul(rt,Rt)|0)|0)+((8191&(l=(l=l+Math.imul(rt,Pt)|0)+Math.imul(nt,Rt)|0))<<13)|0;U=((g=g+Math.imul(nt,Pt)|0)+(l>>>13)|0)+(an>>>26)|0,an&=67108863,h=Math.imul(K,bt),l=(l=Math.imul(K,Mt))+Math.imul(j,bt)|0,g=Math.imul(j,Mt),h=h+Math.imul(S,mt)|0,l=(l=l+Math.imul(S,Et)|0)+Math.imul(k,mt)|0,g=g+Math.imul(k,Et)|0,h=h+Math.imul(c,xt)|0,l=(l=l+Math.imul(c,Tt)|0)+Math.imul(b,xt)|0,g=g+Math.imul(b,Tt)|0,h=h+Math.imul(ht,At)|0,l=(l=l+Math.imul(ht,St)|0)+Math.imul(f,At)|0,g=g+Math.imul(f,St)|0,h=h+Math.imul(st,Rt)|0,l=(l=l+Math.imul(st,Pt)|0)+Math.imul(ut,Rt)|0,g=g+Math.imul(ut,Pt)|0;var un=(U+(h=h+Math.imul(rt,Ot)|0)|0)+((8191&(l=(l=l+Math.imul(rt,It)|0)+Math.imul(nt,Ot)|0))<<13)|0;U=((g=g+Math.imul(nt,It)|0)+(l>>>13)|0)+(un>>>26)|0,un&=67108863,h=Math.imul(F,bt),l=(l=Math.imul(F,Mt))+Math.imul(Z,bt)|0,g=Math.imul(Z,Mt),h=h+Math.imul(K,mt)|0,l=(l=l+Math.imul(K,Et)|0)+Math.imul(j,mt)|0,g=g+Math.imul(j,Et)|0,h=h+Math.imul(S,xt)|0,l=(l=l+Math.imul(S,Tt)|0)+Math.imul(k,xt)|0,g=g+Math.imul(k,Tt)|0,h=h+Math.imul(c,At)|0,l=(l=l+Math.imul(c,St)|0)+Math.imul(b,At)|0,g=g+Math.imul(b,St)|0,h=h+Math.imul(ht,Rt)|0,l=(l=l+Math.imul(ht,Pt)|0)+Math.imul(f,Rt)|0,g=g+Math.imul(f,Pt)|0,h=h+Math.imul(st,Ot)|0,l=(l=l+Math.imul(st,It)|0)+Math.imul(ut,Ot)|0,g=g+Math.imul(ut,It)|0;var ln=(U+(h=h+Math.imul(rt,Ct)|0)|0)+((8191&(l=(l=l+Math.imul(rt,kt)|0)+Math.imul(nt,Ct)|0))<<13)|0;U=((g=g+Math.imul(nt,kt)|0)+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,h=Math.imul(X,bt),l=(l=Math.imul(X,Mt))+Math.imul(et,bt)|0,g=Math.imul(et,Mt),h=h+Math.imul(F,mt)|0,l=(l=l+Math.imul(F,Et)|0)+Math.imul(Z,mt)|0,g=g+Math.imul(Z,Et)|0,h=h+Math.imul(K,xt)|0,l=(l=l+Math.imul(K,Tt)|0)+Math.imul(j,xt)|0,g=g+Math.imul(j,Tt)|0,h=h+Math.imul(S,At)|0,l=(l=l+Math.imul(S,St)|0)+Math.imul(k,At)|0,g=g+Math.imul(k,St)|0,h=h+Math.imul(c,Rt)|0,l=(l=l+Math.imul(c,Pt)|0)+Math.imul(b,Rt)|0,g=g+Math.imul(b,Pt)|0,h=h+Math.imul(ht,Ot)|0,l=(l=l+Math.imul(ht,It)|0)+Math.imul(f,Ot)|0,g=g+Math.imul(f,It)|0,h=h+Math.imul(st,Ct)|0,l=(l=l+Math.imul(st,kt)|0)+Math.imul(ut,Ct)|0,g=g+Math.imul(ut,kt)|0;var hn=(U+(h=h+Math.imul(rt,Bt)|0)|0)+((8191&(l=(l=l+Math.imul(rt,Nt)|0)+Math.imul(nt,Bt)|0))<<13)|0;U=((g=g+Math.imul(nt,Nt)|0)+(l>>>13)|0)+(hn>>>26)|0,hn&=67108863,h=Math.imul(at,bt),l=(l=Math.imul(at,Mt))+Math.imul(it,bt)|0,g=Math.imul(it,Mt),h=h+Math.imul(X,mt)|0,l=(l=l+Math.imul(X,Et)|0)+Math.imul(et,mt)|0,g=g+Math.imul(et,Et)|0,h=h+Math.imul(F,xt)|0,l=(l=l+Math.imul(F,Tt)|0)+Math.imul(Z,xt)|0,g=g+Math.imul(Z,Tt)|0,h=h+Math.imul(K,At)|0,l=(l=l+Math.imul(K,St)|0)+Math.imul(j,At)|0,g=g+Math.imul(j,St)|0,h=h+Math.imul(S,Rt)|0,l=(l=l+Math.imul(S,Pt)|0)+Math.imul(k,Rt)|0,g=g+Math.imul(k,Pt)|0,h=h+Math.imul(c,Ot)|0,l=(l=l+Math.imul(c,It)|0)+Math.imul(b,Ot)|0,g=g+Math.imul(b,It)|0,h=h+Math.imul(ht,Ct)|0,l=(l=l+Math.imul(ht,kt)|0)+Math.imul(f,Ct)|0,g=g+Math.imul(f,kt)|0,h=h+Math.imul(st,Bt)|0,l=(l=l+Math.imul(st,Nt)|0)+Math.imul(ut,Bt)|0,g=g+Math.imul(ut,Nt)|0;var cn=(U+(h=h+Math.imul(rt,Ut)|0)|0)+((8191&(l=(l=l+Math.imul(rt,jt)|0)+Math.imul(nt,Ut)|0))<<13)|0;U=((g=g+Math.imul(nt,jt)|0)+(l>>>13)|0)+(cn>>>26)|0,cn&=67108863,h=Math.imul(dt,bt),l=(l=Math.imul(dt,Mt))+Math.imul(yt,bt)|0,g=Math.imul(yt,Mt),h=h+Math.imul(at,mt)|0,l=(l=l+Math.imul(at,Et)|0)+Math.imul(it,mt)|0,g=g+Math.imul(it,Et)|0,h=h+Math.imul(X,xt)|0,l=(l=l+Math.imul(X,Tt)|0)+Math.imul(et,xt)|0,g=g+Math.imul(et,Tt)|0,h=h+Math.imul(F,At)|0,l=(l=l+Math.imul(F,St)|0)+Math.imul(Z,At)|0,g=g+Math.imul(Z,St)|0,h=h+Math.imul(K,Rt)|0,l=(l=l+Math.imul(K,Pt)|0)+Math.imul(j,Rt)|0,g=g+Math.imul(j,Pt)|0,h=h+Math.imul(S,Ot)|0,l=(l=l+Math.imul(S,It)|0)+Math.imul(k,Ot)|0,g=g+Math.imul(k,It)|0,h=h+Math.imul(c,Ct)|0,l=(l=l+Math.imul(c,kt)|0)+Math.imul(b,Ct)|0,g=g+Math.imul(b,kt)|0,h=h+Math.imul(ht,Bt)|0,l=(l=l+Math.imul(ht,Nt)|0)+Math.imul(f,Bt)|0,g=g+Math.imul(f,Nt)|0,h=h+Math.imul(st,Ut)|0,l=(l=l+Math.imul(st,jt)|0)+Math.imul(ut,Ut)|0,g=g+Math.imul(ut,jt)|0;var fn=(U+(h=h+Math.imul(rt,$t)|0)|0)+((8191&(l=(l=l+Math.imul(rt,Dt)|0)+Math.imul(nt,$t)|0))<<13)|0;U=((g=g+Math.imul(nt,Dt)|0)+(l>>>13)|0)+(fn>>>26)|0,fn&=67108863,h=Math.imul(dt,mt),l=(l=Math.imul(dt,Et))+Math.imul(yt,mt)|0,g=Math.imul(yt,Et),h=h+Math.imul(at,xt)|0,l=(l=l+Math.imul(at,Tt)|0)+Math.imul(it,xt)|0,g=g+Math.imul(it,Tt)|0,h=h+Math.imul(X,At)|0,l=(l=l+Math.imul(X,St)|0)+Math.imul(et,At)|0,g=g+Math.imul(et,St)|0,h=h+Math.imul(F,Rt)|0,l=(l=l+Math.imul(F,Pt)|0)+Math.imul(Z,Rt)|0,g=g+Math.imul(Z,Pt)|0,h=h+Math.imul(K,Ot)|0,l=(l=l+Math.imul(K,It)|0)+Math.imul(j,Ot)|0,g=g+Math.imul(j,It)|0,h=h+Math.imul(S,Ct)|0,l=(l=l+Math.imul(S,kt)|0)+Math.imul(k,Ct)|0,g=g+Math.imul(k,kt)|0,h=h+Math.imul(c,Bt)|0,l=(l=l+Math.imul(c,Nt)|0)+Math.imul(b,Bt)|0,g=g+Math.imul(b,Nt)|0,h=h+Math.imul(ht,Ut)|0,l=(l=l+Math.imul(ht,jt)|0)+Math.imul(f,Ut)|0,g=g+Math.imul(f,jt)|0;var dn=(U+(h=h+Math.imul(st,$t)|0)|0)+((8191&(l=(l=l+Math.imul(st,Dt)|0)+Math.imul(ut,$t)|0))<<13)|0;U=((g=g+Math.imul(ut,Dt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,h=Math.imul(dt,xt),l=(l=Math.imul(dt,Tt))+Math.imul(yt,xt)|0,g=Math.imul(yt,Tt),h=h+Math.imul(at,At)|0,l=(l=l+Math.imul(at,St)|0)+Math.imul(it,At)|0,g=g+Math.imul(it,St)|0,h=h+Math.imul(X,Rt)|0,l=(l=l+Math.imul(X,Pt)|0)+Math.imul(et,Rt)|0,g=g+Math.imul(et,Pt)|0,h=h+Math.imul(F,Ot)|0,l=(l=l+Math.imul(F,It)|0)+Math.imul(Z,Ot)|0,g=g+Math.imul(Z,It)|0,h=h+Math.imul(K,Ct)|0,l=(l=l+Math.imul(K,kt)|0)+Math.imul(j,Ct)|0,g=g+Math.imul(j,kt)|0,h=h+Math.imul(S,Bt)|0,l=(l=l+Math.imul(S,Nt)|0)+Math.imul(k,Bt)|0,g=g+Math.imul(k,Nt)|0,h=h+Math.imul(c,Ut)|0,l=(l=l+Math.imul(c,jt)|0)+Math.imul(b,Ut)|0,g=g+Math.imul(b,jt)|0;var pn=(U+(h=h+Math.imul(ht,$t)|0)|0)+((8191&(l=(l=l+Math.imul(ht,Dt)|0)+Math.imul(f,$t)|0))<<13)|0;U=((g=g+Math.imul(f,Dt)|0)+(l>>>13)|0)+(pn>>>26)|0,pn&=67108863,h=Math.imul(dt,At),l=(l=Math.imul(dt,St))+Math.imul(yt,At)|0,g=Math.imul(yt,St),h=h+Math.imul(at,Rt)|0,l=(l=l+Math.imul(at,Pt)|0)+Math.imul(it,Rt)|0,g=g+Math.imul(it,Pt)|0,h=h+Math.imul(X,Ot)|0,l=(l=l+Math.imul(X,It)|0)+Math.imul(et,Ot)|0,g=g+Math.imul(et,It)|0,h=h+Math.imul(F,Ct)|0,l=(l=l+Math.imul(F,kt)|0)+Math.imul(Z,Ct)|0,g=g+Math.imul(Z,kt)|0,h=h+Math.imul(K,Bt)|0,l=(l=l+Math.imul(K,Nt)|0)+Math.imul(j,Bt)|0,g=g+Math.imul(j,Nt)|0,h=h+Math.imul(S,Ut)|0,l=(l=l+Math.imul(S,jt)|0)+Math.imul(k,Ut)|0,g=g+Math.imul(k,jt)|0;var mn=(U+(h=h+Math.imul(c,$t)|0)|0)+((8191&(l=(l=l+Math.imul(c,Dt)|0)+Math.imul(b,$t)|0))<<13)|0;U=((g=g+Math.imul(b,Dt)|0)+(l>>>13)|0)+(mn>>>26)|0,mn&=67108863,h=Math.imul(dt,Rt),l=(l=Math.imul(dt,Pt))+Math.imul(yt,Rt)|0,g=Math.imul(yt,Pt),h=h+Math.imul(at,Ot)|0,l=(l=l+Math.imul(at,It)|0)+Math.imul(it,Ot)|0,g=g+Math.imul(it,It)|0,h=h+Math.imul(X,Ct)|0,l=(l=l+Math.imul(X,kt)|0)+Math.imul(et,Ct)|0,g=g+Math.imul(et,kt)|0,h=h+Math.imul(F,Bt)|0,l=(l=l+Math.imul(F,Nt)|0)+Math.imul(Z,Bt)|0,g=g+Math.imul(Z,Nt)|0,h=h+Math.imul(K,Ut)|0,l=(l=l+Math.imul(K,jt)|0)+Math.imul(j,Ut)|0,g=g+Math.imul(j,jt)|0;var gn=(U+(h=h+Math.imul(S,$t)|0)|0)+((8191&(l=(l=l+Math.imul(S,Dt)|0)+Math.imul(k,$t)|0))<<13)|0;U=((g=g+Math.imul(k,Dt)|0)+(l>>>13)|0)+(gn>>>26)|0,gn&=67108863,h=Math.imul(dt,Ot),l=(l=Math.imul(dt,It))+Math.imul(yt,Ot)|0,g=Math.imul(yt,It),h=h+Math.imul(at,Ct)|0,l=(l=l+Math.imul(at,kt)|0)+Math.imul(it,Ct)|0,g=g+Math.imul(it,kt)|0,h=h+Math.imul(X,Bt)|0,l=(l=l+Math.imul(X,Nt)|0)+Math.imul(et,Bt)|0,g=g+Math.imul(et,Nt)|0,h=h+Math.imul(F,Ut)|0,l=(l=l+Math.imul(F,jt)|0)+Math.imul(Z,Ut)|0,g=g+Math.imul(Z,jt)|0;var vn=(U+(h=h+Math.imul(K,$t)|0)|0)+((8191&(l=(l=l+Math.imul(K,Dt)|0)+Math.imul(j,$t)|0))<<13)|0;U=((g=g+Math.imul(j,Dt)|0)+(l>>>13)|0)+(vn>>>26)|0,vn&=67108863,h=Math.imul(dt,Ct),l=(l=Math.imul(dt,kt))+Math.imul(yt,Ct)|0,g=Math.imul(yt,kt),h=h+Math.imul(at,Bt)|0,l=(l=l+Math.imul(at,Nt)|0)+Math.imul(it,Bt)|0,g=g+Math.imul(it,Nt)|0,h=h+Math.imul(X,Ut)|0,l=(l=l+Math.imul(X,jt)|0)+Math.imul(et,Ut)|0,g=g+Math.imul(et,jt)|0;var yn=(U+(h=h+Math.imul(F,$t)|0)|0)+((8191&(l=(l=l+Math.imul(F,Dt)|0)+Math.imul(Z,$t)|0))<<13)|0;U=((g=g+Math.imul(Z,Dt)|0)+(l>>>13)|0)+(yn>>>26)|0,yn&=67108863,h=Math.imul(dt,Bt),l=(l=Math.imul(dt,Nt))+Math.imul(yt,Bt)|0,g=Math.imul(yt,Nt),h=h+Math.imul(at,Ut)|0,l=(l=l+Math.imul(at,jt)|0)+Math.imul(it,Ut)|0,g=g+Math.imul(it,jt)|0;var _n=(U+(h=h+Math.imul(X,$t)|0)|0)+((8191&(l=(l=l+Math.imul(X,Dt)|0)+Math.imul(et,$t)|0))<<13)|0;U=((g=g+Math.imul(et,Dt)|0)+(l>>>13)|0)+(_n>>>26)|0,_n&=67108863,h=Math.imul(dt,Ut),l=(l=Math.imul(dt,jt))+Math.imul(yt,Ut)|0,g=Math.imul(yt,jt);var bn=(U+(h=h+Math.imul(at,$t)|0)|0)+((8191&(l=(l=l+Math.imul(at,Dt)|0)+Math.imul(it,$t)|0))<<13)|0;U=((g=g+Math.imul(it,Dt)|0)+(l>>>13)|0)+(bn>>>26)|0,bn&=67108863;var wn=(U+(h=Math.imul(dt,$t))|0)+((8191&(l=(l=Math.imul(dt,Dt))+Math.imul(yt,$t)|0))<<13)|0;return U=((g=Math.imul(yt,Dt))+(l>>>13)|0)+(wn>>>26)|0,wn&=67108863,$[0]=rn,$[1]=nn,$[2]=sn,$[3]=on,$[4]=an,$[5]=un,$[6]=ln,$[7]=hn,$[8]=cn,$[9]=fn,$[10]=dn,$[11]=pn,$[12]=mn,$[13]=gn,$[14]=vn,$[15]=yn,$[16]=_n,$[17]=bn,$[18]=wn,U!==0&&($[19]=U,p.length++),p};function _(o,a,p){return new E().mulp(o,a,p)}function E(o,a){this.x=o,this.y=a}Math.imul||(q=B),m.prototype.mulTo=function(o,a){var p=this.length+o.length;return this.length===10&&o.length===10?q(this,o,a):p<63?B(this,o,a):p<1024?function(h,l,g){g.negative=l.negative^h.negative,g.length=h.length+l.length;for(var P=0,D=0,$=0;$<g.length-1;$++){var U=D;D=0;for(var V=67108863&P,rt=Math.min($,l.length-1),nt=Math.max(0,$-h.length+1);nt<=rt;nt++){var ot=$-nt,st=(0|h.words[ot])*(0|l.words[nt]),ut=67108863&st;V=67108863&(ut=ut+V|0),D+=(U=(U=U+(st/67108864|0)|0)+(ut>>>26)|0)>>>26,U&=67108863}g.words[$]=V,P=U,U=D}return P!==0?g.words[$]=P:g.length--,g.strip()}(this,o,a):_(this,o,a)},E.prototype.makeRBT=function(o){for(var a=new Array(o),p=m.prototype._countBits(o)-1,h=0;h<o;h++)a[h]=this.revBin(h,p,o);return a},E.prototype.revBin=function(o,a,p){if(o===0||o===p-1)return o;for(var h=0,l=0;l<a;l++)h|=(1&o)<<a-l-1,o>>=1;return h},E.prototype.permute=function(o,a,p,h,l,g){for(var P=0;P<g;P++)h[P]=a[o[P]],l[P]=p[o[P]]},E.prototype.transform=function(o,a,p,h,l,g){this.permute(g,o,a,p,h,l);for(var P=1;P<l;P<<=1)for(var D=P<<1,$=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),V=0;V<l;V+=D)for(var rt=$,nt=U,ot=0;ot<P;ot++){var st=p[V+ot],ut=h[V+ot],Zt=p[V+ot+P],ht=h[V+ot+P],f=rt*Zt-nt*ht;ht=rt*ht+nt*Zt,Zt=f,p[V+ot]=st+Zt,h[V+ot]=ut+ht,p[V+ot+P]=st-Zt,h[V+ot+P]=ut-ht,ot!==D&&(f=$*rt-U*nt,nt=$*nt+U*rt,rt=f)}},E.prototype.guessLen13b=function(o,a){var p=1|Math.max(a,o),h=1&p,l=0;for(p=p/2|0;p;p>>>=1)l++;return 1<<l+1+h},E.prototype.conjugate=function(o,a,p){if(!(p<=1))for(var h=0;h<p/2;h++){var l=o[h];o[h]=o[p-h-1],o[p-h-1]=l,l=a[h],a[h]=-a[p-h-1],a[p-h-1]=-l}},E.prototype.normalize13b=function(o,a){for(var p=0,h=0;h<a/2;h++){var l=8192*Math.round(o[2*h+1]/a)+Math.round(o[2*h]/a)+p;o[h]=67108863&l,p=l<67108864?0:l/67108864|0}return o},E.prototype.convert13b=function(o,a,p,h){for(var l=0,g=0;g<a;g++)l+=0|o[g],p[2*g]=8191&l,l>>>=13,p[2*g+1]=8191&l,l>>>=13;for(g=2*a;g<h;++g)p[g]=0;v(l===0),v((-8192&l)==0)},E.prototype.stub=function(o){for(var a=new Array(o),p=0;p<o;p++)a[p]=0;return a},E.prototype.mulp=function(o,a,p){var h=2*this.guessLen13b(o.length,a.length),l=this.makeRBT(h),g=this.stub(h),P=new Array(h),D=new Array(h),$=new Array(h),U=new Array(h),V=new Array(h),rt=new Array(h),nt=p.words;nt.length=h,this.convert13b(o.words,o.length,P,h),this.convert13b(a.words,a.length,U,h),this.transform(P,g,D,$,h,l),this.transform(U,g,V,rt,h,l);for(var ot=0;ot<h;ot++){var st=D[ot]*V[ot]-$[ot]*rt[ot];$[ot]=D[ot]*rt[ot]+$[ot]*V[ot],D[ot]=st}return this.conjugate(D,$,h),this.transform(D,$,nt,g,h,l),this.conjugate(nt,g,h),this.normalize13b(nt,h),p.negative=o.negative^a.negative,p.length=o.length+a.length,p.strip()},m.prototype.mul=function(o){var a=new m(null);return a.words=new Array(this.length+o.length),this.mulTo(o,a)},m.prototype.mulf=function(o){var a=new m(null);return a.words=new Array(this.length+o.length),_(this,o,a)},m.prototype.imul=function(o){return this.clone().mulTo(o,this)},m.prototype.imuln=function(o){v(typeof o=="number"),v(o<67108864);for(var a=0,p=0;p<this.length;p++){var h=(0|this.words[p])*o,l=(67108863&h)+(67108863&a);a>>=26,a+=h/67108864|0,a+=l>>>26,this.words[p]=67108863&l}return a!==0&&(this.words[p]=a,this.length++),this},m.prototype.muln=function(o){return this.clone().imuln(o)},m.prototype.sqr=function(){return this.mul(this)},m.prototype.isqr=function(){return this.imul(this.clone())},m.prototype.pow=function(o){var a=function(g){for(var P=new Array(g.bitLength()),D=0;D<P.length;D++){var $=D/26|0,U=D%26;P[D]=(g.words[$]&1<<U)>>>U}return P}(o);if(a.length===0)return new m(1);for(var p=this,h=0;h<a.length&&a[h]===0;h++,p=p.sqr());if(++h<a.length)for(var l=p.sqr();h<a.length;h++,l=l.sqr())a[h]!==0&&(p=p.mul(l));return p},m.prototype.iushln=function(o){v(typeof o=="number"&&o>=0);var a,p=o%26,h=(o-p)/26,l=67108863>>>26-p<<26-p;if(p!==0){var g=0;for(a=0;a<this.length;a++){var P=this.words[a]&l,D=(0|this.words[a])-P<<p;this.words[a]=D|g,g=P>>>26-p}g&&(this.words[a]=g,this.length++)}if(h!==0){for(a=this.length-1;a>=0;a--)this.words[a+h]=this.words[a];for(a=0;a<h;a++)this.words[a]=0;this.length+=h}return this.strip()},m.prototype.ishln=function(o){return v(this.negative===0),this.iushln(o)},m.prototype.iushrn=function(o,a,p){var h;v(typeof o=="number"&&o>=0),h=a?(a-a%26)/26:0;var l=o%26,g=Math.min((o-l)/26,this.length),P=67108863^67108863>>>l<<l,D=p;if(h-=g,h=Math.max(0,h),D){for(var $=0;$<g;$++)D.words[$]=this.words[$];D.length=g}if(g!==0)if(this.length>g)for(this.length-=g,$=0;$<this.length;$++)this.words[$]=this.words[$+g];else this.words[0]=0,this.length=1;var U=0;for($=this.length-1;$>=0&&(U!==0||$>=h);$--){var V=0|this.words[$];this.words[$]=U<<26-l|V>>>l,U=V&P}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},m.prototype.ishrn=function(o,a,p){return v(this.negative===0),this.iushrn(o,a,p)},m.prototype.shln=function(o){return this.clone().ishln(o)},m.prototype.ushln=function(o){return this.clone().iushln(o)},m.prototype.shrn=function(o){return this.clone().ishrn(o)},m.prototype.ushrn=function(o){return this.clone().iushrn(o)},m.prototype.testn=function(o){v(typeof o=="number"&&o>=0);var a=o%26,p=(o-a)/26,h=1<<a;return!(this.length<=p)&&!!(this.words[p]&h)},m.prototype.imaskn=function(o){v(typeof o=="number"&&o>=0);var a=o%26,p=(o-a)/26;if(v(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(a!==0&&p++,this.length=Math.min(p,this.length),a!==0){var h=67108863^67108863>>>a<<a;this.words[this.length-1]&=h}return this.strip()},m.prototype.maskn=function(o){return this.clone().imaskn(o)},m.prototype.iaddn=function(o){return v(typeof o=="number"),v(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(0|this.words[0])<o?(this.words[0]=o-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},m.prototype._iaddn=function(o){this.words[0]+=o;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},m.prototype.isubn=function(o){if(v(typeof o=="number"),v(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},m.prototype.addn=function(o){return this.clone().iaddn(o)},m.prototype.subn=function(o){return this.clone().isubn(o)},m.prototype.iabs=function(){return this.negative=0,this},m.prototype.abs=function(){return this.clone().iabs()},m.prototype._ishlnsubmul=function(o,a,p){var h,l,g=o.length+p;this._expand(g);var P=0;for(h=0;h<o.length;h++){l=(0|this.words[h+p])+P;var D=(0|o.words[h])*a;P=((l-=67108863&D)>>26)-(D/67108864|0),this.words[h+p]=67108863&l}for(;h<this.length-p;h++)P=(l=(0|this.words[h+p])+P)>>26,this.words[h+p]=67108863&l;if(P===0)return this.strip();for(v(P===-1),P=0,h=0;h<this.length;h++)P=(l=-(0|this.words[h])+P)>>26,this.words[h]=67108863&l;return this.negative=1,this.strip()},m.prototype._wordDiv=function(o,a){var p=(this.length,o.length),h=this.clone(),l=o,g=0|l.words[l.length-1];(p=26-this._countBits(g))!=0&&(l=l.ushln(p),h.iushln(p),g=0|l.words[l.length-1]);var P,D=h.length-l.length;if(a!=="mod"){(P=new m(null)).length=D+1,P.words=new Array(P.length);for(var $=0;$<P.length;$++)P.words[$]=0}var U=h.clone()._ishlnsubmul(l,1,D);U.negative===0&&(h=U,P&&(P.words[D]=1));for(var V=D-1;V>=0;V--){var rt=67108864*(0|h.words[l.length+V])+(0|h.words[l.length+V-1]);for(rt=Math.min(rt/g|0,67108863),h._ishlnsubmul(l,rt,V);h.negative!==0;)rt--,h.negative=0,h._ishlnsubmul(l,1,V),h.isZero()||(h.negative^=1);P&&(P.words[V]=rt)}return P&&P.strip(),h.strip(),a!=="div"&&p!==0&&h.iushrn(p),{div:P||null,mod:h}},m.prototype.divmod=function(o,a,p){return v(!o.isZero()),this.isZero()?{div:new m(0),mod:new m(0)}:this.negative!==0&&o.negative===0?(g=this.neg().divmod(o,a),a!=="mod"&&(h=g.div.neg()),a!=="div"&&(l=g.mod.neg(),p&&l.negative!==0&&l.iadd(o)),{div:h,mod:l}):this.negative===0&&o.negative!==0?(g=this.divmod(o.neg(),a),a!=="mod"&&(h=g.div.neg()),{div:h,mod:g.mod}):(this.negative&o.negative)!=0?(g=this.neg().divmod(o.neg(),a),a!=="div"&&(l=g.mod.neg(),p&&l.negative!==0&&l.isub(o)),{div:g.div,mod:l}):o.length>this.length||this.cmp(o)<0?{div:new m(0),mod:this}:o.length===1?a==="div"?{div:this.divn(o.words[0]),mod:null}:a==="mod"?{div:null,mod:new m(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new m(this.modn(o.words[0]))}:this._wordDiv(o,a);var h,l,g},m.prototype.div=function(o){return this.divmod(o,"div",!1).div},m.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},m.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},m.prototype.divRound=function(o){var a=this.divmod(o);if(a.mod.isZero())return a.div;var p=a.div.negative!==0?a.mod.isub(o):a.mod,h=o.ushrn(1),l=o.andln(1),g=p.cmp(h);return g<0||l===1&&g===0?a.div:a.div.negative!==0?a.div.isubn(1):a.div.iaddn(1)},m.prototype.modn=function(o){v(o<=67108863);for(var a=(1<<26)%o,p=0,h=this.length-1;h>=0;h--)p=(a*p+(0|this.words[h]))%o;return p},m.prototype.idivn=function(o){v(o<=67108863);for(var a=0,p=this.length-1;p>=0;p--){var h=(0|this.words[p])+67108864*a;this.words[p]=h/o|0,a=h%o}return this.strip()},m.prototype.divn=function(o){return this.clone().idivn(o)},m.prototype.egcd=function(o){v(o.negative===0),v(!o.isZero());var a=this,p=o.clone();a=a.negative!==0?a.umod(o):a.clone();for(var h=new m(1),l=new m(0),g=new m(0),P=new m(1),D=0;a.isEven()&&p.isEven();)a.iushrn(1),p.iushrn(1),++D;for(var $=p.clone(),U=a.clone();!a.isZero();){for(var V=0,rt=1;(a.words[0]&rt)==0&&V<26;++V,rt<<=1);if(V>0)for(a.iushrn(V);V-- >0;)(h.isOdd()||l.isOdd())&&(h.iadd($),l.isub(U)),h.iushrn(1),l.iushrn(1);for(var nt=0,ot=1;(p.words[0]&ot)==0&&nt<26;++nt,ot<<=1);if(nt>0)for(p.iushrn(nt);nt-- >0;)(g.isOdd()||P.isOdd())&&(g.iadd($),P.isub(U)),g.iushrn(1),P.iushrn(1);a.cmp(p)>=0?(a.isub(p),h.isub(g),l.isub(P)):(p.isub(a),g.isub(h),P.isub(l))}return{a:g,b:P,gcd:p.iushln(D)}},m.prototype._invmp=function(o){v(o.negative===0),v(!o.isZero());var a=this,p=o.clone();a=a.negative!==0?a.umod(o):a.clone();for(var h,l=new m(1),g=new m(0),P=p.clone();a.cmpn(1)>0&&p.cmpn(1)>0;){for(var D=0,$=1;(a.words[0]&$)==0&&D<26;++D,$<<=1);if(D>0)for(a.iushrn(D);D-- >0;)l.isOdd()&&l.iadd(P),l.iushrn(1);for(var U=0,V=1;(p.words[0]&V)==0&&U<26;++U,V<<=1);if(U>0)for(p.iushrn(U);U-- >0;)g.isOdd()&&g.iadd(P),g.iushrn(1);a.cmp(p)>=0?(a.isub(p),l.isub(g)):(p.isub(a),g.isub(l))}return(h=a.cmpn(1)===0?l:g).cmpn(0)<0&&h.iadd(o),h},m.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var a=this.clone(),p=o.clone();a.negative=0,p.negative=0;for(var h=0;a.isEven()&&p.isEven();h++)a.iushrn(1),p.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;p.isEven();)p.iushrn(1);var l=a.cmp(p);if(l<0){var g=a;a=p,p=g}else if(l===0||p.cmpn(1)===0)break;a.isub(p)}return p.iushln(h)},m.prototype.invm=function(o){return this.egcd(o).a.umod(o)},m.prototype.isEven=function(){return(1&this.words[0])==0},m.prototype.isOdd=function(){return(1&this.words[0])==1},m.prototype.andln=function(o){return this.words[0]&o},m.prototype.bincn=function(o){v(typeof o=="number");var a=o%26,p=(o-a)/26,h=1<<a;if(this.length<=p)return this._expand(p+1),this.words[p]|=h,this;for(var l=h,g=p;l!==0&&g<this.length;g++){var P=0|this.words[g];l=(P+=l)>>>26,P&=67108863,this.words[g]=P}return l!==0&&(this.words[g]=l,this.length++),this},m.prototype.isZero=function(){return this.length===1&&this.words[0]===0},m.prototype.cmpn=function(o){var a,p=o<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;if(this.strip(),this.length>1)a=1;else{p&&(o=-o),v(o<=67108863,"Number is too big");var h=0|this.words[0];a=h===o?0:h<o?-1:1}return this.negative!==0?0|-a:a},m.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var a=this.ucmp(o);return this.negative!==0?0|-a:a},m.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var a=0,p=this.length-1;p>=0;p--){var h=0|this.words[p],l=0|o.words[p];if(h!==l){h<l?a=-1:h>l&&(a=1);break}}return a},m.prototype.gtn=function(o){return this.cmpn(o)===1},m.prototype.gt=function(o){return this.cmp(o)===1},m.prototype.gten=function(o){return this.cmpn(o)>=0},m.prototype.gte=function(o){return this.cmp(o)>=0},m.prototype.ltn=function(o){return this.cmpn(o)===-1},m.prototype.lt=function(o){return this.cmp(o)===-1},m.prototype.lten=function(o){return this.cmpn(o)<=0},m.prototype.lte=function(o){return this.cmp(o)<=0},m.prototype.eqn=function(o){return this.cmpn(o)===0},m.prototype.eq=function(o){return this.cmp(o)===0},m.red=function(o){return new Y(o)},m.prototype.toRed=function(o){return v(!this.red,"Already a number in reduction context"),v(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},m.prototype.fromRed=function(){return v(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},m.prototype._forceRed=function(o){return this.red=o,this},m.prototype.forceRed=function(o){return v(!this.red,"Already a number in reduction context"),this._forceRed(o)},m.prototype.redAdd=function(o){return v(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},m.prototype.redIAdd=function(o){return v(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},m.prototype.redSub=function(o){return v(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},m.prototype.redISub=function(o){return v(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},m.prototype.redShl=function(o){return v(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},m.prototype.redMul=function(o){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},m.prototype.redIMul=function(o){return v(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},m.prototype.redSqr=function(){return v(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},m.prototype.redISqr=function(){return v(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},m.prototype.redSqrt=function(){return v(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},m.prototype.redInvm=function(){return v(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},m.prototype.redNeg=function(){return v(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},m.prototype.redPow=function(o){return v(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var I={k256:null,p224:null,p192:null,p25519:null};function z(o,a){this.name=o,this.p=new m(a,16),this.n=this.p.bitLength(),this.k=new m(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function J(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Q(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function N(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Y(o){if(typeof o=="string"){var a=m._prime(o);this.m=a.p,this.prime=a}else v(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}function G(o){Y.call(this,o),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new m(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}z.prototype._tmp=function(){var o=new m(null);return o.words=new Array(Math.ceil(this.n/13)),o},z.prototype.ireduce=function(o){var a,p=o;do this.split(p,this.tmp),a=(p=(p=this.imulK(p)).iadd(this.tmp)).bitLength();while(a>this.n);var h=a<this.n?-1:p.ucmp(this.p);return h===0?(p.words[0]=0,p.length=1):h>0?p.isub(this.p):p.strip(),p},z.prototype.split=function(o,a){o.iushrn(this.n,0,a)},z.prototype.imulK=function(o){return o.imul(this.k)},A(J,z),J.prototype.split=function(o,a){for(var p=Math.min(o.length,9),h=0;h<p;h++)a.words[h]=o.words[h];if(a.length=p,o.length<=9)return o.words[0]=0,void(o.length=1);var l=o.words[9];for(a.words[a.length++]=4194303&l,h=10;h<o.length;h++){var g=0|o.words[h];o.words[h-10]=(4194303&g)<<4|l>>>22,l=g}l>>>=22,o.words[h-10]=l,l===0&&o.length>10?o.length-=10:o.length-=9},J.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var a=0,p=0;p<o.length;p++){var h=0|o.words[p];a+=977*h,o.words[p]=67108863&a,a=64*h+(a/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o},A(Q,z),A(N,z),A(W,z),W.prototype.imulK=function(o){for(var a=0,p=0;p<o.length;p++){var h=19*(0|o.words[p])+a,l=67108863&h;h>>>=26,o.words[p]=l,a=h}return a!==0&&(o.words[o.length++]=a),o},m._prime=function(o){if(I[o])return I[o];var a;if(o==="k256")a=new J;else if(o==="p224")a=new Q;else if(o==="p192")a=new N;else{if(o!=="p25519")throw new Error("Unknown prime "+o);a=new W}return I[o]=a,a},Y.prototype._verify1=function(o){v(o.negative===0,"red works only with positives"),v(o.red,"red works only with red numbers")},Y.prototype._verify2=function(o,a){v((o.negative|a.negative)==0,"red works only with positives"),v(o.red&&o.red===a.red,"red works only with red numbers")},Y.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},Y.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Y.prototype.add=function(o,a){this._verify2(o,a);var p=o.add(a);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(o,a){this._verify2(o,a);var p=o.iadd(a);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(o,a){this._verify2(o,a);var p=o.sub(a);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(o,a){this._verify2(o,a);var p=o.isub(a);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(o,a){return this._verify1(o),this.imod(o.ushln(a))},Y.prototype.imul=function(o,a){return this._verify2(o,a),this.imod(o.imul(a))},Y.prototype.mul=function(o,a){return this._verify2(o,a),this.imod(o.mul(a))},Y.prototype.isqr=function(o){return this.imul(o,o.clone())},Y.prototype.sqr=function(o){return this.mul(o,o)},Y.prototype.sqrt=function(o){if(o.isZero())return o.clone();var a=this.m.andln(3);if(v(a%2==1),a===3){var p=this.m.add(new m(1)).iushrn(2);return this.pow(o,p)}for(var h=this.m.subn(1),l=0;!h.isZero()&&h.andln(1)===0;)l++,h.iushrn(1);v(!h.isZero());var g=new m(1).toRed(this),P=g.redNeg(),D=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new m(2*$*$).toRed(this);this.pow($,D).cmp(P)!==0;)$.redIAdd(P);for(var U=this.pow($,h),V=this.pow(o,h.addn(1).iushrn(1)),rt=this.pow(o,h),nt=l;rt.cmp(g)!==0;){for(var ot=rt,st=0;ot.cmp(g)!==0;st++)ot=ot.redSqr();v(st<nt);var ut=this.pow(U,new m(1).iushln(nt-st-1));V=V.redMul(ut),U=ut.redSqr(),rt=rt.redMul(U),nt=st}return V},Y.prototype.invm=function(o){var a=o._invmp(this.m);return a.negative!==0?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},Y.prototype.pow=function(o,a){if(a.isZero())return new m(1).toRed(this);if(a.cmpn(1)===0)return o.clone();var p=new Array(16);p[0]=new m(1).toRed(this),p[1]=o;for(var h=2;h<p.length;h++)p[h]=this.mul(p[h-1],o);var l=p[0],g=0,P=0,D=a.bitLength()%26;for(D===0&&(D=26),h=a.length-1;h>=0;h--){for(var $=a.words[h],U=D-1;U>=0;U--){var V=$>>U&1;l!==p[0]&&(l=this.sqr(l)),V!==0||g!==0?(g<<=1,g|=V,(++P==4||h===0&&U===0)&&(l=this.mul(l,p[g]),P=0,g=0)):P=0}D=26}return l},Y.prototype.convertTo=function(o){var a=o.umod(this.m);return a===o?a.clone():a},Y.prototype.convertFrom=function(o){var a=o.clone();return a.red=null,a},m.mont=function(o){return new G(o)},A(G,Y),G.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},G.prototype.convertFrom=function(o){var a=this.imod(o.mul(this.rinv));return a.red=null,a},G.prototype.imul=function(o,a){if(o.isZero()||a.isZero())return o.words[0]=0,o.length=1,o;var p=o.imul(a),h=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=p.isub(h).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},G.prototype.mul=function(o,a){if(o.isZero()||a.isZero())return new m(0)._forceRed(this);var p=o.mul(a),h=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=p.isub(h).iushrn(this.shift),g=l;return l.cmp(this.m)>=0?g=l.isub(this.m):l.cmpn(0)<0&&(g=l.iadd(this.m)),g._forceRed(this)},G.prototype.invm=function(o){return this.imod(o._invmp(this.m).mul(this.r2))._forceRed(this)}})(s,this)}).call(this,i(16)(r))},function(r,n){r.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(r,n){},function(r,n,i){var s=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var E={};if(_!=null)for(var I in _)Object.hasOwnProperty.call(_,I)&&(E[I]=_[I]);return E.default=_,E};Object.defineProperty(n,"__esModule",{value:!0});var u=i(1),d=s(i(2)),v=i(4),A={},m=v.BigNumber.from(0),w=v.BigNumber.from(-1);function C(_,E,I,z){var J={fault:E,operation:I};return z!==void 0&&(J.value=z),d.throwError(_,d.NUMERIC_FAULT,J)}for(var x="0";x.length<256;)x+=x;function O(_){if(typeof _!="number")try{_=v.BigNumber.from(_).toNumber()}catch{}return typeof _=="number"&&_>=0&&_<=256&&!(_%1)?"1"+x.substring(0,_):d.throwArgumentError("invalid decimal size","decimals",_)}function M(_,E){E==null&&(E=0);var I=O(E),z=(_=v.BigNumber.from(_)).lt(m);z&&(_=_.mul(w));for(var J=_.mod(I).toString();J.length<I.length-1;)J="0"+J;J=J.match(/^([0-9]*[1-9]|0)(0*)/)[1];var Q=_.div(I).toString();return _=Q+"."+J,z&&(_="-"+_),_}function R(_,E){E==null&&(E=0);var I=O(E);if(typeof _=="string"&&_.match(/^-?[0-9.,]+$/)||d.throwArgumentError("invalid decimal value","value",_),I.length-1==0)return v.BigNumber.from(_);var z=_.substring(0,1)==="-";z&&(_=_.substring(1)),_==="."&&d.throwArgumentError("missing value","value",_);var J=_.split(".");J.length>2&&d.throwArgumentError("too many decimal points","value",_);var Q=J[0],N=J[1];for(Q||(Q="0"),N||(N="0"),N.length>I.length-1&&C("fractional component exceeds decimals","underflow","parseFixed");N.length<I.length-1;)N+="0";var W=v.BigNumber.from(Q),Y=v.BigNumber.from(N),G=W.mul(I).add(Y);return z&&(G=G.mul(w)),G}n.formatFixed=M,n.parseFixed=R;var B=function(){function _(E,I,z,J){this.signed=I,this.width=z,this.decimals=J,this.name=(I?"":"u")+"fixed"+String(z)+"x"+String(J),this._multiplier=O(J),Object.freeze(this)}return _.from=function(E){if(E instanceof _)return E;var I=!0,z=128,J=18;if(typeof E=="string"){if(E!=="fixed"){if(E==="ufixed")I=!1;else if(E!=null){var Q=E.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);Q||d.throwArgumentError("invalid fixed format","format",E),I=Q[1]!=="u",z=parseInt(Q[2]),J=parseInt(Q[3])}}}else if(E){var N=function(W,Y,G){return E[W]==null?G:(typeof E[W]!==Y&&d.throwArgumentError("invalid fixed format ("+W+" not "+Y+")","format."+W,E[W]),E[W])};I=N("signed","boolean",I),z=N("width","number",z),J=N("decimals","number",J)}return z%8&&d.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",z),J>80&&d.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",J),new _(A,I,z,J)},_}();n.FixedFormat=B;var q=function(){function _(E,I,z,J){var Q=this.constructor;d.checkNew(Q,_),this.format=J,this._hex=I,this._value=z,this._isFixedNumber=!0,Object.freeze(this)}return _.prototype._checkFormat=function(E){this.format.name!==E.format.name&&d.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",E)},_.prototype.addUnsafe=function(E){this._checkFormat(E);var I=R(this._value,this.format.decimals),z=R(E._value,E.format.decimals);return _.fromValue(I.add(z),this.format.decimals,this.format)},_.prototype.subUnsafe=function(E){this._checkFormat(E);var I=R(this._value,this.format.decimals),z=R(E._value,E.format.decimals);return _.fromValue(I.sub(z),this.format.decimals,this.format)},_.prototype.mulUnsafe=function(E){this._checkFormat(E);var I=R(this._value,this.format.decimals),z=R(E._value,E.format.decimals);return _.fromValue(I.mul(z).div(this.format._multiplier),this.format.decimals,this.format)},_.prototype.divUnsafe=function(E){this._checkFormat(E);var I=R(this._value,this.format.decimals),z=R(E._value,E.format.decimals);return _.fromValue(I.mul(this.format._multiplier).div(z),this.format.decimals,this.format)},_.prototype.round=function(E){E==null&&(E=0),(E<0||E>80||E%1)&&d.throwArgumentError("invalid decimal cound","decimals",E);var I=this.toString().split(".");if(I[1].length<=E)return this;var z="0."+x.substring(0,E)+"5";return I=this.addUnsafe(_.fromString(z,this.format))._value.split("."),_.fromString(I[0]+"."+I[1].substring(0,E))},_.prototype.toString=function(){return this._value},_.prototype.toHexString=function(E){if(E==null)return this._hex;E%8&&d.throwArgumentError("invalid byte width","width",E);var I=v.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(E).toHexString();return u.hexZeroPad(I,E/8)},_.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},_.prototype.toFormat=function(E){return _.fromString(this._value,E)},_.fromValue=function(E,I,z){return z!=null||I==null||v.isBigNumberish(I)||(z=I,I=null),I==null&&(I=0),z==null&&(z="fixed"),_.fromString(M(E,I),B.from(z))},_.fromString=function(E,I){I==null&&(I="fixed");var z=B.from(I),J=R(E,z.decimals);!z.signed&&J.lt(m)&&C("unsigned value cannot be negative","overflow","value",E);var Q=null;z.signed?Q=J.toTwos(z.width).toHexString():(Q=J.toHexString(),Q=u.hexZeroPad(Q,z.width/8));var N=M(J,z.decimals);return new _(A,Q,N,z)},_.fromBytes=function(E,I){I==null&&(I="fixed");var z=B.from(I);if(u.arrayify(E).length>z.width/8)throw new Error("overflow");var J=v.BigNumber.from(E);z.signed&&(J=J.fromTwos(z.width));var Q=J.toTwos((z.signed?0:1)+z.width).toHexString(),N=M(J,z.decimals);return new _(A,Q,N,z)},_.from=function(E,I){if(typeof E=="string")return _.fromString(E,I);if(u.isBytes(E))return _.fromBytes(E,I);try{return _.fromValue(E,0,I)}catch(z){if(z.code!==d.INVALID_ARGUMENT)throw z}return d.throwArgumentError("invalid FixedNumber value","value",E)},_.isFixedNumber=function(E){return!(!E||!E._isFixedNumber)},_}();n.FixedNumber=q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),u=function(){function d(v){if(this._bridge="",this._socket=null,this._queue=[],this._incoming=[],this._pingInterval=null,this._callback=function(){},!v.bridge||typeof v.bridge!="string")throw new Error("Missing or invalid bridge field");if(this._bridge=v.bridge,!v.callback||typeof v.callback!="function")throw new Error("Missing or invalid callback field");this._callback=v.callback}return d.prototype.open=function(v){this._socketOpen(v)},d.prototype.send=function(v){this._socket&&this._socket.readyState===1?this._socketSend(v):this._setToQueue(v)},d.prototype.queue=function(v){this._setToQueue(v)},d.prototype.pushIncoming=function(){this._pushIncoming()},d.prototype.close=function(){this._socket&&this._socket.readyState===1&&(clearInterval(this._pingInterval),this._socket.close())},d.prototype._socketOpen=function(v){var A=this,m=this._bridge,w=m.startsWith("https")?m.replace("https","wss"):m.startsWith("http")?m.replace("http","ws"):m,C=new WebSocket(w);C.onmessage=function(x){return A._socketReceive(x)},C.onopen=function(){A._socket=C,v&&v.length&&v.forEach(function(x){return A._setToQueue(x)}),A._pushQueue(),A._toggleSocketPing()}},d.prototype._toggleSocketPing=function(){var v=this;this._socket&&this._socket.readyState===1?this._pingInterval=setInterval(function(){v._socket&&v._socket.readyState===1&&v._socket.send("ping")},1e4):clearInterval(this._pingInterval)},d.prototype._socketSend=function(v){if(!this._socket)throw new Error("Missing socket: required for sending message");var A=JSON.stringify(v);this._socket&&this._socket.readyState===1?this._socket.send(A):(this._setToQueue(v),this._socketOpen())},d.prototype._socketReceive=function(v){return s.__awaiter(this,void 0,void 0,function(){var A;return s.__generator(this,function(m){if(v.data==="pong")return[2];try{A=JSON.parse(v.data)}catch(w){throw w}return this._socket&&this._socket.readyState===1?this._callback(A):this._incoming.push(A),[2]})})},d.prototype._setToQueue=function(v){this._queue.push(v)},d.prototype._pushQueue=function(){var v=this;this._queue.forEach(function(A){return v._socketSend(A)}),this._queue=[]},d.prototype._pushIncoming=function(){var v=this;this._incoming.forEach(function(A){return v._callback(A)}),this._incoming=[]},d}();n.default=u},function(r,n,i){function s(d){return"error"in d}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function d(){this._eventEmitters=[]}return d.prototype.offAll=function(){this._eventEmitters=[]},d.prototype.subscribe=function(v){this._eventEmitters.push(v)},d.prototype.trigger=function(v){var A,m=[];(A="method"in v?v.method:function(w){return"result"in w}(v)||s(v)?"response:"+v.id:function(w){return"event"in w}(v)?v.event:"")&&(m=this._eventEmitters.filter(function(w){return w.event===A})),m&&m.length||["vc_sessionRequest","vc_sessionUpdate","vc_exchangeKey","session_request","session_update","vc_peerPing","exchange_key","connect","disconnect"].includes(A)||(m=this._eventEmitters.filter(function(w){return w.event==="call_request"})),m.forEach(function(w){if(s(v)){var C={message:v.error.message,code:v.error.code||11e3};w.callback(C,null)}else w.callback(null,v)})},d}();n.default=u},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var s=i(0),u=i(3),d="AES-CBC",v=256,A="SHA-256";function m(B){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(q){switch(q.label){case 0:return[4,window.crypto.subtle.exportKey("raw",B)];case 1:return[2,q.sent()]}})})}function w(B,q){return q===void 0&&(q=d),s.__awaiter(this,void 0,void 0,function(){var _,E;return s.__generator(this,function(I){switch(I.label){case 0:return _=q===d?{length:v,name:d}:{hash:{name:A},name:"HMAC"},E=q===d?["encrypt","decrypt"]:["sign","verify"],[4,window.crypto.subtle.importKey("raw",B,_,!0,E)];case 1:return[2,I.sent()]}})})}function C(B){return s.__awaiter(this,void 0,void 0,function(){var q;return s.__generator(this,function(_){switch(_.label){case 0:return q=B||256,[4,window.crypto.subtle.generateKey({length:q,name:d},!0,["encrypt","decrypt"])];case 1:return[4,m(_.sent())];case 2:return[2,_.sent()]}})})}function x(B,q){return s.__awaiter(this,void 0,void 0,function(){var _;return s.__generator(this,function(E){switch(E.label){case 0:return[4,w(q,"HMAC")];case 1:return _=E.sent(),[4,window.crypto.subtle.sign({length:256,name:"HMAC"},_,B)];case 2:return[2,E.sent()]}})})}function O(B,q){return s.__awaiter(this,void 0,void 0,function(){var _,E,I,z,J,Q;return s.__generator(this,function(N){switch(N.label){case 0:return _=u.convertHexToArrayBuffer(B.data),E=u.convertHexToArrayBuffer(B.iv),I=u.convertHexToArrayBuffer(B.hmac),z=u.convertArrayBufferToHex(I,!0),[4,x(u.concatArrayBuffers(_,E),q)];case 1:return J=N.sent(),Q=u.convertArrayBufferToHex(J,!0),u.removeHexPrefix(z)===u.removeHexPrefix(Q)?[2,!0]:[2,!1]}})})}function M(B,q,_){return s.__awaiter(this,void 0,void 0,function(){var E;return s.__generator(this,function(I){switch(I.label){case 0:return[4,w(q,d)];case 1:return E=I.sent(),[4,window.crypto.subtle.encrypt({iv:_,name:d},E,B)];case 2:return[2,I.sent()]}})})}function R(B,q,_){return s.__awaiter(this,void 0,void 0,function(){var E;return s.__generator(this,function(I){switch(I.label){case 0:return[4,w(q,d)];case 1:return E=I.sent(),[4,window.crypto.subtle.decrypt({iv:_,name:d},E,B)];case 2:return[2,I.sent()]}})})}n.exportKey=m,n.importKey=w,n.generateKey=C,n.createHmac=x,n.verifyHmac=O,n.aesCbcEncrypt=M,n.aesCbcDecrypt=R,n.encrypt=function(B,q){return s.__awaiter(this,void 0,void 0,function(){var _,E,I,z,J,Q,N;return s.__generator(this,function(W){switch(W.label){case 0:if(!q)throw new Error("Missing key: required for encryption");return[4,C(128)];case 1:return _=W.sent(),E=u.convertArrayBufferToHex(_,!0),I=JSON.stringify(B),[4,M(u.convertUtf8ToArrayBuffer(I),q,_)];case 2:return z=W.sent(),J=u.convertArrayBufferToHex(z,!0),[4,x(u.concatArrayBuffers(z,_),q)];case 3:return Q=W.sent(),N=u.convertArrayBufferToHex(Q,!0),[2,{data:J,hmac:N,iv:E}]}})})},n.decrypt=function(B,q){return s.__awaiter(this,void 0,void 0,function(){var _,E,I,z,J;return s.__generator(this,function(Q){switch(Q.label){case 0:if(!q)throw new Error("Missing key: required for decryption");return[4,O(B,q)];case 1:return Q.sent()?(_=u.convertHexToArrayBuffer(B.data),E=u.convertHexToArrayBuffer(B.iv),[4,R(_,q,E)]):[2,null];case 2:I=Q.sent(),z=u.convertArrayBufferToUtf8(I);try{J=JSON.parse(z)}catch(N){throw N}return[2,J]}})})}}])})})(Io);var Xh=no(Io.exports);export{Xh as C,Qh as Q,qn as a,qh as b,Zh as c,Kh as d,Is as e,ne as f,ls as g,Hh as h,Yh as i,Gh as j,zh as o,Ln as r,Wh as v,Jh as w};
